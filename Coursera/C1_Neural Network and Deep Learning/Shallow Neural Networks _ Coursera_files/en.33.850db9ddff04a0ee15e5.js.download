/*! For license information please see 33.850db9ddff04a0ee15e5.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"0Z5F":function(module,e,t){"use strict";var n=t("q1tI"),i=t("pVnL"),o=t.n(i),r=t("3tO9"),a=t.n(r),s=t("QILm"),c=t.n(s),l=t("/MKj"),u=t("mHyk"),d=t("UWlR"),p=t("GD1+"),g=t("FsjB"),h=t("cE3W"),m=["additionalContext","config","courseraContext","variant","onClick","label","message","newSessionOnClick","className","isDisclosureButton"],ExternalCoachAction_ExternalCoachActionContent=function(e){var t=e.additionalContext,i=e.config,r=e.courseraContext,s=e.variant,p=e.onClick,h=e.label,f=e.message,v=e.newSessionOnClick,b=e.className,y=e.isDisclosureButton,C=void 0!==y&&y,S=c()(e,m),k=Object(u.e)(),w=Object(l.c)((function(e){return{isMessageLoading:e.behavior.messageLoader}})).isMessageLoading;return n.createElement(d.d,o()({disabled:w,variant:s,onClick:function(e){v&&(Object(g.d)(),Object(g.b)()),p&&p(e),Object(g.f)({input:{message:null!=f?f:h,additionalContext:t,courseraContext:r,config:i}}),i.coachModeId&&i.coachActionId&&k("interact_coach",a()(a()(a()({coachInteractionType:"click_action",coach:a()({mode:i.coachModeId},C&&{location:"disclosure"})},(null==r?void 0:r.itemId)&&{courseItem:{id:r.itemId}}),(null==r?void 0:r.courseId)&&{product:{type:"course",id:r.courseId}}),{},{coachAction:i.coachActionId}))},className:b},S),h)},ExternalCoachAction_ExternalCoachAction=function(e){return n.createElement(p.a,null,n.createElement(h.a,{value:{data:{mode:e.config.coachModeId||"UNKNOWN_UNDEFINED"}}},n.createElement(ExternalCoachAction_ExternalCoachActionContent,e)))},f=t("8q04");e.a=function(e){var t=e.label,i=e.isDisclosureButton,o=void 0!==i&&i,r=e.isToolbarTrigger,a=void 0!==r&&r,s=e.variant,c=e.config,l=e.courseraContext,u=Object(f.a)(),d=u.setToolSelected,p=u.setExpanded;return n.createElement(ExternalCoachAction_ExternalCoachAction,{isDisclosureButton:o,variant:s,label:t,message:t,config:c,courseraContext:l,onClick:function(){a&&(d("coach"),p(!0))}})}},1:function(module,exports){},"1Gkd":function(module,exports,e){},2:function(module,exports){},"2ljr":function(module,e,t){"use strict";t.d(e,"c",(function(){return getStartTimeForDisplay})),t.d(e,"a",(function(){return getEndTimeForDisplay})),t.d(e,"b",(function(){return getIsOutsideTrimmingRange}));var getStartTimeForDisplay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(e-t,0)},getEndTimeForDisplay=function(e,t){var n=null!=t?t:{},i=n.trimmedStartTimeSeconds,o=n.trimmedEndTimeSeconds,r=void 0===o?0:o;return r?Math.min(e-i,r):e},getIsOutsideTrimmingRange=function(e,t,n){var i=null!=n?n:{},o=i.trimmedStartTimeSeconds,r=void 0===o?0:o,a=i.trimmedEndTimeSeconds;return!!(t&&t<r)||!!(a&&e>a)}},"4nIq":function(module,exports,e){},"4x9Y":function(module,e,t){"use strict";t.d(e,"a",(function(){return handleVideoJsError}));var n=t("3tO9"),i=t.n(n),o=t("agHs");function handleVideoJsError(e,t,n){var r=null==e?void 0:e.error();if(r){var a=r;r instanceof Error||(a=new Error("video.js: ".concat(JSON.stringify(r))));var s=Object.keys(null!=n?n:{}).reduce((function(e,t){return e[t]=JSON.stringify(null==n?void 0:n[t]).slice(0,200),e}),{});o.captureException(a,{tags:i()({source:t,errorType:"media"},s)})}}},"7bkI":function(module,exports){module.exports={name:"leeCoreLexFocusedLex",parameters:[{name:"showLectureSummary",valid:[!0,!1],value:!1}]}},"7ipH":function(module,e,t){"use strict";t.d(e,"a",(function(){return n}));var n=function(e){return e.mouse_movement="mouse_movement",e.key_press="key_press",e.page_scroll="page_scroll",e.video_is_playing="video_is_playing",e}({})},"80dD":function(module,exports,e){var t=e("Ixfw"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},ARDt:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LearningHours_SendEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LearningHours_SendEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventSuccess"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:244}};e.loc.source={body:"mutation LearningHours_SendEvent($input: LearningHours_SendEventInput!) {\n  LearningHours_SendEvent(input: $input) {\n    ... on LearningHours_SendEventSuccess {\n      id\n    }\n    ... on LearningHours_SendEventError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.LearningHours_SendEvent=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=t[n]||new Set,r=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"LearningHours_SendEvent")},CLvh:function(module,exports,e){var t=e("xmJK"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},CdQ7:function(module,exports,e){},"DJ+3":function(module,exports,e){e("1Gkd")},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return formatTime})),t.d(e,"e",(function(){return getTimeFromDuration})),t.d(e,"a",(function(){return buildParagraphs})),t.d(e,"b",(function(){return findCuesAroundTime})),t.d(e,"d",(function(){return getAdjacentCues}));var n=t("wd/R"),i=t.n(n),findCueIndexForTime=function(e,t){return function findCueIndexForTimeHelper(e,t,n,i){if(t>n)return-1;var o=n-Math.floor((n-t)/2);return i<e[o].startTime?findCueIndexForTimeHelper(e,t,o-1,i):o!==e.length-1&&i>=e[o+1].startTime?findCueIndexForTimeHelper(e,o+1,n,i):o}(e,0,e.length-1,t)},formatTime=function(e){var t="m:ss",n=1e3*e;return i.a.duration(n).hours()>0&&(t="h:m"+t),i.a.utc(n).locale("en").format(t)},getTimeFromDuration=function(e){var t=1e3*e,n=i.a.duration(t),o=n.hours(),r=n.minutes();return{seconds:n.seconds(),minutes:r,hours:o}},buildParagraphs=function(e){var t,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];return e.forEach((function(e){n&&(i=e.startTime-n.endTime),(!t||i>=o)&&(t=[],r.push(t)),e.hideForTrimmingRange||t.push(e),n=e})),r.filter((function(e){return e.length>0}))},findCuesAroundTime=function(e,t){var n=e[findCueIndexForTime(e,t)];return n?[n]:[]},getAdjacentCues=function(e,t,n){var i=findCueIndexForTime(e,t);return-1===i&&e.length>2?[0,1,2].map((function(t){return e[t]})):i<0||i>=e.length?[]:"en"===n?function(e,t){for(var n=[],i=e-1;-1!==i;){var o=t[i];if("."===o.text[o.text.length-1])break;n.unshift(i),i-=1}for(var r=e;r<=t.length-1;){var a=t[r];if(n.push(r),"."===a.text[a.text.length-1])break;r+=1}return n}(i,e).map((function(t){return e[t]})):function(e,t){var n=[],i=[];return e>=2&&i.push(e-2),e>=1&&i.push(e-1),e<t-1&&n.push(e+1),e<t-2&&n.push(e+2),[].concat(i,[e],n)}(i,e.length).map((function(t){return e[t]}))}},Ht4C:function(module,exports,e){e("4nIq")},Ixfw:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},JAA1:function(module,e,t){"use strict";var n=t("F/us"),i=t.n(n),o=t("8OJ3"),r=t("cVIm"),a=t("ROEb"),ResolutionsHandler=function(e,t){this.player=e,this.sourcesByResolution=t.sourcesByResolution,this.supportedResolutions=i()(this._knownResolutions).intersection(i()(t.sourcesByResolution).keys()),this.resolution=this.isResolutionSupported(t.resolution)?t.resolution:"540p",this.possibleResolutions=this.supportedResolutions,this.player.on("error",function(){var e=this.player.error();if(e&&4===e.code&&"testing"!==r.a.environment){a.a.error("Attempted to get source for resolution, but server responded with an error");var t=this.getResolution();this.possibleResolutions=i()(this.possibleResolutions).without(t),this.possibleResolutions.length&&this.setResolution(this.possibleResolutions[0])}}.bind(this))};ResolutionsHandler.prototype.getResolution=function(){return this.resolution},ResolutionsHandler.prototype.getSupportedResolutions=function(){return this.supportedResolutions},ResolutionsHandler.prototype.getResolutionIndex=function(){return i()(this.supportedResolutions).indexOf(this.resolution)},ResolutionsHandler.prototype.isResolutionSupported=function(e){return i()(this.supportedResolutions).contains(e)},ResolutionsHandler.prototype.getSourceForResolution=function(e){if(this.isResolutionSupported(e)){var t=i()(this.sourcesByResolution[e]).findWhere({type:"video/mp4"});return t&&t.src}a.a.error("Attempted to get source for unsupported resolution")},ResolutionsHandler.prototype.setResolution=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipSrcLoadingLogic,i=void 0!==n&&n,o=t.forceResolutionChange,r=void 0!==o&&o;if((this.resolution!==e||r)&&this.isResolutionSupported(e)){if(!i){var a=this.player.currentTime(),s=this.player.playbackRate(),c=this.player.paused();this.player.pause(),this.player.one("loadedmetadata",function(){this.player.currentTime(a),this.player.options().playbackRates&&this.player.playbackRate(s),c?this.player.pause():this.player.play()}.bind(this)),this.player.src(this.sourcesByResolution[e])}this.resolution=e,this.player.trigger("resolutionchange")}},ResolutionsHandler.prototype.decreaseResolution=function(){0!==this.supportedResolutions.length&&this.getResolution!==i()(this.supportedResolutions).first()&&this.setResolution(this.supportedResolutions[this.getResolutionIndex()-1])},ResolutionsHandler.prototype.increaseResolution=function(){0!==this.supportedResolutions.length&&this.resolution!==i()(this.supportedResolutions).last()&&this.setResolution(this.supportedResolutions[this.getResolutionIndex()+1])},ResolutionsHandler.prototype._knownResolutions=["240p","360p","540p","720p","1080p"],o.a.registerPlugin("resolutions",(function(e){if(!this.resolutionsHandler_){var t=new ResolutionsHandler(this,e);this.resolutionsHandler_=t,this.resolution=function(e,n){return e?(t.setResolution(e,n),e):t.getResolution()},this.increaseResolution=t.increaseResolution.bind(t),this.decreaseResolution=t.decreaseResolution.bind(t),this.isResolutionSupported=t.isResolutionSupported.bind(t),this.getSupportedResolutions=t.getSupportedResolutions.bind(t),this.getResolutionIndex=t.getResolutionIndex.bind(t),this.getSourceForResolution=t.getSourceForResolution.bind(t)}}))},JqCg:function(module,exports,e){var t=e("nQ+W"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},KjNy:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QueryByEventType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"eventType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LexExperimentEvents_EventType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LexExperimentEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByEventType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"eventType"},value:{kind:"Variable",name:{kind:"Name",value:"eventType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:192}};e.loc.source={body:"query QueryByEventType($eventType: LexExperimentEvents_EventType!) {\n  LexExperimentEvents {\n    queryByEventType(eventType: $eventType) {\n      id\n      eventType\n      createdAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.QueryByEventType=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=t[n]||new Set,r=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"QueryByEventType")},KoCz:function(module,e,t){"use strict";t.d(e,"a",(function(){return ItemPageContextProvider}));var n=t("J4zp"),i=t.n(n),o=t("q1tI"),r=Object(o.createContext)({hasModalOpen:!1,setHasModalOpen:function(e){}});e.b=r;var ItemPageContextProvider=function(e){var t=e.children,n=Object(o.useState)(!1),a=i()(n,2),s=a[0],c=a[1];return o.createElement(r.Provider,{value:{hasModalOpen:s,setHasModalOpen:c}},t)}},MA7l:function(module,e,t){"use strict";function toDecimalSeconds(e){return parseFloat(e.toFixed(3))}function toSeconds(e){return toDecimalSeconds(e/1e3)}function getVideoStartTimeOffsetSeconds(e){return toSeconds(null!=e?e:0)}function getVideoTrimmedDurationSeconds(e,t){return"number"!=typeof e||"number"!=typeof t?null:toSeconds(t-e)}t.d(e,"c",(function(){return toDecimalSeconds})),t.d(e,"d",(function(){return toSeconds})),t.d(e,"a",(function(){return getVideoStartTimeOffsetSeconds})),t.d(e,"b",(function(){return getVideoTrimmedDurationSeconds}))},N8J5:function(module,exports,e){var t=e("NFod"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},NFod:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},OIEB:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},OMAK:function(module,exports){module.exports={name:"siteOnDemandCompletion",parameters:[{name:"assignmentVerificationSessions",value:["XttsmXm4EeWpCwrPNVXTlw","7P0bJnRZEeWgtQq7brjg6Q","IM53RnK_EeWpCwrPNVXTlw","jTosCG7UEeWPJBI9QEQKiQ","NrwvcW7VEeWWpw7gge8ZbQ","N7aolG-BEeWdPxJ-h_8T7w","NtSGgG-BEeWgtQq7brjg6Q","RpHdwHLAEeWXygocDxikNQ","dTeBf3K_EeWpCwrPNVXTlw","_MN8qm7UEeWgtQq7brjg6Q"]},{name:"showPhotoUploadInClassmates",value:!1},{name:"itemVideoDownloadBlacklist",value:["3EPZVpSGEeSb9SIACzCJlg"]},{name:"itemVideoContextMenuDenyList",value:["VNEblfJtEeyFUAphC_7O7w"]}]}},Q64i:function(module,exports,e){var t=e("WXLS"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},"RY+i":function(module,exports,e){e("CdQ7")},RgwD:function(module,e,t){"use strict";t.d(e,"b",(function(){return f})),t.d(e,"a",(function(){return PersistentFullScreen}));var n,i=t("fsL8"),o=t.n(i),r=t("yXPU"),a=t.n(r),s=t("VkAN"),c=t.n(s),l=t("AeFk"),u=t("q1tI"),d="persistent_fullscreen";function waitFor(e,t){return new Promise((function(n){setTimeout((function(){return n(e())}),t)}))}var p,g,h=Object(l.c)(n||(n=c()(["\n  display: flex;\n  align-items: center;\n\n  .vjs-react.video-js {\n    padding: 0 !important;\n    position: relative;\n    height: 100%;\n    margin: 0 auto;\n  }\n"]))),m={isFullScreen:function(){var e=!1,t=document;return t.fullscreenElement?e=!!t.fullscreenElement:t.msFullscreenElement?e=!!t.msFullscreenElement:t.mozFullScreenElement?e=!!t.mozFullScreenElement:t.webkitIsFullScreen&&(e=t.webkitIsFullScreen),e},getFullScreenElement:function(){var e,t=document;return document.fullscreenElement?e=document.fullscreenElement:t.webkitCurrentFullScreenElement?e=t.webkitCurrentFullScreenElement:t.mozFullScreenElement?e=t.mozFullScreenElement:t.msCurrentFullScreenElement&&(e=t.msCurrentFullScreenElement),e},requestFullScreenExit:(g=a()(o()().mark((function _callee(){var e,t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=document).msExitFullscreen){n.next=7;break}return n.next=4,t.msExitFullscreen();case 4:e=n.sent,n.next=26;break;case 7:if(!t.mozExitFullScreen){n.next=13;break}return n.next=10,t.mozExitFullScreen();case 10:e=n.sent,n.next=26;break;case 13:if(!t.webkitExitFullscreen){n.next=19;break}return e=t.webkitExitFullscreen(),n.next=17,waitFor((function(){}),600);case 17:n.next=26;break;case 19:if(!t.exitFullscreen){n.next=25;break}return n.next=22,t.exitFullscreen();case 22:e=n.sent,n.next=26;break;case 25:e="Fullscreen API is not supported";case 26:return n.abrupt("return",e);case 27:case"end":return n.stop()}}),_callee)}))),function(){return g.apply(this,arguments)}),requestFullScreen:(p=a()(o()().mark((function _callee2(e){var t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.msRequestFullscreen){n.next=4;break}t=e.msRequestFullscreen(),n.next=19;break;case 4:if(!e.mozRequestFullScreen){n.next=8;break}t=e.mozRequestFullScreen(),n.next=19;break;case 8:if(!e.webkitRequestFullscreen){n.next=12;break}t=e.webkitRequestFullscreen(),n.next=19;break;case 12:if(!e.requestFullscreen){n.next=18;break}return n.next=15,e.requestFullscreen();case 15:t=n.sent,n.next=19;break;case 18:t="Fullscreen API is not supported";case 19:return n.abrupt("return",t);case 20:case"end":return n.stop()}}),_callee2)}))),function(e){return p.apply(this,arguments)})},f={setFullScreenElRef:function(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{fullScreenEl:e}}))},setOriginalContainerElRef:function(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{originalContainerEl:e}}))},setFullScreenContainerElRef:function(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{fullScreenContainerEl:e}}))},isFullScreen:m.isFullScreen,getfullScreenElement:m.getFullScreenElement,enterFullScreen:function(e){document.dispatchEvent(new CustomEvent("enterPersistentFullScreen",e))},exitFullScreen:function(e){document.dispatchEvent(new CustomEvent("exitPersistentFullScreen",e))}};function PersistentFullScreen(){var e=Object(u.useRef)(null),t=null,n=null,i=!1;function updateFullScreen(i){(function(e){return"detail"in e})(i)&&(i.detail.originalContainerEl&&(t=i.detail.originalContainerEl),i.detail.fullScreenEl&&(n=i.detail.fullScreenEl),e.current&&f.isFullScreen()&&n&&(e.current.firstElementChild===n||(e.current.innerHTML="",e.current.appendChild(n))))}function enterFullScreen(){n&&e.current&&m.requestFullScreen(e.current).then((function(){e.current&&n&&(e.current.innerHTML="",e.current.appendChild(n))})),setTimeout((function(){var e;i=!0,null===(e=n)||void 0===e||e.focus()}),600)}function exitFullScreen(){f.isFullScreen()&&i?m.requestFullScreenExit().then((function(){t&&n&&t.appendChild(n)})):t&&n&&i&&t.appendChild(n),setTimeout((function(){var e;i=!1,null===(e=n)||void 0===e||e.focus()}),600)}function handleChange(e){e.bubbles&&e.isTrusted&&i&&exitFullScreen()}return Object(u.useEffect)((function(){return document.addEventListener("enterPersistentFullScreen",enterFullScreen),document.addEventListener("exitPersistentFullScreen",exitFullScreen),document.addEventListener("updatePersistentFullScreen",updateFullScreen),["fullscreenchange","webkitfullscreenchange"].forEach((function(e){document.addEventListener(e,handleChange)})),function(){document.removeEventListener("enterPersistentFullScreen",enterFullScreen),document.removeEventListener("exitPersistentFullScreen",exitFullScreen),document.removeEventListener("updatePersistentFullScreen",updateFullScreen),["fullscreenchange","webkitfullscreenchange"].forEach((function(e){document.removeEventListener(e,handleChange)}))}})),Object(l.d)("div",{css:h,ref:function(t){e.current=t},id:d,"data-testid":"persistent-fullscreen"})}},"Vwt+":function(module,e,t){"use strict";t.d(e,"d",(function(){return generateJsUriObjCurrentPage})),t.d(e,"c",(function(){return createCustomUrlPromise})),t.d(e,"a",(function(){return convertHmsStringIntoSeconds})),t.d(e,"b",(function(){return convertSecondsIntoHmsString}));var n=t("fw5G"),i=t.n(n),o=t("S+eF"),r=t.n(o),a=t("v6sC"),s=t("uKqt"),generateJsUriObjCurrentPage=function(e){var t=e.location,n=t.protocol,o=t.hostname,r=t.pathname,a=(new i.a).setProtocol(n).setHost(o).setPath(r);return"mock.dev-coursera.org"===o&&a.setPort(9443),a},createCustomUrlPromise=function(e,t){return new Promise((function(n,i){var o=Object(a.a)("",{type:"rest"});r()(o.post("".concat(s.b),{data:{targetUrl:e,customSlug:t||""}})).then((function(e){var t=e&&e.elements&&e.elements[0];n({customShareLink:t&&"https://coursera.org/share/".concat(t.customSlug)})})).catch((function(e){i(e)}))}))},convertHmsStringIntoSeconds=function(e){var t=e.split(":").reverse();return(t[2]&&60*Number(t[2])*60||0)+(t[1]&&60*Number(t[1])||0)+(t[0]&&Number(t[0])||0)},convertSecondsIntoHmsString=function(e){var t="",n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),o=Math.floor(e-3600*n-60*i);return n>0&&(t+=(n<10?"0":"")+n+":"),t+=(i<10?"0":"")+i+":",t+=(o<10?"0":"")+o}},WXLS:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},WkKJ:function(module,e,t){"use strict";var n=t("fsL8"),i=t.n(n),o=t("yXPU"),r=t.n(o),a=t("DzJC"),s=t.n(a),c=t("q1tI"),l=t("3tO9"),u=t.n(l),d=t("6OIj"),p=t("PKC9"),g=t("agHs"),h=t("DU3t"),m=t("80iO"),f=t("djba"),v=t("ARDt"),b=t.n(v),y={mouse_movement:h.L.MouseMovement,key_press:h.L.KeyPress,page_scroll:h.L.PageScroll,video_is_playing:h.L.VideoIsPlaying},C={lecture:h.K.Lecture,supplement:h.K.Reading,quiz:h.K.Quiz,exam:h.K.Quiz,staffGraded:h.K.StaffGraded,phasedPeer:h.K.PeerReview,peer:h.K.PeerReview,teammateReview:h.K.TeammateReview,gradedDiscussionPrompt:h.K.DiscussionPrompt,discussionPrompt:h.K.DiscussionPrompt};function toGraphQl(e){if(e){var t=e.itemTypeName?C[e.itemTypeName]:null;return{itemDetails:{itemId:e.itemId,learnerActivityType:t}}}return{}}var S=3,k=1500,w=500,sleepAsync=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function isGraphQLError(e){var t;return(null===(t=e.graphQLErrors)||void 0===t?void 0:t.length)>0}function logToSentry(e,t){try{g.captureException(e,{tags:{feature:"LearningHours",errorType:t}})}catch(t){console.error("[Learning Hours]: Unable to capture this exception in Sentry",{error:e})}}t.d(e,"a",(function(){return x})),t.d(e,"b",(function(){return useSendSignal})),t.d(e,"c",(function(){return learningHoursSignalsUtil_useSendThrottledSignal}));var x=3e4;function useSendSignal(){var e=function(){var e={mutation:b.a,context:{clientName:"gatewayGql"}},t=Object(d.a)();function sendEventMutation(e,t,n){return _sendEventMutation.apply(this,arguments)}function _sendEventMutation(){return(_sendEventMutation=r()(i()().mark((function _callee2(n,o,r){var a,s,c,l;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=u()(u()({courseId:n.courseId,eventPlatform:h.J.Web,userActionType:y[n.userActionType],durationMilliSeconds:o,eventOs:(new m.a).platform,clientDateTime:r.toISOString(),deviceId:f.a.get().uuid},toGraphQl(null==n?void 0:n.itemData)),{},{courseBranchId:n.courseBranchId}),i.next=3,t.mutate(u()({variables:{input:{heartbeat:s}}},e));case 3:return c=i.sent,l=null===(a=c.data)||void 0===a?void 0:a.LearningHours_SendEvent,i.abrupt("return","LearningHours_SendEventSuccess"===(null==l?void 0:l.__typename));case 6:case"end":return i.stop()}}),_callee2)})))).apply(this,arguments)}function sendEventMutationWithRetry(e,t,n,i){return _sendEventMutationWithRetry.apply(this,arguments)}function _sendEventMutationWithRetry(){return(_sendEventMutationWithRetry=r()(i()().mark((function _callee4(e,t,n,o){var a,s;return i()().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=function(){return(s=r()(i()().mark((function _callee3(r){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(o<S-1)){i.next=6;break}return i.next=3,sleepAsync(Math.pow(2,o)*k+Math.round(Math.random()*w));case 3:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,o+1));case 6:return logToSentry(r,"ALL_RETRIES_FAILED"),i.abrupt("return",!1);case 8:case"end":return i.stop()}}),_callee3)})))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},c.prev=2,c.next=5,sendEventMutation(e,t,n);case 5:return c.abrupt("return",c.sent);case 8:if(c.prev=8,c.t0=c.catch(2),!Object(p.d)(c.t0)){c.next=23;break}if(l=c.t0,u=void 0,d=void 0,0!==(null===(u=l.graphQLErrors)||void 0===u?void 0:u.length)||0!==(null===(d=l.clientErrors)||void 0===d?void 0:d.length)){c.next=15;break}return c.abrupt("return",a(c.t0));case 15:if(!isGraphQLError(c.t0)){c.next=20;break}return logToSentry(c.t0,"GRAPHQL_ERROR"),c.abrupt("return",!1);case 20:return c.abrupt("return",!1);case 21:c.next=25;break;case 23:return logToSentry(c.t0,"UNEXPECTED_CLIENT_ERROR"),c.abrupt("return",!1);case 25:case"end":return c.stop()}var l,u,d}),_callee4,null,[[2,8]])})))).apply(this,arguments)}return(function(){var e=r()(i()().mark((function _callee(e,t,n){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,0));case 1:case"end":return i.stop()}}),_callee)})));return function(t,n,i){return e.apply(this,arguments)}}())}();function _sendSignal(){return(_sendSignal=r()(i()().mark((function _callee(t){var n,o;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.heartbeatData,o=new Date,i.next=4,e(n,x,o);case 4:case"end":return i.stop()}}),_callee)})))).apply(this,arguments)}return function(e){return _sendSignal.apply(this,arguments)}}var learningHoursSignalsUtil_useSendThrottledSignal=function(){var e=useSendSignal();return Object(c.useMemo)((function(){return s()(e,x)}),[])}},Zexf:function(module,e,t){"use strict";var n=t("lSNA"),i=t.n(n),o=t("3tO9"),r=t.n(o),a=t("eCGq"),s=t.n(a),c=t("sQ/U"),getDefaults=function(){return{playbackRate:1,volume:1,subtitleLanguage:"none",autoplay:!1,hlsResolution:"auto",key:"userPreferences",audioLanguage:"none",dubbedSubtitleLanguage:"none"}},l=function(){function UserPreferences(){var e=this;this.ensureAndGetStoredPreferences=function(){var t=e.getStoredPreferences(),n=getDefaults();return t||s.a.set(e.makeStorageKey(),n),e.getStoredPreferences()},this.makeStorageKey=function(){return"".concat(c.a.get().id,".userPreferences")},this.getStoredPreferences=function(){return s.a.get(e.makeStorageKey())}}var e=UserPreferences.prototype;return e.get=function(e){return this.ensureAndGetStoredPreferences()[e]},e.set=function(e,t){var n=this.ensureAndGetStoredPreferences(),o=r()(r()({},n),{},i()({},e,t));s.a.set(this.makeStorageKey(),o)},UserPreferences}();e.a=new l},ct0W:function(module,e,t){"use strict";var n=t("8OJ3"),i=t("Ji/E");e.a=function(){var e,t=n.a.getTech("html5"),o=null==t?void 0:t.TEST_VID;return!(!o||!i.a.browser)&&((e=!!o.textTracks)&&o.textTracks.length>0&&(e="number"!=typeof o.textTracks[0].mode),!e||"onremovetrack"in o.textTracks||(e=!1),e)}},fsNN:function(module,e,t){"use strict";var n=t("MnCE"),i=t("l1ss"),o=t("Vwt+");e.a=function(){return Object(n.b)(i.a,Object(n.f)({componentDidMount:function(){var e=this,t=this.props,n=t.targetShareLink;t.useCustomUrl&&"mock.dev-coursera.org"!==window.location.hostname&&Object(o.c)(n).then((function(t){var n=t.customShareLink;e.setState({customShareLink:n})}))}}))}},iR3l:function(module,exports,e){var t=e("rO66"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},jkGH:function(module,e,t){"use strict";t.r(e);var n,i=t("S+eF"),o=t.n(i),r=t("v6sC"),a=t("zXDh"),s=t("nkpE"),c=t("KMW/"),l=t("OMAK"),u=t.n(l);null===(n=c.a.addDefaults)||void 0===n||n.call(c.a,[u.a]);var d={get:function(e,t){return c.a.get("siteOnDemandCompletion",e,t)},preview:function(e,t,n){return c.a.preview("siteOnDemandCompletion",e,t)}},p=t("fw5G"),g=t.n(p),h=t("TSOT"),m=Object(h.a)("/api/onDemandLectureAssets.v1",{type:"rest"}),f={getLectureAssets:function(e,t){var n=new g.a("".concat(e,"~").concat(t)).addQueryParam("includes","openCourseAssets");return o()(m.get(n.toString()))}},v=f,b={videoEndPercentage:.9,videoStartPlaybackDelay:3,playbackRates:[.75,1,1.25,1.5,1.75,2]},y=b.videoEndPercentage,C=b.videoStartPlaybackDelay,S=b.playbackRates,k=-1,w="none",x=["CN","IN"],O=[.75,1,1.25,1.5,1.75,2],T=t("JqCg"),j=t.n(T),downloadsDropdownUtils_getLanguageCode=function(e,t,n){var i=e&&e.get("course"),o=i&&i.get("course.primaryLanguageCodes"),r=o&&o[0]||"en",s=t&&t.currentTrack();if(s)r=s.language;else{var c=Object(a.getLanguageCode)();if(n)!!n.getCaptionForLanguage(c)&&(r=c)}return r},downloadsDropdownUtils_fetchLectureAssets=function(e){var t=Object(r.a)("",{type:"rest"});return new o.a.Promise((function(n,i){o()(v.getLectureAssets(e.get("course").get("id"),e.get("id"))).then((function(e){o.a.all(e.linked["openCourseAssets.v1"].map((function(e){return o()(t.get("/api/openCourseAssets.v1/"+(n=e.id,i=n,(r=n.indexOf("@"))>=0&&(i=n.substring(0,r)),i)));var n,i,r}))).then((function(e){return o.a.all(e.map((function(e){var n=e.elements[0];if(!n)return!1;var i=n.typeName;if("url"===i){var r=n.definition,a=r.url,s=r.name;return o()().then((function(){return{typeName:i,url:a,itemName:s,fileType:j()("Link")}}))}var c=n.definition.assetId;return o()(t.get("api/assets.v1/".concat(c),{data:{fields:"fileExtension"}})).then((function(e){var t=e.elements[0],o=t.url.url,r=t.name,a=t.fileExtension,s=n.definition.name||r;return{typeName:i,url:o,itemName:s,fileType:a}}))}))).then((function(e){n(e)}))}))}))}))},downloadsDropdownUtils_isContextMenuEnabled=function(e){return!Object(s.a)(d.get("itemVideoContextMenuDenyList"),e)},E=["240p","360p","540p","720p","1080p"];function getResolutionRange(e){var t=[],n=function(e){for(var t=0;t<E.length;t++)if(e.getSourcesForResolution(E[t]))return E[t]}(e),i=function(e){for(var t=E.length-1;t>=0;t--)if(e.getSourcesForResolution(E[t]))return E[t]}(e);return n&&t.push(n),i&&n!==i&&t.push(i),t}var P=t("MnCE"),I=t("L1vm"),V=t("pVnL"),L=t.n(V),M=t("fsL8"),R=t.n(M),N=t("yXPU"),D=t.n(N),F=t("3tO9"),H=t.n(F),A=t("J4zp"),B=t.n(A),z=t("VkAN"),U=t.n(z),Q=t("E+oP"),K=t.n(Q),q=t("AeFk"),W=t("q1tI"),Z=t.n(W),G=t("aqT/"),J=t.n(G),Y=t("DU3t"),X=t("17x9"),ee=t.n(X),te=t("8cuT"),ne=t("sQ/U"),ie=t("FdHa"),oe=t("gksZ"),re=t("6/Gu"),ae=t("8Hdl"),se=t("l1rq"),ce=t("lPk7"),le=t("15pW"),ue=Object(W.createContext)({shouldDisableSkippingForward:!1,onVideoPlayedToEnd:function(){},learnerMaxVideoProgressInSeconds:0,setLearnerMaxVideoProgressInSeconds:function(){},checkLearnerVideoProgress:function(){},showVideoSkippingDisabledNotification:!1,setShowVideoSkippingDisabledNotification:function(){}}),LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext=function(){return Object(W.useContext)(ue)},LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider=function(e){var t=e.children,n=Object(W.useState)(!1),i=B()(n,2),o=i[0],r=i[1],a=Object(W.useState)(0),s=B()(a,2),c=s[0],l=s[1],u=Object(W.useState)(!1),d=B()(u,2),p=d[0],g=d[1];return W.createElement(ue.Provider,{value:{shouldDisableSkippingForward:o,onVideoPlayedToEnd:function(){r(!1)},learnerMaxVideoProgressInSeconds:c,setLearnerMaxVideoProgressInSeconds:l,checkLearnerVideoProgress:function(e,t){e!==le.f&&e!==le.g||!t||r(!0)},showVideoSkippingDisabledNotification:p,setShowVideoSkippingDisabledNotification:g}},t)},de=t("UWlR"),pe=t("vUey"),ge=t("TCdk"),he=t("BsWy"),me=t("0Z5F"),fe=t("joWv"),ve=t("6Dos"),be=t("IWWe"),ye=t("YmkS"),Ce=t("ingZ"),Se=t("qJwm"),ke=t("1lFr"),we=t("RgwD"),xe=t("0emD"),Oe=t("Puqe"),Te=t.n(Oe),je=t("wig9"),Ee=t.n(je),Pe=t("3WF5"),Ie=t.n(Pe),Ve=t("k4Da"),_e=t.n(Ve),Le=t("xweI"),Me=t.n(Le),Re=t("agHs"),Ne=t("8OJ3"),De=t("2ljr"),models_Cue=function(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;this.id=e,this.index=t,this.startTime=i,this.endTime=o,this.text=n.replace("<br/>"," ").replace("\n"," ").replace(/^\.$/,"").replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})),this.startTimeForDisplay=Object(De.c)(this.startTime,r),this.hideForTrimmingRange=Object(De.b)(this.startTime,this.endTime,{trimmedStartTimeSeconds:r,trimmedEndTimeSeconds:a})},Fe=function(){function Track(e,t,n){this.languageCode=e,this.label=t,this.url=n,this.sourceContent=null,this.cues=[],this.isLoaded=!1}return Track.prototype.getTextTranscript=function(){return this.cues.map((function(e){return e.text})).join(" ")},Track}(),propertyComparator=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},He=function(){function TrackList(e){this.tracks=e.slice(),this.tracks.sort(propertyComparator("label"))}var e=TrackList.prototype;return e.toArray=function(){return this.tracks},e.getFromLanguageCode=function(e){return this.tracks.find((function(t){return t.languageCode===e}))},TrackList}(),Ae={set:function(e,t){return be.a.setItem("InteractiveTranscript:"+e,t,String)},get:function(e){return be.a.getItem("InteractiveTranscript:"+e,String,void 0)}};function ParserError(e,t){this.message=e,this.error=t}ParserError.prototype=Object.create(Error.prototype);var Be=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{3})/;function parse(e){if("string"!=typeof e)throw new ParserError("Input must be a string");var t=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),n=t.shift();if(!n.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');var i=n.split("\n");if(0===t.length&&1===i.length)return{valid:!0};if(i.length>1&&""!==i[1])throw new ParserError("No blank line after signature");return{valid:!0,cues:function(e){return e.map(parseCue)}(t)}}function parseCue(e,t){var n="",i=0,o=0,r="",a=e.split("\n").filter(Boolean);if(1===a.length&&!a[0].includes("--\x3e"))throw new ParserError("Cue identifier cannot be standalone (cue #".concat(t,")"));if(a.length>1&&!a[0].includes("--\x3e")&&!a[1].includes("--\x3e"))throw new ParserError("Cue identifier needs to be followed by timestamp (cue #".concat(t,")"));if(a.length>1&&a[1].includes("--\x3e")&&(n=a.shift()),a.length>0&&a[0].includes("--\x3e")){var s=a[0].split(" --\x3e ");if(2!==s.length||!validTimestamp(s[0])||!validTimestamp(s[1]))throw new ParserError("Invalid cue timestamp (cue #".concat(t,")"));if((i=parseTimestamp(s[0]))>(o=parseTimestamp(s[1])))throw new ParserError("Start timestamp greater than end (cue #".concat(t,")"));if(o<i)throw new ParserError("End must be greater or equal than start (cue #".concat(t,")"));r=s[1].replace(Be,"").trim(),a.shift()}return{identifier:n,start:i,end:o,text:a.join("\n"),styles:r}}function validTimestamp(e){return Be.test(e)}function parseTimestamp(e){var t=e.match(Be),n=parseFloat(t[3]);return n+=60*parseFloat(t[2]),n+=60*parseFloat(t[1]||0)*60}var ze=t("erQL"),TrackUtils_loadTrack=function(e,t,n,i){if(e.isLoaded&&!i)return o()(e);var a=Object(r.a)("",{type:"rest"});return o()(a.get(e.url)).then((function(i){var o=e;o.sourceContent=i,o.isLoaded=!0;var r=[];try{r=function(e){if(ze.a)return parse(e).cues;var t=[],n=new WebVTT.Parser(window,window.vttjs,new WebVTT.StringDecoder);return n.oncue=function(e){return t.push(e)},n.onparsingerror=function(e){throw new Error("Error parsing track: "+e)},n.parse(e),n.flush(),t}(o.sourceContent)}catch(t){Re.captureException("cannot parse cues",{extra:{track:e,error:t}})}return o.cues=Me()(_e()(Ie()(Ee()(r),(function(e,i){return ze.a?new models_Cue(e.identifier,i,e.text,e.start,e.end,t,n):new models_Cue(e.id,i,e.text,e.startTime,e.endTime,t,n)})),(function(e){return!!e.text.trim()})),"index"),o})).catch((function(e,t,n){throw new Error("Error loading track. Error: ".concat(n,"; status: ").concat(t,"; response text: ").concat(JSON.stringify(e)))}))},TrackUtils_buildTracks=function(e){var t=[],n=Te()(e,"__typename");return Object.keys(n).forEach((function(n){var i=e[n];t.push(new Fe(n,i.label,i.url))})),new He(t)},TrackUtils_getDefaultTrack=function(e,t){return!ze.a&&e.getFromLanguageCode(Ae.get("language-code"))||e.getFromLanguageCode(t)||e.getFromLanguageCode("en")||e.toArray()[0]},Ue=t("mqQf"),Qe=t("wC8J"),Ke=t("sAJn"),qe=t("U5zp"),We=t("uEzg"),Ze=t("gNwb"),Ge=t("RIqP"),Je=t.n(Ge),Ye=t("TSYQ"),Xe=t.n(Ye),$e=t("al67"),HighlightCapturePreview_style=function(e){return Object(q.c)({bottom:"10px",right:"10px",padding:"5px",zIndex:1999,position:"fixed",background:"white",transition:"1s",boxShadow:"-1px 0px 20px -1px rgba(204,204,204,1)",img:{width:"280px"},opacity:e?"1":"0",visibility:e?"visible":"hidden"})},cds_HighlightCapturePreview=function(e){var t=e.show,n=e.highlight,i=e.onClick;return Object(q.d)("div",{tabIndex:0,role:"button",onClick:i,onKeyPress:function(e){return Object($e.a)(e,i)},className:Xe()("rc-HighlightCapturePreview",{show:t}),css:HighlightCapturePreview_style(t)},n&&Object(q.d)("img",{alt:n.transcriptText,src:n.snapshotDataUrl}))},et=t("BxDD"),tt=t("TOZ3"),nt=t("CsdX"),it=t("WlCh"),ot=t("Ne6o"),rt=t.n(ot),at=Object(Ze.b)({type:"BUTTON"})(et.a),cds_HighlightSidebarTogglePanel=function(e){var t=e.active,n=e.onToggleClick;return(Z.a.createElement(tt.b,{rootClassName:"rc-HighlightSidebarTogglePanel",justifyContent:"start",alignItems:"center",flexDirection:"column"},Z.a.createElement(at,{trackingName:"toggle_highlight_panel",trackingData:{currentlyActive:t},rootClassName:Xe()("notes-tool-button",{active:t}),onClick:n,htmlAttributes:{"aria-label":rt()("Toggle Notes Panel"),"aria-expanded":t},size:"zero",type:"icon",svgElement:Z.a.createElement(it.a,{color:nt.b.black,hoverColor:nt.b.black,size:20,suppressTitle:!0})})))},st=t("VbXa"),ct=t.n(st),setUIPanelVisibilityPreference=function(e,t){e.dispatch("setHighlightingUIPanelVisibilityPreference",t)},setUIPanelEnabled=function(e,t){e.dispatch("setHighlightingUIPanelEnabled",t)},setHighlightsCount=function(e,t){e.dispatch("setHighlightsCount",t)},highlightingUIPreferenceUtils_getUIPanelVisibilityPreference=function(e){return Object(P.b)(Object(te.a)(["HighlightingUIPanelVisibilityPreferenceStore"],(function(e){var t=e.HighlightingUIPanelVisibilityPreferenceStore;return{expanded:t.getUIPanelVisibilityPreference(),highlightsCount:t.getHighlightsCount()}})))(e)},lt=function(e){function VideoHighlightSidebar(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).toggleExpansion=function(){var e=t.props.expanded;(0,t.context.executeAction)(setUIPanelVisibilityPreference,!e)},t}return ct()(VideoHighlightSidebar,e),VideoHighlightSidebar.prototype.render=function(){var e=this.props,t=e.loading,n=e.expanded,i=e.videoPlayer,o=e.highlights,r=e.notificationAnnouncement,a=e.onDelete,s=e.onUpdate,c=Xe()("rc-VideoHighlightSidebar",{expanded:n});return Z.a.createElement(tt.b,{rootClassName:c,flexDirection:"row",justifyContent:"start",alignItems:"stretch"},Z.a.createElement(cds_HighlightSidebarTogglePanel,{active:n,onToggleClick:this.toggleExpansion}),Z.a.createElement(ln,{loading:t,videoPlayer:i,highlights:o,notificationAnnouncement:r,onDelete:a,onUpdate:s}))},VideoHighlightSidebar}(Z.a.Component);lt.contextTypes={executeAction:ee.a.func.isRequired};highlightingUIPreferenceUtils_getUIPanelVisibilityPreference(lt);var ut=t("Gok7"),dt=t("cDf5"),pt=t.n(dt),gt=t("Z3v1"),ht=t("F9YM"),cds_HighlightButtonLabel=function(e){var t,n=e.startText,i=e.highlight,o=e.id,r=i.noteStartTs,a=i.noteEndTs,s=i.captureTs;if(r&&a){var c=Object(ht.e)(r),l=Object(ht.e)(a);t=W.createElement(ae.a,{component:gt.FormattedMessage,message:rt()("{startText} from {fromHr} hours {fromMin} minutes {fromSec} seconds until {toHr} hours {toMin} minutes {toSec} seconds"),fromSec:c.seconds||"0",fromMin:c.minutes||"0",fromHr:c.hours||"0",toSec:l.seconds||"0",toMin:l.minutes||"0",toHr:l.hours||"0",startText:n})}else{var u=Object(ht.e)(s);t=W.createElement(ae.a,{component:gt.FormattedMessage,message:rt()("{startText} for {hours} hours {minutes} minutes {seconds} seconds"),hours:u.hours||"0",minutes:u.minutes||"0",seconds:u.seconds||"0",startText:n})}return(W.createElement(se.a,{component:"span",id:o,className:"sr-only"},t))},mt=t("ZJgU"),ft=t("kgYC"),vt=t("7NrJ"),bt=Object(Ze.b)({type:"BUTTON"})(mt.a);function HighlightDeleteButton(e){var t,n=Object(W.useState)(!1),i=B()(n,2),o=i[0],r=i[1],a=e.disabled,s=e.highlight,c=e.onDelete,l=(Object(ft.a)(),Object(W.useRef)(null)),u=Object(W.useRef)(null),d=Object(I.c)();return Object(W.useEffect)((function(){o&&null!=l&&l.current&&l.current.focus()}),[o]),Object(q.d)("div",null,!o&&Object(q.d)(bt,{size:"small",_refAltAsTrueRef:u,variant:"ghost",disabled:a,onClick:function(){r(!0)},trackingName:"delete_highlight_pre","aria-label":rt()("Delete note #{noteText}",{noteText:null==s?void 0:null===(t=s.noteText)||void 0===t?void 0:t.substr(0,50)})},rt()("Delete")),o&&Object(q.d)(re.a,{container:!0,className:"HighlightDeleteButton_confirmation_controls",css:Object(q.c)({gap:"var(--cds-spacing-200)"})},Object(q.d)(re.a,{item:!0,"aria-live":"assertive"},Object(q.d)(se.a,{component:"div",className:"highlight-delete-btn-confirm",css:Object(q.c)({lineHeight:"36px",margin:"0 0 0 var(--cds-spacing-100)"}),id:"delete-note"},rt()("Delete Note?"))),Object(q.d)(vt.a,{"aria-labelledby":"delete-note",size:"small",primaryButtonProps:{children:rt()("Delete"),onClick:function(){d({trackingName:"delete_highlight",action:"click",trackingData:{}}),r(!1),c()},ref:l},alternateButtonProps:{children:rt()("Cancel"),variant:"secondary",onClick:function(){d({trackingName:"cancel_delete_highlight",action:"click",trackingData:{}}),r(!1)}}})))}bt.displayName="TrackedButton",HighlightDeleteButton.displayName="HighlightDeleteButton";var yt=HighlightDeleteButton,cds_HighlightEditButton=function(e){var t=e.disabled,n=e.onClick,i=e.ariaLabelledBy,o=e.hasComment,r=e.forwardRef,a=o?rt()("Edit your thoughts"):rt()("Add your thoughts");return Z.a.createElement(mt.a,{ref:r,variant:"ghost",onClick:n,size:"small",disabled:t,"aria-labelledby":i,onKeyPress:function(e){return Object($e.a)(e,n)}},a)},Ct=t("o5PN"),St=t("SJ7i"),kt=Object(Ze.b)({type:"BUTTON"})(mt.a);kt.displayName="TrackedButton";var wt,xt,Ot,Tt,HighlightNoteEditor_styles=function(e){return Object(q.c)({".note-textarea":{width:"100%",color:"#555",resize:"none",padding:"10px",fontSize:"14px",border:"1px solid var(--cds-color-grey-975)",borderRadius:4},"&:focus":{outline:"1px solid #ccc"}})},jt=function(e){function HighlightNoteEditor(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.state.noteText;(0,n.props.onSave)(e)},n.handleChange=function(e){n.setState({noteText:e.target.value})},n.state={noteText:t.initialNoteText},n.textarea=null,n.setTextareaRef=function(e){n.textarea=e,n.props.forwardRef&&(n.props.forwardRef.current=e)},n}ct()(HighlightNoteEditor,e);var t=HighlightNoteEditor.prototype;return t.componentDidMount=function(){this.textarea&&this.textarea.focus()},t.render=function(){var e,t,n=this.state.noteText,i=this.props,o=i.highlight,r=i.initialNoteText,a=i.onCancel,s=i.ariaLabelledBy,c=n===r||n.length>1e3,l=Object(ht.e)(null!==(e=null==o?void 0:o.noteStartTs)&&void 0!==e?e:0),u=Object(ht.e)(null!==(t=null==o?void 0:o.noteEndTs)&&void 0!==t?t:0),d=rt()('Save your thoughts for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==o?void 0:o.transcriptText,startHour:l.hours,startMinute:l.minutes,startSecond:l.seconds,endHour:u.hours,endMinute:u.minutes,endSecond:u.seconds}),p=rt()('Cancel changes for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==o?void 0:o.transcriptText,startHour:l.hours,startMinute:l.minutes,startSecond:l.seconds,endHour:u.hours,endMinute:u.minutes,endSecond:u.seconds});return Object(q.d)("div",{className:"rc-HighlightNoteEditor",css:HighlightNoteEditor_styles,"data-testid":"highlight-note-editor"},Object(q.d)(se.a,{component:"label",variant:"bodySecondary",htmlFor:"note-text"},rt()("Add your thoughts")),Object(q.d)(Ct.a,{id:"note-text",name:"note-text",minRows:1,maxRows:20,value:n,className:"note-textarea","aria-labelledby":s,onChange:this.handleChange,inputRef:this.setTextareaRef}),Object(q.d)(re.a,{container:!0,justifyContent:"flex-start",css:Object(q.c)({gap:this.props.theme.spacing(16)})},Object(q.d)(re.a,{item:!0},Object(q.d)(kt,{type:"button",size:"small","aria-label":d,disabled:c,onClick:this.handleSave,trackingName:"edit_highlight"},rt()("Save"))),Object(q.d)(re.a,null,Object(q.d)(kt,{type:"button",size:"small","aria-label":p,variant:"secondary",onClick:a,trackingName:"cancel_edit_highlight"},rt()("Cancel")))))},HighlightNoteEditor}(W.Component),Et=Object(St.a)(jt),Pt=t("Ya7m"),It=t("sVmg"),Vt=t("IDuc"),_t={trimmedStartTimeSeconds:0,trimmedDurationSeconds:null,trimmedEndTimeSeconds:null},Lt=Object(W.createContext)(_t),VideoTrimmingContext_VideoTrimmingContextProvider=function(e){var t=e.trimmedStartTimeSeconds,n=e.trimmedDurationSeconds,i=e.children,o=Object(W.useMemo)((function(){return n?t+n:null}),[n,t]);return W.createElement(Lt.Provider,{value:{trimmedStartTimeSeconds:t,trimmedDurationSeconds:n,trimmedEndTimeSeconds:o}},i)},VideoTrimmingContext_useVideoTrimmingContext=function(){var e=Object(W.useContext)(Lt);return e||_t},HighlightPlayButton_HighlightPlayButton=function(e){var t,n=e.highlight,i=e.onClick,o=e.playing,r=function(e){var t=e.noteStartTs,n=e.noteEndTs,i=e.captureTs,o=VideoTrimmingContext_useVideoTrimmingContext(),r=o.trimmedStartTimeSeconds,a=o.trimmedEndTimeSeconds;return{noteStartTs:Object(W.useMemo)((function(){return r?Object(De.c)(t,r):t}),[t,r]),noteEndTs:Object(W.useMemo)((function(){return n&&a?Object(De.a)(n,{trimmedStartTimeSeconds:r,trimmedEndTimeSeconds:a}):n}),[n,a,r]),captureTs:Object(W.useMemo)((function(){return a?i<r?r:i>a?a:i+r:i}),[i,a,r])}}(n),a=r.noteStartTs,s=r.noteEndTs,c=r.captureTs;return t="number"==typeof a&&"number"==typeof s?o?rt()("Pause video clip #{startTime} - #{endTime}",{startTime:Object(ht.c)(a),endTime:Object(ht.c)(s)}):rt()("Play video clip #{startTime} - #{endTime}",{startTime:Object(ht.c)(a),endTime:Object(ht.c)(s)}):o?rt()("Pause video clip #{startTime}",{startTime:Object(ht.c)(c)}):rt()("Play video clip #{startTime}",{startTime:Object(ht.c)(c)}),Object(q.d)(mt.a,{type:"button",variant:"ghost",size:"small",component:Vt.a,onClick:i,trackingName:"highlight_timestamp","aria-label":t,"aria-live":"off",icon:o?wt||(wt=Object(q.d)(Pt.a,{size:"medium"})):xt||(xt=Object(q.d)(It.a,{size:"medium"})),iconPosition:"before",css:Object(q.c)({marginLeft:"-16px"})},t)},Mt=HighlightPlayButton_HighlightPlayButton;HighlightPlayButton_HighlightPlayButton.displayName="HighlightPlayButton";var Rt,Nt,Dt,Ft,Ht={highlightButton:Object(q.c)(Ot||(Ot=U()(["\n    margin: 0 0 var(--cds-spacing-200) 0;\n    background: none;\n    border: 0;\n    width: 120px;\n    text-align: left;\n    padding: 0;\n  "]))),videoThumbnail:Object(q.c)(Tt||(Tt=U()(["\n    max-width: 120px;\n    max-height: 80px;\n  "])))},cds_HighlightSnapshot=function(e){var t=e.highlight,n=e.onClick,i=e.playing,o=t.snapshotDataUrl,r=t.snapshotUrl,a=t.noteStartTs,s=t.captureTs,c=r||o;if(!c)return null;var l=Object(q.d)("img",{alt:rt()("Video thumbnail"),src:c,css:Ht.videoThumbnail});return n?Object(q.d)(Vt.a,{trackingName:"highlight_snapshot",type:"button",className:"rc-HighlightSnapshot",onClick:n,"aria-labelledby":"snapshot-btn-label-".concat(a||s),css:Ht.highlightButton},Object(q.d)(cds_HighlightButtonLabel,{id:"snapshot-btn-label-".concat(a||s),startText:i?rt()("Pause video for highlight marked"):rt()("Play video for highlight marked"),highlight:t}),l):Object(q.d)("div",{css:Ht.highlightButton},l)},At=t("sOkY"),cds_HighlightTranscript=function(e){var t=e.highlight,n=e.onClick,i=e.playing,o=t.snapshotUrl,r=t.snapshotDataUrl,a=t.transcriptText,s=t.noteStartTs,c=t.captureTs;if(!a)return null;var l=o||r?300:500,u=a.length>l?"".concat(a.substring(0,l),"..."):a;return n?Z.a.createElement(ae.a,{component:At.a,role:"button",tabIndex:0,onClick:n,className:"rc-HighlightTranscript",trackingName:"highlight_transcript",onKeyPress:function(e){return Object($e.a)(e,n)},"aria-labelledby":"transcript-btn-label-".concat(s||c)},Z.a.createElement(cds_HighlightButtonLabel,{id:"transcript-btn-label-".concat(s||c),startText:i?rt()("Pause video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:u}):rt()("Play video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:u}),highlight:t}),u):Z.a.createElement(ae.a,{component:At.a,trackingName:"highlight_transcript"},u)},Bt={container:Object(q.c)(Rt||(Rt=U()(["\n    margin: var(--cds-spacing-300) 0;\n    padding: 0 0 var(--cds-spacing-200) 0;\n  "]))),highlightBody:Object(q.c)(Nt||(Nt=U()(["\n    margin: var(--cds-spacing-200) 0 var(--cds-spacing-100) 0;\n  "]))),highlightStatus:Object(q.c)(Dt||(Dt=U()(["\n    margin-left: var(--cds-spacing-200);\n  "]))),editingControls:Object(q.c)(Ft||(Ft=U()(["\n    margin-left: -8px;\n    margin-top: var(--cds-spacing-100);\n  "])))},nextTickExecute=function(e){setTimeout(e,0)},Highlight_Highlight=function(e){var t=e.highlight,n=e.highlight,i=n.id,o=n.pendingCreate,r=n.pendingUpdate,a=n.noteStartTs,s=n.captureTs,c=e.onDelete,l=e.currentHighlight,u=e.onSetCurrentHighlight,d=e.videoPlayer,p=e.onUpdate,g=e.forwardRef,h=Object(W.useState)(t.noteText),m=B()(h,2),f=m[0],v=m[1],b=Object(W.useState)(!1),y=B()(b,2),C=y[0],S=y[1],k=Object(W.useState)(!1),w=B()(k,2),x=w[0],O=w[1],T=Object(W.useState)(!1),j=B()(T,2),E=j[0],P=j[1],I=Object(W.useState)(null),V=B()(I,2),L=V[0],M=V[1],N=Object(W.useState)(null),F=B()(N,2),A=F[0],z=F[1],U=Object(W.useRef)(null),Q=Object(W.useRef)(null),K=Object(W.useRef)(null),Z=Object(W.useRef)(null),G=Object(W.useState)(""),J=B()(G,2),Y=J[0],X=J[1],ee=function(e){var t=VideoTrimmingContext_useVideoTrimmingContext(),n=t.trimmedStartTimeSeconds,i=t.trimmedEndTimeSeconds;return Object(W.useMemo)((function(){return Object(De.b)(e.noteStartTs,e.noteEndTs,{trimmedStartTimeSeconds:n,trimmedEndTimeSeconds:i})}),[e.noteStartTs,e.noteEndTs,n,i])}(t),focusOnNextFocusableElement=function(){var e=U.current;if(e){var t=Array.from(e.querySelectorAll('a[href], area[href], input:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]'));t.length>0&&t[0].focus()}},focusEditButton=function(){var e;null==Q||null===(e=Q.current)||void 0===e||e.focus(),X("")},focusInput=function(){var e;null==K||null===(e=K.current)||void 0===e||e.focus()},handlePause=function(){P(!1)},handleToggle=function(){u(i),a?d.currentTime(a):d.currentTime(s),d.paused()||!E?(d.play(),P(!0)):(d.pause(),P(!1))},te=function(){var e=D()(R()().mark((function _callee(e){return R()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(e),O(!1),n.next=4,p(H()(H()({},t),{},{noteText:e}));case 4:i=void 0,null==Z||null===(i=Z.current)||void 0===i||i.focus(),X(rt()("Your thoughts have been saved")),setTimeout(focusEditButton,1500);case 7:case"end":return n.stop()}var i}),_callee)})));return function(t){return e.apply(this,arguments)}}();Object(W.useEffect)((function(){var e,n;if(C&&(null==U||null===(e=U.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e),("undefined"==typeof window||pt()(window))&&window.setTimeout)){var i=window.setTimeout((function(){S(!1),M(null)}),2e3);M(i)}t&&z(function(e){if(null!=e&&e.id)return e.id.split("~").length,e.id}(t)||null)}),[C,U,t]),Object(W.useEffect)((function(){return function(){d.off("pause",handlePause),L&&clearTimeout(L)}}),[A,t,U,L,u,d]),Object(W.useEffect)((function(){l&&t.id!==l&&handlePause()}),[t,l]);var ne=rt()("#{action} your thoughts#{noteText} for the note marked",{noteText:f?", ".concat(f,","):"",action:f?rt()("Edit"):rt()("Add")});Object(W.useEffect)((function(){l&&t.id===l&&nextTickExecute(focusOnNextFocusableElement)}),[l,t.id]);var ie="edit-btn-label-".concat(null==t?void 0:t.id);return Object(q.d)(re.a,{container:!0,item:!0,spacing:12,ref:U,css:Bt.container,xs:12,"data-testid":"highlight"},Object(q.d)(re.a,{ref:g,item:!0,justifyContent:"flex-start",alignItems:"center",sm:3},Object(q.d)(cds_HighlightSnapshot,{highlight:t,onClick:ee?null:handleToggle,playing:E})),Object(q.d)(re.a,{container:!0,item:!0,direction:"row",wrap:"wrap",sm:9},Object(q.d)(re.a,{item:!0,justifyContent:"flex-start",alignItems:"center"},ee?Object(q.d)(se.a,{variant:"bodySecondary",component:"div"},rt()("Timestamp unavailable as this portion of the video has been removed.")):Object(q.d)(Mt,{highlight:t,onClick:handleToggle,playing:E}),Object(q.d)(se.a,{component:"span",className:"highlight-status",css:ee?{}:Bt.highlightStatus,"aria-live":"assertive",role:"alert",ref:Z,tabIndex:-1},Y)),Object(q.d)(re.a,{item:!0,justifyContent:"flex-start",alignItems:"flex-start",css:Bt.highlightBody,xs:12},Object(q.d)(cds_HighlightTranscript,{highlight:t,onClick:ee?null:handleToggle,playing:E})),f&&Object(q.d)(re.a,{item:!0,className:"highlight-note"},Object(q.d)(se.a,{component:"h3",variant:"subtitleMedium"},rt()("Your note")),Object(q.d)(se.a,{component:"p"},f)),Object(q.d)(re.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Bt.editingControls,!x&&{display:"none"}]},Object(q.d)(re.a,{item:!0,xs:12,sm:8,md:6},Object(q.d)(Et,{forwardRef:K,highlight:t,initialNoteText:f,onSave:te,onCancel:function(){O(!1),nextTickExecute(focusEditButton)},ariaLabelledBy:ie}))),Object(q.d)(re.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Bt.editingControls,{"div:nth-child(2)":{margin:"0 var(--cds-spacing-200)"}}]},Object(q.d)(re.a,{item:!0,css:[x&&{display:"none"}]},Object(q.d)(cds_HighlightEditButton,{forwardRef:Q,onClick:function(){O(!0),nextTickExecute(focusInput)},ariaLabelledBy:ie,hasComment:!!f,disabled:o||r})),Object(q.d)(re.a,{item:!0},Object(q.d)(yt,{onDelete:function(){return c(t.id)},disabled:o||r,highlight:t})))),Object(q.d)(cds_HighlightButtonLabel,{id:ie,startText:ne,highlight:t}))};Highlight_Highlight.displayName="Highlight";var zt,Ut,Qt,Kt,qt,Wt,Zt,Gt=Highlight_Highlight,Jt=t("vXr1"),Yt=t("EHzZ"),Xt=t("buno"),$t=t("Ys1X"),en={btnLink:Object(q.c)(zt||(zt=U()(["\n    margin: -16px;\n  "])))},cds_ReviewPageLink=function(){var e=Object(Jt.e)().courseSlug;return Object(q.d)(mt.a,{variant:"ghost",href:Object($t.e)(Object($t.c)(e)),trackingName:"note_sidebar_to_review_link",target:"_blank",rel:"noopener noreferrer",component:Xt.a,icon:Ut||(Ut=Object(q.d)(Yt.a,{size:"small"})),iconPosition:"after",css:en.btnLink,"aria-label":rt()("View all notes. Opens in new tab"),id:"note_sidebar_to_review_link_id"},rt()("View all notes"))},tn=t("cVIm"),nn="".concat(tn.a.url.resource_assets,"learner/note_placeholder.svg"),on={container:Object(q.c)(Qt||(Qt=U()(["\n    display: flex;\n    flex-direction: column;\n    gap: var(--cds-spacing-300);\n  "])))},cds_VideoHighlightsLoadingPlaceholder=function(){return Object(q.d)("div",{className:"rc-VideoHighlightsLoadingPlaceholder",css:on.container},Object(q.d)("img",{src:nn,alt:rt()("Note placeholder")}),Object(q.d)("img",{src:nn,alt:rt()("Note placeholder")}),Object(q.d)("img",{src:nn,alt:rt()("Note placeholder")}))},rn="".concat(tn.a.url.resource_assets,"learner/icon_note.svg"),an="".concat(tn.a.url.resource_assets,"learner/icon_highlight.svg"),cds_VideoHighlightsPlaceholder=function(e){var t=e.helpText;return(W.createElement("div",{className:"rc-VideoHighlightsPlaceholder"},W.createElement(tt.b,{justifyContent:"center"},W.createElement("img",{src:rn,alt:rt()("Take notes"),className:"icon note-icon"}),W.createElement("img",{src:an,alt:rt()("Highlight"),className:"icon"})),W.createElement(se.a,{component:"p",color:"supportText",className:"help-text"},t)))},sn=Object(q.c)(Kt||(Kt=U()(["\n  padding: 0 0 var(--cds-spacing-200) 0;\n"])));function VideoHighlights(e){var t=Object(W.useState)(null),n=B()(t,2),i=n[0],o=n[1],r=e.loading,a=e.videoPlayer,s=e.highlights,c=e.notificationAnnouncement,l=e.onDelete,u=e.onUpdate,d=Object(W.useRef)(null),handleDelete=function(e){l&&(l(e),function(e){var t=s.findIndex((function(t){return t.id===e})),n=t;if(s.length<=t?n=t-1:s.length>1?n=0===t?1:t-1:s.length<1&&(n=-1),n>=0){var i=s[n].id;setTimeout((function(){return o(i)}),0)}}(e))},p=u&&s.map((function(e){return Object(q.d)(Gt,{forwardRef:e.id===i?d:null,highlight:e,key:e.clientId,currentHighlight:i,onSetCurrentHighlight:o,videoPlayer:a,onDelete:handleDelete,onUpdate:function(t){return u(e.id,t)}})}));return Object(q.d)("div",{css:sn},r&&(qt||(qt=Object(q.d)(cds_VideoHighlightsLoadingPlaceholder,null))),!r&&0===s.length&&Object(q.d)(cds_VideoHighlightsPlaceholder,{helpText:rt()('Click the "Save Note" button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript. Add your own notes to anything you\'ve captured.')}),!r&&p,Object(q.d)(ut.a,{role:"region","aria-live":"assertive","aria-atomic":!0,component:"span",className:"rc-A11yScreenReaderOnly"},c&&Object(q.d)("span",null,c)),Object(q.d)(re.a,{container:!0,item:!0,className:"highlight-sidebar-header",css:Object(q.c)(Wt||(Wt=U()(["\n          flex-flow: column;\n          vertical-align: center;\n          padding: var(--cds-spacing-200) 0 var(--cds-spacing-200);\n        "])))},Zt||(Zt=Object(q.d)(re.a,{item:!0},Object(q.d)(cds_ReviewPageLink,null)))))}var cn,ln=Object(W.memo)(VideoHighlights),un=t("mDxB"),dn=t("M743"),pn=t("p6CZ"),gn=Object(W.createContext)({highlights:[],videoPlayer:void 0,loading:!0,notificationAnnouncement:"",onDelete:void 0,onUpdate:void 0,course:void 0,courseId:"",computedItem:void 0,itemMetadata:void 0,videoContent:void 0,selectedTrack:{},onCapture:void 0,tracks:void 0,onTrackSelected:void 0,hideVolunteerLink:!1,player:void 0,onSaveHighlight:void 0,onRemoveHighlight:void 0,selectedTab:"",setSelectedTab:void 0}),VideoHighlightManagerProvider_useVideoHighlightingManagerContext=function(){return Object(W.useContext)(gn)},VideoHighlightManagerProvider_VideoHighlightingManagerProvider=function(e){var t=Object(W.useState)([]),n=B()(t,2),i=n[0],o=n[1],r=Object(W.useState)(!0),a=B()(r,2),s=a[0],c=a[1],l=Object(W.useState)(""),u=B()(l,2),d=u[0],p=u[1],g=xn.transcript.value,h=Object(W.useState)(g),m=B()(h,2),f=m[0],v=m[1],b=e.itemId,y=e.courseId,C=e.children,S=e.executeAction,k=e.videoPlayer,w=e.course,x=e.computedItem,O=e.itemMetadata,T=e.videoContent,E=e.selectedTrack,P=e.tracks,I=e.onTrackSelected,V=e.isSubtitleTranslationEnabled,L=(null==E?void 0:E.languageCode)||"";Object(W.useEffect)((function(){(function(){var e=D()(R()().mark((function _callee(){var e;return R()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!L){t.next=7;break}return t.next=3,Object(un.d)({itemId:b,courseId:y,languageCode:L});case 3:e=t.sent,o(e),c(!1),S(setHighlightsCount,i.length);case 7:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}})()()}),[b,y,L,S]);var handleUpdateComplete=function(e,t){o((function(n){return n.sort(un.a).map((function(n){return n.id===e?t:n}))}))},M=function(){var e=D()(R()().mark((function _callee2(e){var t;return R()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.filter((function(t){return t.id!==e})),o(t),n.next=4,Object(un.c)({id:e});case 4:p(j()("Note deleted")),S(setHighlightsCount,t.length);case 6:case"end":return n.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=D()(R()().mark((function _callee3(e,t){var n;return R()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i.map((function(e){return e.id===t.id?H()(H()({},t),{},{pendingUpdate:!0}):e})),o(n),r.next=4,Object(un.f)({itemId:b,courseId:y,languageCode:L,id:e,highlight:t});case 4:handleUpdateComplete(t.id,H()(H()({},t),{},{pendingUpdate:!1})),p(j()("Note updated"));case 6:case"end":return r.stop()}}),_callee3)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=D()(R()().mark((function _callee4(e){var t,n,r,a;return R()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=[e].concat(Je()(i)),o(t),s.next=4,Object(un.b)({itemId:b,courseId:y,languageCode:L,highlight:e});case 4:n=s.sent,r=n.id,a=n.snapshotUrl,handleUpdateComplete(e.id,H()(H()({},e),{},{id:r,snapshotUrl:a,pendingCreate:!1})),S(setHighlightsCount,t.length);case 9:case"end":return s.stop()}}),_callee4)})));return function(t){return e.apply(this,arguments)}}();return W.createElement(gn.Provider,{value:{highlights:i,videoPlayer:k,loading:s,notificationAnnouncement:d,onDelete:M,onUpdate:N,course:w,courseId:y,computedItem:x,itemMetadata:O,videoContent:T,selectedTrack:E,onCapture:F,tracks:P,onTrackSelected:I,hideVolunteerLink:!V,player:k,onSaveHighlight:F,onRemoveHighlight:M,selectedTab:f,setSelectedTab:v}},C)},hn=400,mn=530,fn=750,vn=t("7bkI"),bn=t.n(vn);null===(cn=c.a.addDefaults)||void 0===cn||cn.call(c.a,[bn.a]);var yn,Cn,Sn,kn={get:function(e,t){return c.a.get("leeCoreLexFocusedLex",e,t)},preview:function(e,t,n){return c.a.preview("leeCoreLexFocusedLex",e,t)}},featureFlags_userLanguageSupportsLectureSummaries=function(){return"en"===Object(a.getLanguageCode)()},wn=Object(Ze.b)({type:"BUTTON"})(Ue.a),xn={transcript:{value:"TRANSCRIPT",trackingName:"focused_lex_lecture_tabs_transcript",justifyContent:"space-around",getLabel:function(){return j()("Transcript")}},notes:{value:"NOTES",trackingName:"focused_lex_lecture_tabs_notes",justifyContent:"space-around",getLabel:function(){return j()("Notes")}},downloads:{value:"DOWNLOADS",trackingName:"focused_lex_lecture_tabs_download",justifyContent:"flex-start",getLabel:function(){return j()("Downloads")}},discuss:{value:"DISCUSS",trackingName:"focused_lex_lecture_tabs_discuss",justifyContent:"space-around",getLabel:function(){return j()("Discuss")}},lectureSummary:{value:"LECTURE_SUMMARY",trackingName:"focused_lex_lecture_tabs_lecture_summary",justifyContent:"space-around",getLabel:function(){return j()("Lecture Summary")}}},On=["transcript","notes","downloads","discuss","lectureSummary"],Tn=["transcript","downloads","discuss"],jn={tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(q.c)(yn||(yn=U()(["\n      "," {\n        position: ",";\n        top: ","px;\n        z-index: 3;\n        background-color: var(--cds-color-neutral-background-primary);\n      }\n    "])),ie.a.up("md"),e?"sticky":"static",e)},tabPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Object(q.c)(Cn||(Cn=U()(["\n      position: ",";\n      top: ","px;\n      display: flex;\n      flex-wrap: nowrap;\n      justify-content: ",";\n      padding-top: var(--cds-spacing-200);\n      min-height: calc(100vh + ","px);\n\n      & .rc-TranscriptHighlightButton {\n        z-index: 1;\n      }\n    "])),e?"sticky":"static",e+52,t,308)},overrideTabWrapperStyles:function(){return Object(q.c)(Sn||(Sn=U()(["\n    .cds-tab-wrapper {\n      flex-direction: row-reverse;\n    }\n\n    .cds-tab-wrapper .cds-tag-status {\n      margin-left: var(--cds-spacing-100);\n      margin-right: 0;\n    }\n\n    // CDS tabs automatically have a max-width of 160px at the sm breakpoint, so we want to override that\n    // in order to accomodate the maximum text resize scale for accessibility\n    "," {\n      max-width: max-content;\n    }\n  "])),ie.a.down("xs"))}},LectureTabs_LectureTabs=function(e){var t=e.isLoggedIn,n=e.stickyTop,i=e.transcriptTabContent,o=e.discussTabContent,r=e.downloadTabContent,a=e.notesTabContent,s=e.lectureSummaryTabContent,c=e.notifyOnTabChange,l=e.itemSummaryHtml,u=e.courseId,d={transcript:i,discuss:o,notes:a,downloads:r,lectureSummary:s},p=t?On:Tn,g=function(e){return kn.get("showLectureSummary",{course_id:e})&&featureFlags_userLanguageSupportsLectureSummaries()}(u),h=p.filter((function(e){return!!d[e]&&("lectureSummary"===e&&g&&l||("transcript"===e||"notes"===e||"downloads"===e||"discuss"===e))})),m=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),f=m.selectedTab,v=m.setSelectedTab,b=Object(q.d)(Qe.a,{variant:"status",priority:"primary",color:"highlight1"},j()("New"));return Object(q.d)(Ke.a,{value:f},Object(q.d)(qe.a,{variant:"section","aria-label":j()("Related lecture content tabs"),onChange:function(e){null==v||v(e),null==c||c()},css:jn.tabs(n)},h.map((function(e){return Object(q.d)(wn,{label:xn[e].getLabel(),value:xn[e].value,trackingName:xn[e].trackingName,key:e,icon:"lectureSummary"===e?b:void 0,css:jn.overrideTabWrapperStyles})}))),h.map((function(e){return Object(q.d)(We.a,{value:xn[e].value,css:jn.tabPanel(n,xn[e].justifyContent),key:e},d[e])})))},En=t("4fna"),Pn=t("VTx5"),In=function(e){function RecordFullStoryForVideo(){return e.apply(this,arguments)||this}ct()(RecordFullStoryForVideo,e);var t=RecordFullStoryForVideo.prototype;return t.componentDidMount=function(){var e,t=this.props,n=t.courseSlug,i=t.computedItem,o=t.autoplay,r=t.isVideoHighlightingEnabled,a=i.timeCommitment,s=i.id,c=i.contentSummary,l=i.weekNumber,u=Object(ne.b)().external_id,d="lecture"===(null==c?void 0:c.typeName)&&!(null==c||null===(e=c.definition)||void 0===e||!e.hasInVideoAssessment),p=Object(fe.a)();(this.isExperimentEnabled()||p)&&(En.a.init(),En.a.set({courseSlug:n,itemId:s,weekNumber:l,autoplay:o,timeCommitment:a,includesInVideoAssessment:d,isVideoHighlightingEnabled:r,externalId:u,isCoachSuperuser:p}))},t.componentWillUnmount=function(){(this.isExperimentEnabled()||Object(fe.a)())&&En.a.endSession()},t.isExperimentEnabled=function(){return this.props.isVideoHighlightingEnabled?Pn.a.get("enableVideoHighlightsFullStory"):Pn.a.get("enableVideoLectureFullStory")},t.render=function(){return this.props.children},RecordFullStoryForVideo}(W.Component);In.defaultProps={isVideoHighlightingEnabled:!1};var Vn,_n,Ln,Mn,Rn,Nn,Dn,Fn,Hn,An=In,Bn=t("QILm"),zn=t.n(Bn),Un=["width","height"],headsetDarkSvg=function(e){var t=e.width,n=void 0===t?12:t,i=e.height,o=void 0===i?14:i,r=zn()(e,Un);return(W.createElement("svg",L()({xmlns:"http://www.w3.org/2000/svg",width:n,height:o,fill:"none",viewBox:"0 0 12 14"},r),Vn||(Vn=W.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M10.6667 9.33073V11.3307C10.6667 11.6974 10.3667 11.9974 10 11.9974H9.33333V9.33073H10.6667ZM2.66667 9.33073V11.9974H2C1.63333 11.9974 1.33333 11.6974 1.33333 11.3307V9.33073H2.66667ZM6 0.664062C2.68667 0.664062 0 3.35073 0 6.66406V11.3307C0 12.4374 0.893333 13.3307 2 13.3307H4V7.9974H1.33333V6.66406C1.33333 4.08406 3.42 1.9974 6 1.9974C8.58 1.9974 10.6667 4.08406 10.6667 6.66406V7.9974H8V13.3307H10C11.1067 13.3307 12 12.4374 12 11.3307V6.66406C12 3.35073 9.31333 0.664062 6 0.664062Z",fill:"#5B6780"}))))},Qn=t("XEPi"),Kn=t("ZLWr"),qn=t.n(Kn),Wn={container:Object(q.c)(_n||(_n=U()(["\n    margin-top: var(--cds-spacing-100);\n    padding: var(--cds-spacing-100) 0;\n    display: flex;\n    justify-content: flex-end;\n  "]))),tag:Object(q.c)(Ln||(Ln=U()(["\n    margin-left: var(--cds-spacing-100);\n  "])))},cds_ReportSection=function(){return Object(Qn.b)().reportIssueSectionVisible?Object(q.d)("div",{css:Wn.container},Object(q.d)(Qe.a,{css:Wn.tag,variant:"status",priority:"secondary",icon:Mn||(Mn=Object(q.d)(headsetDarkSvg,{color:"support"})),"data-testid":"tag-root"},qn()("AI-generated dubbing"))):null},Zn=t("+LJP"),Gn=t("yr8M"),Jn=t("53mQ"),Yn=t("Q64i"),Xn=t.n(Yn),$n=(t("Ht4C"),function(e){var t=e.isLightTheme,n=Xe()("rc-ShareCTADefault",{"light-theme":t}),i=t?"#FFFFFF":"#2A73CC";return W.createElement("div",{className:n},W.createElement("div",{className:"rc-ShareCTADefault__button-icon"},W.createElement(Jn.a,{isThemeDark:!t,size:12,strokeWidth:2,stroke:i,color:i,suppressTitle:!0})),W.createElement("span",{className:"rc-ShareCTADefault__button-text"},Xn()("Share")))}),ei=t("uKqt"),ti=t("fsNN"),ni=t("yh+z"),ii=768,oi=Object(Gn.a)((function(){return Promise.all([t.e("allStyles"),t.e("asyncCommonJS"),t.e(94)]).then(t.bind(null,"63Zb"))})),ri=function(e){function ShareButtonWithModal(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.handleButtonClick=function(e){var n=t.props.onSocialButtonClick;n&&n(e),window.innerWidth<=ii&&window.navigator&&"share"in navigator?t.nativeMobileShare():t.setState((function(){return{showModal:!0}}))},t.handleCloseModal=function(){t.setState((function(){return{showModal:!1}}))},t.nativeMobileShare=function(){var e,n,i=t.props,o=i.captions,r=i.targetShareLink,a=i.customShareLink,s=a||r,c=null==o?void 0:null===(e=o.nativeMobileTitle)||void 0===e?void 0:e.call(o,s),l=null==o?void 0:null===(n=o.nativeMobileMessage)||void 0===n?void 0:n.call(o,s);navigator.share({url:a||r,title:c||document.title,text:l||""}).catch((function(e){if("AbortError"!==e.name)throw e}))},t}ct()(ShareButtonWithModal,e);var t=ShareButtonWithModal.prototype;return t.componentDidMount=function(){var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.search.includes(ei.h)&&this.setState((function(){return{showModal:!0}}))},t.render=function(){var e=this.props,t=e.rootClassName,n=e.style,i=e.shareLink,o=e.captions,r=e.utmContentParam,a=e.utmMediumParam,s=e.utmCampaignParam,c=e.utmProductParam,l=e.children,u=e.useCustomUrl,d=e.title,p=e.description,g=e.disableDescription,h=e.previewComponent,m=e.extraQueryParams,f=e.getVideoTimeInSeconds,v=e.titleComponent,b=e.tabbable,y=this.state.showModal,C=Xe()("rc-ShareButtonWithModal",t);return W.createElement("div",{className:C,style:n,"data-e2e":"universal-share-cta"},W.createElement(At.a,{"aria-label":d,trackingName:"universal_sharing_cta",onClick:this.handleButtonClick,tabIndex:b?0:-1,trackMouseEnters:!0},l||Rn||(Rn=W.createElement($n,null))),y&&W.createElement(oi,{handleCloseModal:this.handleCloseModal,shareLink:i,captions:o,utmContentParam:r,utmMediumParam:a,utmCampaignParam:s,utmProductParam:c,extraQueryParams:m,useCustomUrl:u,title:d,description:p,disableDescription:g,previewComponent:h,initialVideoTimeInSeconds:f&&f(),titleComponent:v}))},ShareButtonWithModal}(W.Component),ai=Object(P.b)(Object(ni.a)(ei.g),Object(ti.a)())(ri),si=t("ghjH"),ci={container:Object(q.c)(Nn||(Nn=U()(["\n    padding: var(--cds-spacing-100);\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    text-decoration: none;\n    background-color: transparent;\n    border-radius: var(--cds-border-radius-50);\n    color: var(--cds-color-interactive-primary);\n\n    &:hover {\n      background-color: var(--cds-color-blue-25);\n    }\n\n    &:hover .text-label {\n      text-decoration: underline;\n    }\n  "]))),iconWrapper:Object(q.c)(Dn||(Dn=U()(["\n    display: inline-flex;\n    align-items: center;\n    margin-right: 8px;\n  "]))),labelWrapper:Object(q.c)(Fn||(Fn=U()(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: none;\n  "])))},cds_ShareCTAV2=function(e){var t=e.buttonText,n=e.isDark?"#FFFFFF":"#0056D2";return Object(q.d)("div",{"data-testid":"ShareCTAV2",className:"rc-ShareCTAV2",css:ci.container},Object(q.d)("span",{css:ci.labelWrapper},Object(q.d)("span",{css:ci.iconWrapper},Object(q.d)(si.a,{size:"small",stroke:n,strokeWidth:".25"})),Object(q.d)(se.a,{className:"text-label",variant:"actionSecondary",component:"a"},t||Xn()("Share"))))},li=Object(Zn.a)((function(e){var t,n;return{protocol:null===(t=e.location)||void 0===t?void 0:t.protocol,hostname:null===(n=e.location)||void 0===n?void 0:n.hostname,courseSlug:e.params.courseSlug,itemId:e.params.item_id,slug:e.params.slug}}))((function(e){var t=e.isDark,n=e.protocol,i=e.hostname,o=e.courseSlug,r=e.itemId,a=e.slug,s=(new g.a).setProtocol(n).setHost(i).setPath("/lecture/".concat(o,"/").concat(a,"-").concat(r)).toString();return W.createElement(ai,L()({tabbable:!0},e,{shareLink:s}),W.createElement(cds_ShareCTAV2,{isDark:t}))})),ui=t("MKs7"),VideoItemEmbeddedSourceCourseAttribution_VideoItemEmbeddedSourceCourseAttribution=function(e){var t=e.embeddedContentSourceCourseId,n=e.includeCourseName,i=e.originalName,o=VideoTrimmingContext_useVideoTrimmingContext().trimmedDurationSeconds,r=Object(Jt.c)(),a=Object(W.useMemo)((function(){return r.search.includes("useFullLengthVideo")?"".concat(r.pathname).concat(r.search):r.search?"".concat(r.pathname).concat(r.search,"&").concat("useFullLengthVideo","=true"):"".concat(r.pathname,"?").concat("useFullLengthVideo","=true")}),[r.pathname,r.search]);return Object(q.d)(ui.a,{embeddedContentSourceCourseId:t,includeCourseName:n,originalName:i,trimmedAttributionProperties:o?{fullContentLink:a}:void 0})},di=t("mnBx"),pi=t("KESP"),gi=(t("wi9P"),function(e){function VideoMiniControls(t){var n;return(n=e.call(this,t)||this).handlePlay=function(){n.setState({playing:!0})},n.handlePause=function(){n.setState({playing:!1})},n.handleToggle=function(){var e=n.props.videoPlayer;e.paused()?e.play():e.pause()},n.state={playing:!t.videoPlayer.paused()},n}ct()(VideoMiniControls,e);var t=VideoMiniControls.prototype;return t.componentDidMount=function(){var e=this.props.videoPlayer;e.on("play",this.handlePlay),e.on("pause",this.handlePause)},t.componentWillUnmount=function(){var e=this.props.videoPlayer;e.off("play",this.handlePlay),e.off("pause",this.handlePause)},t.render=function(){var e=this.state.playing,t=e?"pause_mini_video":"play_mini_video";return W.createElement(At.a,{trackingName:t,className:"rc-VideoMiniControls",onClick:this.handleToggle,"aria-label":j()("Mini video player")},W.createElement("div",{className:"video-mini-actions"},!e&&W.createElement(pi.a,{title:j()("Play"),size:30,color:"#fff"}),e&&W.createElement(di.a,{title:j()("Pause"),size:30,color:"#fff"})))},VideoMiniControls}(W.Component)),hi=(t("RY+i"),992),mi=function(e){function VideoMiniPlayer(t){var n;return(n=e.call(this,t)||this).handleIVQVisible=function(){n.setState({isIVQVisible:!0})},n.handleIVQHidden=function(){n.setState({isIVQVisible:!1})},n.handleTimeUpdate=function(){var e=n.state.videoEnded,t=n.props.videoPlayer;t&&(t.ended()?e||n.setState({videoEnded:!0}):e&&n.setState({videoEnded:!1}))},n.handleScroll=function(){n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout((function(){var e,t,i=n.state.isMainPlayerHidden,o=n.props.parentCb;if(n.getIsMainPlayerHidden())i||(n.setState({isMainPlayerHidden:!0}),void 0!==o&&o(!1),null===(e=(t=n.props).onMiniPlayerShow)||void 0===e||e.call(t,!1));else if(i){var r,a;n.setState({isMainPlayerHidden:!1}),void 0!==o&&o(!0),null===(r=(a=n.props).onMiniPlayerShow)||void 0===r||r.call(a,!0)}n.timeoutId=null}),5)},n.getScrollContainer=function(){return document.querySelector('[data-id="item-scroll-container"]')},n.getIsMainPlayerHidden=function(){var e=n.props.videoRegion,t=n.getShowMiniPlayer(),i=n.getScrollContainer();return(i?i.scrollTop:0)>=(t?n.videoPlaceholder?n.videoPlaceholder.getBoundingClientRect().height:500:e?e.getBoundingClientRect().height:500)},n.getShowMiniPlayer=function(){var e,t=n.state,i=t.isMainPlayerHidden,o=t.isIVQVisible,r=(null===(e=window)||void 0===e?void 0:e.innerWidth)>=hi;return i&&!o&&r},n.attachVideoPlayerListeners=function(e){e&&(e.on("timeupdate",n.handleTimeUpdate),e.emitter.on("videoQuizView.hidden",n.handleIVQHidden),e.emitter.on("videoQuizView.visible",n.handleIVQVisible))},n.detachVideoPlayerListeners=function(e){e&&(e.off("timeupdate",n.handleTimeUpdate),e.emitter.off("videoQuizView.hidden",n.handleIVQHidden),e.emitter.off("videoQuizView.visible",n.handleIVQVisible))},n.timeoutId=null,n.state={videoEnded:!1,isIVQVisible:!1,isMainPlayerHidden:!1},n}ct()(VideoMiniPlayer,e);var t=VideoMiniPlayer.prototype;return t.componentDidMount=function(){var e,t=this.props.videoPlayer,n=this.getScrollContainer(),i=!!((null===(e=window)||void 0===e?void 0:e.innerWidth)>hi);n&&i&&n.addEventListener("scroll",this.handleScroll),t&&this.attachVideoPlayerListeners(t)},t.componentWillReceiveProps=function(e){var t=this.props,n=t.videoPlayer,i=t.hasModalOpen;n&&!e.videoPlayer?this.detachVideoPlayerListeners(n):!n&&e.videoPlayer&&this.attachVideoPlayerListeners(e.videoPlayer),n&&i&&n.pause()},t.componentWillUnmount=function(){var e=this.props.videoPlayer,t=this.getScrollContainer();t&&t.removeEventListener("scroll",this.handleScroll),e&&this.detachVideoPlayerListeners(e)},t.render=function(){var e=this,t=this.props,n=t.children,i=t.layoutMode,o=t.videoRegion,r=t.videoPlayer,a=this.state.videoEnded,s=this.getShowMiniPlayer(),c="fill"===i?{width:"100%",height:"100%"}:{};return W.createElement("div",{className:Xe()("rc-VideoMiniPlayer",{mini:s}),style:c},W.createElement("div",{className:"video-main-player-container",style:c},n),s&&o&&W.createElement("div",{ref:function(t){e.videoPlaceholder=t},className:"video-placeholder",style:{width:o.getBoundingClientRect().width,height:o.getBoundingClientRect().height}}),s&&r&&!a&&W.createElement(gi,{videoPlayer:r}))},VideoMiniPlayer}(W.Component),fi=t("Zexf"),vi=function(){function VideoContent(e){var t=e.videoId,n=e.sources,i=e.posters,o=e.subtitles,r=e.subtitlesVtt,a=e.subtitlesTxt,s=e.itemMetadata,c=e.hlsSource,l=e.disableSkippingForward,u=e.trimmedStartTimeSeconds,d=e.trimmedDurationSeconds,p=e.dubbedSources,g=e.dubbedSubtitlesVtt;this.videoId=t,this.sources=n,this.posters=i,this.subtitles=o,this.subtitlesVtt=r,this.subtitlesTxt=a,this.itemMetadata=s,this.dubbedSources=p,this.name=s.get("name"),this.disableSkippingForward=l,this.trimmedStartTimeSeconds=u,this.trimmedDurationSeconds=d,this.hlsSource=c,this.dubbedSubtitlesVtt=g}var e=VideoContent.prototype;return e.getHlsSource=function(){return this.hlsSource},e.getSources=function(){return this.getSourcesForResolution(le.d.defaultNormalBandwidthVideoPlayerResolution)},e.getSourcesForResolution=function(e){return this.sources[e]},e.getPosterForResolution=function(e){return this.posters[e]},e.getCaptionForLanguage=function(e){return this.subtitles[e]},e.getSubtitlesUrl=function(e,t){var n=this[e][t];return n&&n.url},e.getSubtitlesLabel=function(e,t){var n=this[e][t];return n&&n.label},e.getTrimmedStartTime=function(){return this.trimmedStartTimeSeconds},e.getTrimmedDuration=function(){return this.trimmedDurationSeconds},VideoContent}(),bi=t("k8Y/"),yi=t.n(bi),Ci=t("bt/X"),Si=t.n(Ci),ki=t("J2m7"),wi=t.n(ki),xi=t("ZwCU"),Oi=t.n(xi),Ti=t("Ji/E"),ji=t("zdNT"),Ei=t.n(ji);null===(Hn=c.a.addDefaults)||void 0===Hn||Hn.call(c.a,[Ei.a]);var Pi,Ii,Vi,_i,Li,Mi,Ri,Ni,Di,Fi,Hi,Ai,Bi,zi={get:function(e,t){return c.a.get("machineTranslation",e,t)},preview:function(e,t,n){return c.a.preview("machineTranslation",e,t)}},enableAiDubbing=function(e){return null!==(t=zi.get("enableAiDubbingInternally"))&&void 0!==t&&t||function(e){var t;return null!==(t=zi.get("enableAiDubbing",{course_id:e}))&&void 0!==t&&t}(e);var t},isAiDubbingEnabled=function(e){return null!==(t=zi.preview("enableAiDubbingInternally"))&&void 0!==t&&t||function(e){var t;return null!==(t=zi.preview("enableAiDubbing",{course_id:e}))&&void 0!==t&&t}(e);var t},Ui=t("ct0W"),Qi=t("nNSt"),Ki=t("fdGY"),qi=t("80dD"),Wi=t.n(qi),Zi={notificationContainer:Object(q.c)(Pi||(Pi=U()(["\n    padding: var(--cds-spacing-100) var(--cds-spacing-200);\n    top: 0;\n    z-index: 1000;\n    position: absolute;\n    gap: var(--cds-spacing-200);\n    border-radius: 3px;\n    background: var(--cds-color-neutral-primary, #1f1f1f);\n    margin-top: var(--cds-spacing-200);\n    left: 50%;\n    transform: translate(-50%);\n  "]))),notificationText:Object(q.c)(Ii||(Ii=U()(["\n    color: var(--cds-color-neutral-primary-invert, #fff);\n    white-space: nowrap;\n  "]))),closeButton:Object(q.c)(Vi||(Vi=U()(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--cds-spacing-100);\n    padding: 0;\n    border: none;\n    width: 24px;\n    height: 24px;\n  "]))),closeIcon:Object(q.c)(_i||(_i=U()(["\n    vertical-align: middle;\n    padding-bottom: var(--cds-spacing-50);\n  "])))},learning_effort_VideoSkippingDisabledNotification=function(e){var t=e.onDismiss;return Object(q.d)(re.a,{css:Zi.notificationContainer},Object(q.d)(se.a,{component:"p",css:Zi.notificationText},Wi()("Skipping forward is only available on video sections you have already watched."),Object(q.d)("button",{type:"button",css:Zi.closeButton,onClick:t},Object(q.d)(Ki.a,{size:"medium",css:Zi.closeIcon}))))},Gi=t("wM/7"),Ji=t("vbpD"),Yi=t("+rcu"),Xi=t("k4cE"),$i=t("E4RX"),eo=t("p3Do"),to=t("mHyk"),no=["width","height"],svg_Forward10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,no);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Forward10Svg"}),Li||(Li=W.createElement("path",{d:"M14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 13.7081 3.77708 12.3421 4.33125 11.0685C4.88542 9.79491 5.63403 8.68658 6.57708 7.74352C7.52014 6.80046 8.62847 6.05185 9.90208 5.49769C11.1757 4.94352 12.5417 4.66644 14 4.66644H14.175L13.1833 3.67477C12.95 3.44144 12.8382 3.16921 12.8479 2.8581C12.8576 2.54699 12.9694 2.27477 13.1833 2.04144C13.4167 1.8081 13.6938 1.68658 14.0146 1.67685C14.3354 1.66713 14.6125 1.77894 14.8458 2.01227L17.85 5.01644C18.0833 5.24977 18.2 5.52199 18.2 5.8331C18.2 6.14421 18.0833 6.41644 17.85 6.64977L14.8458 9.65394C14.6125 9.88727 14.3354 9.99908 14.0146 9.98935C13.6938 9.97963 13.4167 9.8581 13.1833 9.62477C12.9694 9.39144 12.8576 9.11921 12.8479 8.8081C12.8382 8.49699 12.95 8.22477 13.1833 7.99144L14.175 6.99977H14C11.725 6.99977 9.79514 7.79213 8.21042 9.37685C6.62569 10.9616 5.83333 12.8914 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 14.8359 22.2785 14.5588 22.5021 14.3352C22.7257 14.1116 23.0028 13.9998 23.3333 13.9998C23.6639 13.9998 23.941 14.1116 24.1646 14.3352C24.3882 14.5588 24.5 14.8359 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664ZM10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164Z",fill:"white"}))))},io=["width","height"],svg_PauseSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,io);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Mi||(Mi=W.createElement("path",{d:"M17.5002 22.1668C16.8585 22.1668 16.3092 21.9384 15.8522 21.4814C15.3953 21.0245 15.1668 20.4752 15.1668 19.8335V8.16683C15.1668 7.52516 15.3953 6.97586 15.8522 6.51891C16.3092 6.06197 16.8585 5.8335 17.5002 5.8335H19.8335C20.4752 5.8335 21.0245 6.06197 21.4814 6.51891C21.9384 6.97586 22.1668 7.52516 22.1668 8.16683V19.8335C22.1668 20.4752 21.9384 21.0245 21.4814 21.4814C21.0245 21.9384 20.4752 22.1668 19.8335 22.1668H17.5002ZM8.16683 22.1668C7.52516 22.1668 6.97586 21.9384 6.51891 21.4814C6.06197 21.0245 5.8335 20.4752 5.8335 19.8335V8.16683C5.8335 7.52516 6.06197 6.97586 6.51891 6.51891C6.97586 6.06197 7.52516 5.8335 8.16683 5.8335H10.5002C11.1418 5.8335 11.6911 6.06197 12.1481 6.51891C12.605 6.97586 12.8335 7.52516 12.8335 8.16683V19.8335C12.8335 20.4752 12.605 21.0245 12.1481 21.4814C11.6911 21.9384 11.1418 22.1668 10.5002 22.1668H8.16683ZM17.5002 19.8335H19.8335V8.16683H17.5002V19.8335ZM8.16683 19.8335H10.5002V8.16683H8.16683V19.8335Z",fill:"white"}))))},oo=["width","height"],svg_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,oo);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"PlayArrowSvg"}),Ri||(Ri=W.createElement("path",{d:"M9.3335 20.0376V7.96257C9.3335 7.63201 9.45016 7.35493 9.6835 7.13132C9.91683 6.9077 10.1891 6.7959 10.5002 6.7959C10.5974 6.7959 10.6995 6.81048 10.8064 6.83965C10.9134 6.86882 11.0154 6.91257 11.1127 6.9709L20.621 13.0084C20.796 13.1251 20.9272 13.2709 21.0147 13.4459C21.1022 13.6209 21.146 13.8056 21.146 14.0001C21.146 14.1945 21.1022 14.3792 21.0147 14.5542C20.9272 14.7292 20.796 14.8751 20.621 14.9917L11.1127 21.0292C11.0154 21.0876 10.9134 21.1313 10.8064 21.1605C10.6995 21.1896 10.5974 21.2042 10.5002 21.2042C10.1891 21.2042 9.91683 21.0924 9.6835 20.8688C9.45016 20.6452 9.3335 20.3681 9.3335 20.0376ZM11.6668 17.9084L17.7918 14.0001L11.6668 10.0917V17.9084Z",fill:"white"}))))},ro=["width","height"],svg_Replay10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,ro);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Replay10Svg"}),Ni||(Ni=W.createElement("path",{d:"M10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164ZM14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 14.8359 3.61181 14.5588 3.83542 14.3352C4.05903 14.1116 4.33611 13.9998 4.66667 13.9998C4.99722 13.9998 5.27431 14.1116 5.49792 14.3352C5.72153 14.5588 5.83333 14.8359 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 12.8914 21.3743 10.9616 19.7896 9.37685C18.2049 7.79213 16.275 6.99977 14 6.99977H13.825L14.8167 7.99144C15.05 8.22477 15.1618 8.49699 15.1521 8.8081C15.1424 9.11921 15.0306 9.39144 14.8167 9.62477C14.5833 9.8581 14.3063 9.97963 13.9854 9.98935C13.6646 9.99908 13.3875 9.88727 13.1542 9.65394L10.15 6.64977C9.91667 6.41644 9.8 6.14421 9.8 5.8331C9.8 5.52199 9.91667 5.24977 10.15 5.01644L13.1542 2.01227C13.3875 1.77894 13.6646 1.66713 13.9854 1.67685C14.3063 1.68658 14.5833 1.8081 14.8167 2.04144C15.0306 2.27477 15.1424 2.54699 15.1521 2.8581C15.1618 3.16921 15.05 3.44144 14.8167 3.67477L13.825 4.66644H14C15.4583 4.66644 16.8243 4.94352 18.0979 5.49769C19.3715 6.05185 20.4799 6.80046 21.4229 7.74352C22.366 8.68658 23.1146 9.79491 23.6688 11.0685C24.2229 12.3421 24.5 13.7081 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664Z",fill:"white"}))))},ao=["width","height"],svg_VolumeDownSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,ao);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeDownSvg"}),Di||(Di=W.createElement("path",{d:"M10.5002 17.4999H7.00016C6.66961 17.4999 6.39252 17.3881 6.16891 17.1645C5.9453 16.9409 5.8335 16.6638 5.8335 16.3332V11.6666C5.8335 11.336 5.9453 11.0589 6.16891 10.8353C6.39252 10.6117 6.66961 10.4999 7.00016 10.4999H10.5002L14.3502 6.64989C14.7196 6.28045 15.1425 6.19781 15.6189 6.40197C16.0953 6.60614 16.3335 6.97072 16.3335 7.49572V20.5041C16.3335 21.0291 16.0953 21.3936 15.6189 21.5978C15.1425 21.802 14.7196 21.7193 14.3502 21.3499L10.5002 17.4999ZM21.5835 13.9999C21.5835 14.8166 21.3988 15.5895 21.0293 16.3186C20.6599 17.0478 20.1738 17.6457 19.571 18.1124C19.3766 18.2291 19.1772 18.2339 18.9731 18.127C18.7689 18.02 18.6668 17.8499 18.6668 17.6166V10.3249C18.6668 10.0916 18.7689 9.92142 18.9731 9.81447C19.1772 9.70753 19.3766 9.71239 19.571 9.82906C20.1738 10.3152 20.6599 10.9277 21.0293 11.6666C21.3988 12.4054 21.5835 13.1832 21.5835 13.9999ZM14.0002 10.3249L11.4918 12.8332H8.16683V15.1666H11.4918L14.0002 17.6749V10.3249Z",fill:"white"}))))},so=["width","height"],svg_VolumeOffSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,so);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeOffSvg"}),Fi||(Fi=W.createElement("path",{d:"M19.5711 22.8377C19.3572 22.9738 19.1433 23.1002 18.9294 23.2169C18.7155 23.3335 18.4919 23.4405 18.2586 23.5377C17.9669 23.6738 17.6704 23.6738 17.369 23.5377C17.0676 23.4016 16.8586 23.178 16.7419 22.8669C16.6252 22.5752 16.6398 22.2884 16.7856 22.0064C16.9315 21.7245 17.1502 21.5155 17.4419 21.3794C17.578 21.321 17.7044 21.2578 17.8211 21.1898C17.9377 21.1217 18.0544 21.0488 18.1711 20.971L14.0002 17.2669V20.5044C14.0002 21.0294 13.762 21.3939 13.2856 21.5981C12.8093 21.8023 12.3863 21.7196 12.0169 21.3502L8.1669 17.5002H4.66689C4.33634 17.5002 4.05926 17.3884 3.83564 17.1648C3.61203 16.9412 3.50023 16.6641 3.50023 16.3335V11.6669C3.50023 11.3363 3.61203 11.0592 3.83564 10.8356C4.05926 10.612 4.33634 10.5002 4.66689 10.5002H7.23356L2.45023 5.71686C2.23634 5.50297 2.12939 5.23075 2.12939 4.9002C2.12939 4.56964 2.23634 4.29742 2.45023 4.08353C2.66412 3.86964 2.93634 3.7627 3.26689 3.7627C3.59745 3.7627 3.86967 3.86964 4.08356 4.08353L23.9169 23.9169C24.1308 24.1308 24.2377 24.403 24.2377 24.7335C24.2377 25.0641 24.1308 25.3363 23.9169 25.5502C23.703 25.7641 23.4308 25.871 23.1002 25.871C22.7697 25.871 22.4975 25.7641 22.2836 25.5502L19.5711 22.8377ZM22.1669 13.971C22.1669 12.3571 21.7391 10.8842 20.8836 9.55228C20.028 8.22033 18.8808 7.22381 17.4419 6.5627C17.1502 6.42658 16.9363 6.21756 16.8002 5.93561C16.6641 5.65367 16.6447 5.36686 16.7419 5.0752C16.8586 4.76408 17.0676 4.54047 17.369 4.40436C17.6704 4.26825 17.9766 4.26825 18.2877 4.40436C20.1738 5.24047 21.6808 6.51408 22.8086 8.2252C23.9363 9.93631 24.5002 11.8516 24.5002 13.971C24.5002 14.6127 24.4419 15.2495 24.3252 15.8814C24.2086 16.5134 24.0433 17.121 23.8294 17.7044C23.6738 18.1321 23.4356 18.3995 23.1148 18.5064C22.794 18.6134 22.4975 18.6183 22.2252 18.521C21.953 18.4238 21.7343 18.2488 21.569 17.996C21.4037 17.7433 21.3988 17.4516 21.5544 17.121C21.7683 16.6155 21.9238 16.1051 22.0211 15.5898C22.1183 15.0745 22.1669 14.5349 22.1669 13.971ZM17.2377 9.82936C17.8794 10.2377 18.3752 10.8502 18.7252 11.6669C19.0752 12.4835 19.2502 13.2613 19.2502 14.0002V14.2919C19.2502 14.3891 19.2405 14.4863 19.2211 14.5835C19.1822 14.8363 19.0461 15.0016 18.8127 15.0794C18.5794 15.1571 18.3655 15.0988 18.1711 14.9044L16.6836 13.4169C16.5669 13.3002 16.4794 13.1689 16.4211 13.0231C16.3627 12.8773 16.3336 12.7266 16.3336 12.571V10.3252C16.3336 10.0919 16.4356 9.92172 16.6398 9.81478C16.844 9.70783 17.0433 9.7127 17.2377 9.82936ZM11.3752 8.10853C11.2586 7.99186 11.2002 7.85575 11.2002 7.7002C11.2002 7.54464 11.2586 7.40853 11.3752 7.29186L12.0169 6.6502C12.3863 6.28075 12.8093 6.19811 13.2856 6.40228C13.762 6.60645 14.0002 6.97103 14.0002 7.49603V9.33353C14.0002 9.60575 13.8836 9.79047 13.6502 9.8877C13.4169 9.98492 13.203 9.93631 13.0086 9.74186L11.3752 8.10853ZM11.6669 17.6752V14.9335L9.5669 12.8335H5.83356V15.1669H9.15856L11.6669 17.6752Z",fill:"white"}))))},co=["width","height"],svg_VolumeUpSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,co);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeUpSvg"}),Hi||(Hi=W.createElement("path",{d:"M22.1667 13.971C22.1667 12.3571 21.7389 10.8842 20.8833 9.55225C20.0278 8.2203 18.8806 7.22377 17.4417 6.56266C17.15 6.42655 16.9361 6.21752 16.8 5.93558C16.6639 5.65364 16.6444 5.36683 16.7417 5.07516C16.8583 4.76405 17.0674 4.54044 17.3688 4.40433C17.6701 4.26822 17.9764 4.26822 18.2875 4.40433C20.1736 5.24044 21.6806 6.51891 22.8083 8.23975C23.9361 9.96058 24.5 11.871 24.5 13.971C24.5 16.071 23.9361 17.9814 22.8083 19.7022C21.6806 21.4231 20.1736 22.7016 18.2875 23.5377C17.9764 23.6738 17.6701 23.6738 17.3688 23.5377C17.0674 23.4016 16.8583 23.1779 16.7417 22.8668C16.6444 22.5752 16.6639 22.2884 16.8 22.0064C16.9361 21.7245 17.15 21.5154 17.4417 21.3793C18.8806 20.7182 20.0278 19.7217 20.8833 18.3897C21.7389 17.0578 22.1667 15.5849 22.1667 13.971ZM8.16667 17.5002H4.66667C4.33611 17.5002 4.05903 17.3884 3.83542 17.1647C3.61181 16.9411 3.5 16.6641 3.5 16.3335V11.6668C3.5 11.3363 3.61181 11.0592 3.83542 10.8356C4.05903 10.612 4.33611 10.5002 4.66667 10.5002H8.16667L12.0167 6.65016C12.3861 6.28072 12.809 6.19808 13.2854 6.40225C13.7618 6.60641 14 6.971 14 7.496V20.5043C14 21.0293 13.7618 21.3939 13.2854 21.5981C12.809 21.8022 12.3861 21.7196 12.0167 21.3502L8.16667 17.5002ZM19.25 14.0002C19.25 14.8168 19.0653 15.5897 18.6958 16.3189C18.3264 17.0481 17.8403 17.646 17.2375 18.1127C17.0431 18.2293 16.8438 18.2342 16.6396 18.1272C16.4354 18.0203 16.3333 17.8502 16.3333 17.6168V10.3252C16.3333 10.0918 16.4354 9.92169 16.6396 9.81475C16.8438 9.7078 17.0431 9.71266 17.2375 9.82933C17.8403 10.3154 18.3264 10.9279 18.6958 11.6668C19.0653 12.4057 19.25 13.1835 19.25 14.0002ZM11.6667 10.3252L9.15833 12.8335H5.83333V15.1668H9.15833L11.6667 17.6752V10.3252Z",fill:"white"}))))},lo=t("lSNA"),uo=t.n(lo),po=t("HOoY"),go=t("k8gO"),ho={"video_progress.not_found":["playback_rate","subtitle_language","version","tech","volume"],"change.subtitles":["playback_rate","subtitle_language","version","tech","volume"],"volume.change":["playback_rate","subtitle_language","version","tech","volume"],"resolution.change":["resolution","version","tech"],playback_tech:["playback_rate","subtitle_language","version","tech","volume"],heartbeat:["playback_rate","subtitle_language","version","tech","volume"],joining:["playback_rate","version","tech","resolution","session_id"],joined:["playback_rate","version","tech","resolution","session_id"],wait_metrics:["playback_rate","version","tech","resolution","session_id"]},AnalyticsMetadataFetcher_getDataByKeys=function(e,t){var n=function(e){return t=e.options_,o=t.nextItemMetadataOrItemGroup,r=t.title,a=t.courseId,s=t.itemId,c=t.moduleId,l=t.moduleName,{item_id:s,course_id:a,item_name:r,lesson_id:t.lessonId,lesson_name:t.lessonName,module_id:c,module_name:l,open_course_slug:le.c,session_id:Object(go.a)(),video_name:r,version:2,linked_item_id:o?o.getId():"",linked_item_name:o?o.getName():"",timecode:Math.min(e.currentTime(),e.duration())||0,playback_rate:e.playbackRate(),volume:e.muted()?0:e.volume(),resolution:e.resolution(),tech:e.tech_&&"Html5"===e.tech_.constructor.name?"html5":"flash",subtitle_language:(n=e.textTracks().tracks_,i=n?n.find((function(e){return"showing"===e.mode})):null,i?i.language:"")};var t,n,i,o,r,a,s,c,l}(e);return t.reduce((function(e,t){return H()(H()({},e),{},uo()({},t,n[t]))}),{})},getTrackingDataForVideoEvent=function(e,t){return AnalyticsMetadataFetcher_getDataByKeys(e,ho[t]||[])},AnalyticsMetadataFetcher_createVideoEventTracker=function(e,t){var n=po.a.makeTracker({namespace:e,include:AnalyticsMetadataFetcher_getDataByKeys(t,["open_course_slug","video_name","course_id","item_id","item_name","lesson_id","lesson_name","module_id","module_name","timecode"])});return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,H()(H()({},getTrackingDataForVideoEvent(t,e)),i))}},mo=function(e){function VideoAnalytics(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).handleVideoProgressEvent=function(){t.props.videoProgress||t.track("video_progress.not_found")},t.basicEvents={autoplaychange:"autoplay.change",joining:"joining",mute:"mute",pause:"pause",play:"play",seeked:"seek",subtitleschange:"change.subtitles",unmute:"unmute",waiting:"waiting"},t.track=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.player,o=t.context._eventData.namespace.app,r=AnalyticsMetadataFetcher_createVideoEventTracker(o,i);r(e,H()(H()({},getTrackingDataForVideoEvent(i,e)),n))},t.trackHandler=function(e){return function(n,i){t.track(e,i)}},t}ct()(VideoAnalytics,e);var t=VideoAnalytics.prototype;return t.componentDidMount=function(){var e=this,t=this.props.player;Object.keys(this.basicEvents).forEach((function(n){t.on(n,e.trackHandler(e.basicEvents[n]))})),t.one("play",this.trackHandler("start")),t.ready(this.trackHandler("playback_tech")),t.on("waitmetrics",(function(t){return e.track("wait_metrics",{play_duration:t.playDuration,wait_duration:t.waitDuration,wait_count:t.waitCount})})),t.on("fullscreenchange",(function(){return e.track(t.isFullscreen()?"fullscreen.open":"fullscreen.close")})),t.emitter.on("heartbeat:30000",this.handleVideoProgressEvent),t.emitter.on("heartbeat:5000",this.trackHandler("heartbeat")),t.emitter.once("joined",(function(t){var n=t.joinDuration;return e.track("joined",{join_duration:n})}))},t.componentWillUnmount=function(){var e=this.props.player;Object.keys(this.basicEvents).forEach((function(t){return e.off(t)})),e.off("play"),e.off("waitmetrics"),e.emitter.off("heartbeat:30000"),e.emitter.off("heartbeat:5000")},t.render=function(){var e=this.props.children;return e||null},VideoAnalytics}(W.Component);mo.contextTypes={_eventData:ee.a.object.isRequired};var fo,vo,bo,yo,Co,So,ko,wo=["width","height"],svg_ActionFeedbackBackgroundCircleSvg=function(e){var t=e.width,n=void 0===t?124:t,i=e.height,o=void 0===i?124:i,r=zn()(e,wo);return(W.createElement("svg",L()({width:n,height:o,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"ActionFeedbackBackgroundCircleSvg"},r),Ai||(Ai=W.createElement("g",{filter:"url(#filter0_bd_1764_10896)"},W.createElement("rect",{x:"0",y:"0",width:"124",height:"124",rx:"62",fill:"black",fillOpacity:"0.66",shapeRendering:"crispEdges"}))),Bi||(Bi=W.createElement("defs",null,W.createElement("filter",{id:"filter0_bd_1764_10896",x:"-23",y:"-23",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"11.5"}),W.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_1764_10896"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"2"}),W.createElement("feGaussianBlur",{stdDeviation:"4"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.32 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect1_backgroundBlur_1764_10896",result:"effect2_dropShadow_1764_10896"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1764_10896",result:"shape"}))))))},xo={playButtonContainer:Object(q.c)(fo||(fo=U()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: opacity 0.3s ease-in-out, visibility 0.4s ease-in-out;\n    opacity: 0;\n    visibility: hidden;\n  "]))),showActionFeedback:Object(q.c)(vo||(vo=U()(["\n    opacity: 1;\n    visibility: visible;\n  "]))),hideActionFeedback:Object(q.c)(bo||(bo=U()(["\n    opacity: 0;\n    visibility: hidden;\n  "]))),actionFeedbackIconContainer:Object(q.c)(yo||(yo=U()(["\n    position: relative;\n    width: 124px;\n    height: 124px;\n  "]))),actionFeedbackBackground:Object(q.c)(Co||(Co=U()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: opacity 0.2s cubic-bezier(0, 0, 0.2, 1);\n  "]))),actionFeedbackIcon:Object(q.c)(So||(So=U()(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "])))},components_ActionFeedback=function(e){var t=e.feedback,n=e.showFeedback;return Object(q.d)("div",{role:"presentation",className:"action-feedback ".concat(n?"show":"hide"),"data-testid":"action-feedback-container",css:[xo.playButtonContainer,n?xo.showActionFeedback:xo.hideActionFeedback]},t&&Object(q.d)("div",{css:xo.actionFeedbackIconContainer,"data-testid":"action-feedback-icon-container"},Object(q.d)(svg_ActionFeedbackBackgroundCircleSvg,{css:xo.actionFeedbackBackground}),Object(q.d)("div",{css:xo.actionFeedbackIcon},t.icon)))},Oo=t("80iO"),To=t("/hg5");function getSubtitleLabel(e,t){var n=Object(To.d)(e),i=Object(To.b)(e);return t?"".concat(n," (").concat(i,")"):n}function constructLanguageMap(e,t){var n={};return Object.keys(e).forEach((function(i){if("__typename"!==i){var o=(null==t?void 0:t[i])||[],r=["machineTranslation","aiGenerated"],a=o.some((function(e){return r.includes(e.name)&&e.value}));n[i]={label:getSubtitleLabel(i,a),url:e[i]}}})),n}var jo,Eo,Po,Io,Vo,_o,Lo,Mo,Ro,No,Do,Fo,Ho,Ao,Bo,zo,Uo,Qo,Ko,qo,Wo=["width","height"],ArrowSvg=function(e){var t=e.width,n=void 0===t?14:t,i=e.height,o=void 0===i?14:i,r=zn()(e,Wo);return(W.createElement("svg",L()({xmlns:"http://www.w3.org/2000/svg",width:n,height:o,fill:"none",viewBox:"0 0 14 14"},r),ko||(ko=W.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4339 6.60316L6.71677 0.885998L7.28245 0.320312L13.9653 7.00316L7.28245 13.686L6.71677 13.1203L12.4339 7.40316H0.599609V6.60316H12.4339Z",fill:"white"}))))},Zo=["width","height"],CrosSvg=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i,r=zn()(e,Zo);return(W.createElement("svg",L()({xmlns:"http://www.w3.org/2000/svg",width:n,height:o,fill:"none",viewBox:"0 0 12 12"},r),jo||(jo=W.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5391 11.1596L0.837891 1.40962L1.41385 0.836539L11.1151 10.5865L10.5391 11.1596Z",fill:"white"})),Eo||(Eo=W.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1551 1.41022L1.41325 11.1602L0.83849 10.5859L10.5804 0.835938L11.1551 1.41022Z",fill:"white"}))))},Go=["width","height"],HeadsetSmall=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i,r=zn()(e,Go);return(W.createElement("svg",L()({xmlns:"http://www.w3.org/2000/svg",width:n,height:o,viewBox:"0 0 12 14",fill:"none"},r),Po||(Po=W.createElement("path",{d:"M10.6667 9.33073V11.3307C10.6667 11.6974 10.3667 11.9974 10 11.9974H9.33333V9.33073H10.6667ZM2.66667 9.33073V11.9974H2C1.63333 11.9974 1.33333 11.6974 1.33333 11.3307V9.33073H2.66667ZM6 0.664062C2.68667 0.664062 0 3.35073 0 6.66406V11.3307C0 12.4374 0.893333 13.3307 2 13.3307H4V7.9974H1.33333V6.66406C1.33333 4.08406 3.42 1.9974 6 1.9974C8.58 1.9974 10.6667 4.08406 10.6667 6.66406V7.9974H8V13.3307H10C11.1067 13.3307 12 12.4374 12 11.3307V6.66406C12 3.35073 9.31333 0.664062 6 0.664062Z",fill:"white"}))))},Jo=t("N8J5"),Yo=t.n(Jo),Xo={nudgeContainer:Object(q.c)(Io||(Io=U()(["\n    position: absolute;\n    top: var(--cds-spacing-100);\n    right: var(--cds-spacing-100);\n    width: 100%;\n    max-width: 375px;\n    background-color: rgb(0 0 0 / 66%);\n    padding: var(--cds-spacing-200);\n    padding-bottom: var(--cds-spacing-300);\n    border-radius: var(--cds-spacing-100);\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    backdrop-filter: blur(23px);\n    color: white;\n  "]))),nudgeTitle:Object(q.c)(Vo||(Vo=U()(["\n    font-size: 15px;\n    font-weight: 600;\n  "]))),nudgeClose:Object(q.c)(_o||(_o=U()(["\n    cursor: pointer;\n  "]))),nudgeDescription:Object(q.c)(Lo||(Lo=U()(["\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    margin-top: var(--cds-spacing-50);\n  "]))),nudgeFooter:Object(q.c)(Mo||(Mo=U()(["\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: var(--cds-spacing-200);\n    cursor: pointer;\n  "]))),nudgeArrow:Object(q.c)(Ro||(Ro=U()(["\n    padding-left: 10px;\n  "])))},$o="user-education-nudge-displayed",components_AudioDubbingNudgeTooltip=function(e){var t=e.visible,n=void 0!==t&&t,i=e.languageCode,o=e.playerHasLoaded,r=e.trackVideoPlayerClickEvent,a=e.trackVideoPlayerViewEvent,s=e.onDubbedAudioChoiceClick,c=Object(W.useState)(!1),l=B()(c,2),u=l[0],d=l[1],p=Object(W.useState)(!1),g=B()(p,2),h=g[0],m=g[1],f=be.a.getItem($o,JSON.parse,!1),v=!n||u||f;Object(W.useEffect)((function(){!o||h||v||(a("video_audio_warning_tooltip",{}),m(!0))}),[h,v,o,a]);var b=i?getSubtitleLabel(i,!1):"",dismissNudge=function(){d(!0),be.a.setItem($o,!0,JSON.stringify)};return v?null:Object(q.d)(re.a,{container:!0,css:Xo.nudgeContainer,onClick:function(e){return e.stopPropagation()},"data-testid":"user-education-nudge"},Object(q.d)(re.a,{item:!0,container:!0,xs:12},No||(No=Object(q.d)(re.a,{item:!0,xs:1},Object(q.d)(HeadsetSmall,null))),Object(q.d)(re.a,{item:!0,xs:10},Object(q.d)("div",{css:Xo.nudgeTitle},Yo()("AI-dubbing available"))),Object(q.d)(re.a,{item:!0,xs:1,css:Xo.nudgeClose,onClick:function(){r("video_audio_warning_tooltip_dismiss",{}),dismissNudge()},"data-testid":"nudge-close"},Do||(Do=Object(q.d)(CrosSvg,null)))),Object(q.d)(re.a,{item:!0,xs:12},Object(q.d)("div",{css:Xo.nudgeDescription},Yo()("Switch your audio settings to #{languageString} for a better learning experience.",{languageString:b}))),Object(q.d)(re.a,{item:!0,container:!0,xs:12,css:Xo.nudgeFooter,onClick:function(){if(i){var e={id:Object(To.a)(i),label:Object(To.a)(i),languageKey:i};s(e);var t,n={audioLanguage:i,audioLanguageEnabled:!0,previousAudioLanguage:"none"};if(fi.a.get("subtitleLanguage")===w)r("video_audio_warning_tooltip_switch",H()({},n));else r("video_settings_menu_audio_language_option",H()(H()({},n),{},{previousSubtitleLanguage:fi.a.get("subtitleLanguage"),subtitleLanguage:null!==(t=e.languageKey)&&void 0!==t?t:"none"}));dismissNudge()}},"data-testid":"nudge-footer"},Object(q.d)(re.a,{item:!0,xs:6},Object(q.d)("div",null,Yo()("Switch audio to #{languageString}",{languageString:b}))),Object(q.d)(re.a,{item:!0,xs:6,css:Xo.nudgeArrow},Fo||(Fo=Object(q.d)(ArrowSvg,null)))))},er=["width","height"],svg_FullscreenExitSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,er);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"FullscreenExitSvg"}),Ho||(Ho=W.createElement("path",{d:"M7 21H4.66667C4.33611 21 4.05903 20.8882 3.83542 20.6646C3.61181 20.441 3.5 20.1639 3.5 19.8333C3.5 19.5028 3.61181 19.2257 3.83542 19.0021C4.05903 18.7785 4.33611 18.6667 4.66667 18.6667H8.16667C8.49722 18.6667 8.77431 18.7785 8.99792 19.0021C9.22153 19.2257 9.33333 19.5028 9.33333 19.8333V23.3333C9.33333 23.6639 9.22153 23.941 8.99792 24.1646C8.77431 24.3882 8.49722 24.5 8.16667 24.5C7.83611 24.5 7.55903 24.3882 7.33542 24.1646C7.11181 23.941 7 23.6639 7 23.3333V21ZM21 21V23.3333C21 23.6639 20.8882 23.941 20.6646 24.1646C20.441 24.3882 20.1639 24.5 19.8333 24.5C19.5028 24.5 19.2257 24.3882 19.0021 24.1646C18.7785 23.941 18.6667 23.6639 18.6667 23.3333V19.8333C18.6667 19.5028 18.7785 19.2257 19.0021 19.0021C19.2257 18.7785 19.5028 18.6667 19.8333 18.6667H23.3333C23.6639 18.6667 23.941 18.7785 24.1646 19.0021C24.3882 19.2257 24.5 19.5028 24.5 19.8333C24.5 20.1639 24.3882 20.441 24.1646 20.6646C23.941 20.8882 23.6639 21 23.3333 21H21ZM7 7V4.66667C7 4.33611 7.11181 4.05903 7.33542 3.83542C7.55903 3.61181 7.83611 3.5 8.16667 3.5C8.49722 3.5 8.77431 3.61181 8.99792 3.83542C9.22153 4.05903 9.33333 4.33611 9.33333 4.66667V8.16667C9.33333 8.49722 9.22153 8.77431 8.99792 8.99792C8.77431 9.22153 8.49722 9.33333 8.16667 9.33333H4.66667C4.33611 9.33333 4.05903 9.22153 3.83542 8.99792C3.61181 8.77431 3.5 8.49722 3.5 8.16667C3.5 7.83611 3.61181 7.55903 3.83542 7.33542C4.05903 7.11181 4.33611 7 4.66667 7H7ZM21 7H23.3333C23.6639 7 23.941 7.11181 24.1646 7.33542C24.3882 7.55903 24.5 7.83611 24.5 8.16667C24.5 8.49722 24.3882 8.77431 24.1646 8.99792C23.941 9.22153 23.6639 9.33333 23.3333 9.33333H19.8333C19.5028 9.33333 19.2257 9.22153 19.0021 8.99792C18.7785 8.77431 18.6667 8.49722 18.6667 8.16667V4.66667C18.6667 4.33611 18.7785 4.05903 19.0021 3.83542C19.2257 3.61181 19.5028 3.5 19.8333 3.5C20.1639 3.5 20.441 3.61181 20.6646 3.83542C20.8882 4.05903 21 4.33611 21 4.66667V7Z",fill:"white"}))))},tr=["width","height"],svg_FullscreenSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,tr);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"FullscreenSvg"}),Ao||(Ao=W.createElement("path",{d:"M5.83333 22.1667H8.16667C8.49722 22.1667 8.77431 22.2785 8.99792 22.5021C9.22153 22.7257 9.33333 23.0028 9.33333 23.3333C9.33333 23.6639 9.22153 23.941 8.99792 24.1646C8.77431 24.3882 8.49722 24.5 8.16667 24.5H4.66667C4.33611 24.5 4.05903 24.3882 3.83542 24.1646C3.61181 23.941 3.5 23.6639 3.5 23.3333V19.8333C3.5 19.5028 3.61181 19.2257 3.83542 19.0021C4.05903 18.7785 4.33611 18.6667 4.66667 18.6667C4.99722 18.6667 5.27431 18.7785 5.49792 19.0021C5.72153 19.2257 5.83333 19.5028 5.83333 19.8333V22.1667ZM22.1667 22.1667V19.8333C22.1667 19.5028 22.2785 19.2257 22.5021 19.0021C22.7257 18.7785 23.0028 18.6667 23.3333 18.6667C23.6639 18.6667 23.941 18.7785 24.1646 19.0021C24.3882 19.2257 24.5 19.5028 24.5 19.8333V23.3333C24.5 23.6639 24.3882 23.941 24.1646 24.1646C23.941 24.3882 23.6639 24.5 23.3333 24.5H19.8333C19.5028 24.5 19.2257 24.3882 19.0021 24.1646C18.7785 23.941 18.6667 23.6639 18.6667 23.3333C18.6667 23.0028 18.7785 22.7257 19.0021 22.5021C19.2257 22.2785 19.5028 22.1667 19.8333 22.1667H22.1667ZM5.83333 5.83333V8.16667C5.83333 8.49722 5.72153 8.77431 5.49792 8.99792C5.27431 9.22153 4.99722 9.33333 4.66667 9.33333C4.33611 9.33333 4.05903 9.22153 3.83542 8.99792C3.61181 8.77431 3.5 8.49722 3.5 8.16667V4.66667C3.5 4.33611 3.61181 4.05903 3.83542 3.83542C4.05903 3.61181 4.33611 3.5 4.66667 3.5H8.16667C8.49722 3.5 8.77431 3.61181 8.99792 3.83542C9.22153 4.05903 9.33333 4.33611 9.33333 4.66667C9.33333 4.99722 9.22153 5.27431 8.99792 5.49792C8.77431 5.72153 8.49722 5.83333 8.16667 5.83333H5.83333ZM22.1667 5.83333H19.8333C19.5028 5.83333 19.2257 5.72153 19.0021 5.49792C18.7785 5.27431 18.6667 4.99722 18.6667 4.66667C18.6667 4.33611 18.7785 4.05903 19.0021 3.83542C19.2257 3.61181 19.5028 3.5 19.8333 3.5H23.3333C23.6639 3.5 23.941 3.61181 24.1646 3.83542C24.3882 4.05903 24.5 4.33611 24.5 4.66667V8.16667C24.5 8.49722 24.3882 8.77431 24.1646 8.99792C23.941 9.22153 23.6639 9.33333 23.3333 9.33333C23.0028 9.33333 22.7257 9.22153 22.5021 8.99792C22.2785 8.77431 22.1667 8.49722 22.1667 8.16667V5.83333Z",fill:"white"}))))},nr=t("cAeq"),ir={modernTooltip:Object(q.c)(Bo||(Bo=U()(["\n    background-color: black;\n    opacity: 0.8;\n    border-radius: var(--cds-border-radius-100);\n  "]))),message:Object(q.c)(zo||(zo=U()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},components_ModernTooltipWrapper=function(e){var t=e.message,n=e.keyboardShortcut,i=e.secondaryKeyboardShortcut,o=e.placement,r=void 0===o?"top":o,a=e.className,s=void 0===a?"modern-tooltip-wrapper":a,c=e.offset,l=void 0===c?25:c,u=e.videoBoundaryElement,d=e.children,p=Object(q.d)(se.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-tooltip-message",css:ir.message},t," ",n&&Object(q.d)("strong",null,"(",n,")"),i&&Object(q.d)(W.Fragment,null," ",Object(q.d)("strong",null,"(",i,")")));return Object(q.d)(nr.c,{"data-testid":"modern-tooltip-wrapper",placement:r,tooltipClassName:s,message:p,tooltipCss:ir.modernTooltip,offset:l,enableArrow:!1,boundaryElement:u,boundaryElementMargin:8},d)},or={fullscreenToggleTooltipWrapper:Object(q.c)(Uo||(Uo=U()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .rc-FullscreenToggle {\n      color: #dedede;\n    }\n  "])),ie.a.down("xs")),modernFullScreenToggle:Object(q.c)(Qo||(Qo=U()(["\n    /* \n    Overriding videojs classname styling for ease of implementing the code for the experiment. The 'important' flag won't be\n    needed once the experiment is rolled out and className are removed\n    */\n    margin-right: var(--cds-spacing-100) !important;\n  "])))};var rr,ar,sr,components_FullscreenToggle=function(e){var t=e.videoBoundaryElement,n=e.onChangeFullScreen,i=we.b.isFullScreen(),o=i?Yo()("Exit full Screen"):Yo()("Full Screen"),r=i?Ko||(Ko=Object(q.d)(svg_FullscreenExitSvg,{width:28,height:28})):qo||(qo=Object(q.d)(svg_FullscreenSvg,{width:28,height:28}));return Object(q.d)(components_ModernTooltipWrapper,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:o,keyboardShortcut:"f",css:or.fullscreenToggleTooltipWrapper,videoBoundaryElement:t},Object(q.d)("button",{type:"button",onClick:function(){n(i)},className:Xe()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":o,"aria-expanded":i,css:or.modernFullScreenToggle},Object(q.d)(W.Fragment,null,r),Object(q.d)("span",{className:"vjs-control-text"}," ",o," ")))},cr={fullscreenToggleTooltipWrapper:Object(q.c)(rr||(rr=U()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .rc-FullscreenToggle {\n      color: #dedede;\n    }\n  "])),ie.a.down("xs"))};var lr,ur,dr,pr,gr,hr,mr,fr,vr,br,yr,Cr,Sr,kr,wr,xr,Or,Tr,jr,Er,Pr,Ir,Vr,_r,Lr,Mr,Rr,Nr,Dr,Fr,Hr,Ar,Br,zr,Ur,Qr,Kr,qr,Wr,Zr,Gr,Jr,Yr,Xr,$r,ea,ta,na,ia,oa,ra,aa,sa,ca,la,ua,da,pa,ga,ha,ma,fa,va,ba,ya,Ca,Sa,ka,wa,xa,Oa,Ta,ja,components_IosFullscreenToggle=function(e){var t=e.player,n=e.trackVideoPlayerClickEvent,i=t.isFullscreen(),o=i?Yo()("Exit full Screen"):Yo()("Full Screen"),r=i?ar||(ar=Object(q.d)(svg_FullscreenExitSvg,{width:28,height:28})):sr||(sr=Object(q.d)(svg_FullscreenSvg,{width:28,height:28}));return Object(q.d)(nr.c,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:o,css:cr.fullscreenToggleTooltipWrapper},Object(q.d)("button",{type:"button",onClick:function(){i?t.exitFullscreen():t.requestFullscreen(),n("video_full_screen",{fullscreen:!i})},className:Xe()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":o,"aria-expanded":i},Object(q.d)(W.Fragment,null,r),Object(q.d)("span",{className:"vjs-control-text"}," ",o," ")))},svg_SVGWrapper=function(e){var t=e.children,n=e.width,i=void 0===n?36:n,o=e.height,r=void 0===o?36:o;return(W.createElement("div",{style:{width:i,height:r,display:"flex",alignItems:"center",justifyContent:"center"}},t))},Ea={playToggleTooltipWrapper:Object(q.c)(lr||(lr=U()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    // extra scope needed right now to override vjs style\n    .rc-PlayToggle {\n      position: relative;\n      text-align: center;\n      margin-top: 0;\n      margin-left: 1em;\n      margin-right: 0;\n      padding: 0;\n      color: #dedede;\n      height: 100%;\n      width: 3em;\n      flex: none;\n\n      .cif-play {\n        font-size: 1.6em;\n      }\n\n      .cif-pause {\n        font-size: 1.6em;\n      }\n    }\n  "])),ie.a.down("xs"))},Pa=function(e){function PlayToggle(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={isPlaying:!1},t.onPlay=function(){t.setState({isPlaying:!0})},t.onPause=function(){t.setState({isPlaying:!1})},t.togglePlaying=function(){var e=t.state.isPlaying,n=t.props,i=n.player,o=n.trackVideoPlayerClickEvent;e?(i.pause(),o("video_pause",{})):(i.play(),o("video_play",{}))},t}ct()(PlayToggle,e);var t=PlayToggle.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({isPlaying:!e.paused()}),e.on("play",this.onPlay),e.on("pause",this.onPause)},t.componentWillUnmount=function(){var e=this.props.player;e.off("play",this.onPlay),e.off("pause",this.onPause)},t.render=function(){var e=this.state.isPlaying,t=this.props.videoBoundaryElement,n=e?Yo()("Pause"):Yo()("Play"),i=n;return Object(q.d)(components_ModernTooltipWrapper,{css:Ea.playToggleTooltipWrapper,className:"play-toggle-tooltip-wrapper",placement:"top",message:i,videoBoundaryElement:t,keyboardShortcut:"spacebar",offset:20},Object(q.d)("button",{type:"button",onClick:this.togglePlaying,className:Xe()("rc-PlayToggle"),"aria-label":n,"aria-disabled":!1},Object(q.d)(W.Fragment,null,Object(q.d)(svg_SVGWrapper,null,e?ur||(ur=Object(q.d)(svg_PauseSvg,{width:28,height:28})):dr||(dr=Object(q.d)(svg_PlayArrowSvg,{width:36,height:36})))),Object(q.d)("span",{className:"vjs-control-text"}," ",n," ")))},PlayToggle}(W.Component),Ia={playbackRateControl:Object(q.c)(pr||(pr=U()(["\n    margin-right: var(--cds-spacing-200);\n  "]))),indicatorText:Object(q.c)(gr||(gr=U()(["\n    font-weight: bold;\n    font-size: var(--cds-font-size-300);\n  "])))},components_PlaybackRateControl=function(e){var t=e.currentPlaybackRate,n=e.onPlaybackRateClick,i=e.videoBoundaryElement,o=e.trackVideoPlayerClickEvent;return Object(q.d)(components_ModernTooltipWrapper,{placement:"top",message:Yo()("Switch Playback Rate"),keyboardShortcut:"<",secondaryKeyboardShortcut:">",videoBoundaryElement:i,offset:22},Object(q.d)("button",{"aria-label":Yo()("Video playback rate switcher"),type:"button",onClick:function(){if(t){var e=(O.indexOf(t)+1)%O.length,i=O[e];i&&t&&o("video_playback_rate_switcher",{playbackRate:i,previousPlaybackRate:t}),n(i)}},css:Ia.playbackRateControl},Object(q.d)(se.a,{component:"span",variant:"titleSmall",color:"invertBody",css:Ia.indicatorText},t,"x")))},Va={seekButton:function(){return Object(q.c)(hr||(hr=U()(["\n    margin-left: var(--cds-spacing-200);\n  "])))},right:Object(q.c)(mr||(mr=U()(["\n    margin-right: auto;\n  "])))},SeekControls_SeekButton=function(e){var t=e.direction,n=e.seekTime,i=e.player,o=e.icon,r=e.label,a=e.videoBoundaryElement,s=e.tooltipMessage,c=e.keyboardShortcut,l=e.trackVideoPlayerClickEvent,u=VideoTrimmingContext_useVideoTrimmingContext(),d=u.trimmedStartTimeSeconds,p=u.trimmedEndTimeSeconds;return Object(q.d)(components_ModernTooltipWrapper,{placement:"top",message:s,videoBoundaryElement:a,keyboardShortcut:c},Object(q.d)("button",{"aria-label":r,type:"button",onClick:function(){var e=i.currentTime(),o=e+t*n;o<d&&(o=d),p&&o>p&&(o=p),e&&l(t>0?"video_seek_forward":"video_seek_backward",{videoPosition:o,previousVideoPosition:e}),i.currentTime(o)},css:Va.seekButton},o))},SeekControls_SeekForwardControl=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent;return Object(q.d)(SeekControls_SeekButton,{label:Yo()("Seek Video Forward 10 seconds"),player:t,seekTime:10,direction:1,icon:fr||(fr=Object(q.d)(svg_Forward10Svg,{width:28,height:28})),videoBoundaryElement:n,tooltipMessage:Yo()("Forward 10s"),keyboardShortcut:"right",trackVideoPlayerClickEvent:i})},SeekControls_SeekBackwardControl=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent;return Object(q.d)(SeekControls_SeekButton,{label:Yo()("Seek Video Backward 10 seconds"),player:t,seekTime:10,direction:-1,icon:vr||(vr=Object(q.d)(svg_Replay10Svg,{width:28,height:28})),videoBoundaryElement:n,tooltipMessage:Yo()("Backward 10s"),keyboardShortcut:"left",trackVideoPlayerClickEvent:i})},_a={videoTimeDisplay:Object(q.c)(br||(br=U()(["\n    height: 100%;\n    margin-right: auto;\n    margin-left: 10px;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),ie.a.down("xs")),modernVideoTimeDisplay:Object(q.c)(yr||(yr=U()(["\n    margin-left: var(--cds-spacing-200);\n    margin-right: 0;\n    height: auto;\n  "]))),currentTimeDisplay:Object(q.c)(Cr||(Cr=U()(["\n    font-size: 14px;\n  "]))),timeSeparator:Object(q.c)(Sr||(Sr=U()(["\n    font-size: 14px;\n    margin: 0 8px;\n  "]))),durationDisplay:Object(q.c)(kr||(kr=U()(["\n    font-size: 14px;\n  "])))},La=function(e){function VideoTimeDisplay(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={currentTime:null,duration:null},t.getCurrentTime=function(){var e=t.props,n=e.trimmedStartTimeSeconds;return e.player.currentTime()-n},t.onTimeChange=function(){t.setState({currentTime:t.getCurrentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.convertSecondsToDisplay=function(e,t){if(!e||e<0)return t?"0 minutes 0 seconds":"0:00";var n="".concat(Math.floor(e/60)),i="".concat(Math.floor(e%60)).padStart(2,"0");return t?"".concat(n," minutes ").concat(i," seconds"):"".concat(n,":").concat(i)},t}ct()(VideoTimeDisplay,e);var t=VideoTimeDisplay.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({currentTime:this.getCurrentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange)},t.componentWillUnmount=function(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange)},t.render=function(){var e=this.state,t=e.currentTime,n=e.duration;return null==t||null==n?null:Object(q.d)(W.Fragment,null,Object(q.d)("div",{css:[_a.videoTimeDisplay,_a.modernVideoTimeDisplay]},Object(q.d)(se.a,{component:"span",variant:"subtitleLarge",color:"invertBody"},Object(q.d)("span",{className:"current-time-display","aria-label":Yo()(this.convertSecondsToDisplay(t,!0))},this.convertSecondsToDisplay(t)),wr||(wr=Object(q.d)("span",{className:"time-separator"}," / ")),Object(q.d)("span",{className:"duration-display","aria-label":Yo()(this.convertSecondsToDisplay(n,!0))},this.convertSecondsToDisplay(n)))))},VideoTimeDisplay}(W.Component),Ma={namespace:{app:"open_course",page:"video"}},useAutoplayToggle_useAutoplayToggle=function(e){var t=e.subscribeToAutoplayChanges,n=e.unsubscribeFromAutoplayChanges,i=e.triggerAutoplayChangePlayerEvent,o=Object(W.useState)(fi.a.get("autoplay")),r=B()(o,2),a=r[0],s=r[1];Object(W.useEffect)((function(){var updateAutoplayUi=function(){return s(fi.a.get("autoplay"))};return t(updateAutoplayUi),function(){n(updateAutoplayUi)}}),[t,n,i]);return{autoplay:a,handleToggleSwitchClick:function(){var e=!a;s(e),fi.a.set("autoplay",e),i(),function(e){var t={autoplay:e};po.a.trackComponent(Ma,t,"autoplay_toggle_standalone","click")}(e)}}},videoUtils_getDefaultVideoResolution=function(e){return x.includes(tn.a.requestCountryCode)?"360p":e?"720p":"540p"},videoUtils_formatSourcesByResolution=function(e){var t={};return Object.entries(e).forEach((function(e){var n=B()(e,2),i=n[0],o=n[1];t[i]=Object.entries(o).map((function(e){var t=B()(e,2);return{type:t[0],src:t[1]}}))})),t},videoUtils_getEventingDubbingLanguage=function(e,t){return t?e===t?w:t:w},loadNewSrc=function(e){var t=e.player,n=e.type,i=e.src,o=e.onLoadedMetadata,r=t.paused(),a=t.currentTime(),s=t.playbackRate();t.one("loadedmetadata",(function(){o?o():function(e){var t=e.player,n=e.currentTime,i=e.playbackRate,o=e.isPaused;t.currentTime(n),t.playbackRate(i);var r=fi.a.get("autoplay");o&&!r?t.pause():t.play()}({player:t,currentTime:a,playbackRate:s,isPaused:r})})),t.src({src:i,type:n})},Ra=["234p","240p","270p","360p","540p","720p","1080p","auto"],resolutionUtils_getInitialResolution=function(e){var t=e.enableHlsExperiment,n=e.enableNewDefaultVideoResolution,i=e.isAutoAllowed,o=void 0===i||i,r=videoUtils_getDefaultVideoResolution(n),a=fi.a.get("resolution"),s=Ra.includes(a)?a:r;if(t){var c=fi.a.get("hlsResolution");s=Ra.includes(c)?c:"auto"}return o||"auto"!==s||(s=r),s},resolutionUtils_saveResolutionInUserPreferences=function(e){fi.a.set("resolution",e),fi.a.set("hlsResolution",e)},useSubtitleMenuControls_useSubtitleMenuControls=function(e){var t=e.player,n=e.defaultSubtitleLanguage,i=e.trackVideoPlayerClickEvent,o=e.selectedAudioLanguage,r=e.defaultLanguageKey,a=e.shouldShowNudgeOnSubtitleChange,s=Object(W.useState)(null),c=B()(s,2),l=c[0],u=c[1],d=(null==o?void 0:o.languageKey)!==r,p=Object(W.useState)([]),g=B()(p,2),h=g[0],m=g[1],f=Object(W.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var o=n[i];"captions"!==o.kind||o.label!==e.label||o.id.includes("-dub")?o.mode="disabled":o.mode="showing"}}),[t]),v=Object(W.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var o=n[i];"captions"===o.kind&&o.label===e.label&&o.id.includes("-dub")?o.mode="showing":o.mode="disabled"}}),[t]),b=Object(W.useCallback)((function(){var e=((null==t?void 0:t.textTracks())||{}).tracks_,n=void 0===e?[]:e,i=n.filter((function(e){return e.id.includes("-dub")})).filter((function(e){return e.language===(null==o?void 0:o.languageKey)})),a=n.filter((function(e){return"captions"===e.kind&&!e.id.includes("-dub")})).sort((function(e,t){var n=e.label.toUpperCase(),i=t.label.toUpperCase();return n<i?-1:n>i?1:0}));return(null==o?void 0:o.languageKey)!==r?i:a}),[t,null==o?void 0:o.languageKey,r]),onSubtitleLanguageChoiceClick=function(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l&&(l.mode="disabled"),d?fi.a.set("dubbedSubtitleLanguage",e?e.language:"none"):fi.a.set("subtitleLanguage",e?e.language:"none"),n||i("video_subtitle_option",{previousSubtitleLanguage:fi.a.get("subtitleLanguage"),subtitleLanguage:e.language}),r?v(e):f(e),u(e),null==a||a(e.language),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(o=null==l?void 0:l.language)&&void 0!==o?o:""})};Object(W.useEffect)((function(){var getCurrentTrack=function(){return t.textTracks().tracks_.find((function(e){return"showing"===e.mode}))||null},onTrackChange=function(){u(getCurrentTrack())},onTrackLoad=function(){var e,i=t.textTracks().tracks_.find((function(e){return e.language===n}))||null,o=getCurrentTrack();!o&&i&&f(i),null==a||a(null!==(e=null==o?void 0:o.language)&&void 0!==e?e:""),u(o),m(b())};return t.on("trackchange",onTrackChange),t.on("trackloaded",onTrackLoad),function(){t.off("trackchange",onTrackChange),t.off("trackloaded",onTrackLoad)}}),[l,n,b,t,f,a]);var onSubtitleOffClick=function(e){var n;l&&(l.mode="disabled"),e?fi.a.set("dubbedSubtitleLanguage","none"):fi.a.set("subtitleLanguage","none"),u(null),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(n=null==l?void 0:l.language)&&void 0!==n?n:""})};return function(e){var t=e.getTracks,n=e.defaultLanguageKey,i=e.onSubtitleOffClick,o=e.isDubbedAudioEnabled,r=e.onSubtitleLanguageChoiceClick,a=e.player,s=Object(Qn.b)(),c=s.changeSubtitleOnAudioChange,l=s.setChangeSubtitleOnAudioChange;Object(W.useEffect)((function(){if(c.shouldChange){var e=fi.a.get("subtitleLanguage"),o=t().find((function(t){return t.language===e}));if(c.languageCode===n){if(!o||"none"===e)return void(null==i||i());null==r||r(o,!0,!1)}else{if(!e||"none"===e)return;var a=t().find((function(e){return e.language===c.languageCode}));if(!a)return;null==r||r(a,!0,!0)}l({shouldChange:!1,languageCode:void 0})}}),[c.languageCode,c.shouldChange,n,t,r,i,l]),Object(W.useEffect)((function(){a.on("loadedmetadata",(function(){if(o){var e=fi.a.get("dubbedSubtitleLanguage");if(e){var n=t().find((function(t){return t.language===e}));n&&(null==r||r(n,!0,!0))}}}))}),[o,t,a])}({getTracks:b,defaultLanguageKey:r,onSubtitleOffClick:onSubtitleOffClick,isDubbedAudioEnabled:d,onSubtitleLanguageChoiceClick:onSubtitleLanguageChoiceClick,player:t}),{onSubtitleLanguageChoiceClick:onSubtitleLanguageChoiceClick,onSubtitleOffClick:onSubtitleOffClick,currentTrack:l,tracks:h}},Na=t("OsBQ"),Da=t("fVXl"),Fa=["width","height"],Headset=function(e){var t=e.width,n=void 0===t?24:t,i=e.height,o=void 0===i?24:i,r=zn()(e,Fa);return(W.createElement("svg",L()({xmlns:"http://www.w3.org/2000/svg",width:n,height:o,fill:"none",viewBox:"0 0 18 20"},r),xr||(xr=W.createElement("path",{d:"M16 13.5V16.5C16 17.05 15.55 17.5 15 17.5H14V13.5H16ZM4 13.5V17.5H3C2.45 17.5 2 17.05 2 16.5V13.5H4ZM9 0.5C4.03 0.5 0 4.53 0 9.5V16.5C0 18.16 1.34 19.5 3 19.5H6V11.5H2V9.5C2 5.63 5.13 2.5 9 2.5C12.87 2.5 16 5.63 16 9.5V11.5H12V19.5H15C16.66 19.5 18 18.16 18 16.5V9.5C18 4.53 13.97 0.5 9 0.5Z",fill:"white"}))))},Ha=["width","height"],svg_HighQualitySvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,Ha);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Or||(Or=W.createElement("path",{d:"M14.75 15V15.75C14.75 15.9667 14.8208 16.1458 14.9625 16.2875C15.1042 16.4292 15.2833 16.5 15.5 16.5C15.7167 16.5 15.8958 16.4292 16.0375 16.2875C16.1792 16.1458 16.25 15.9667 16.25 15.75V15H17C17.2833 15 17.5208 14.9042 17.7125 14.7125C17.9042 14.5208 18 14.2833 18 14V10C18 9.71667 17.9042 9.47917 17.7125 9.2875C17.5208 9.09583 17.2833 9 17 9H14C13.7167 9 13.4792 9.09583 13.2875 9.2875C13.0958 9.47917 13 9.71667 13 10V14C13 14.2833 13.0958 14.5208 13.2875 14.7125C13.4792 14.9042 13.7167 15 14 15H14.75ZM7.5 13H9.5V14.25C9.5 14.4667 9.57083 14.6458 9.7125 14.7875C9.85417 14.9292 10.0333 15 10.25 15C10.4667 15 10.6458 14.9292 10.7875 14.7875C10.9292 14.6458 11 14.4667 11 14.25V9.75C11 9.53333 10.9292 9.35417 10.7875 9.2125C10.6458 9.07083 10.4667 9 10.25 9C10.0333 9 9.85417 9.07083 9.7125 9.2125C9.57083 9.35417 9.5 9.53333 9.5 9.75V11.5H7.5V9.75C7.5 9.53333 7.42917 9.35417 7.2875 9.2125C7.14583 9.07083 6.96667 9 6.75 9C6.53333 9 6.35417 9.07083 6.2125 9.2125C6.07083 9.35417 6 9.53333 6 9.75V14.25C6 14.4667 6.07083 14.6458 6.2125 14.7875C6.35417 14.9292 6.53333 15 6.75 15C6.96667 15 7.14583 14.9292 7.2875 14.7875C7.42917 14.6458 7.5 14.4667 7.5 14.25V13ZM14.5 13.5V10.5H16.5V13.5H14.5ZM4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM4 18H20V6H4V18Z",fill:"white"}))))},Aa=["width","height"],svg_PlayCircleSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,Aa);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Tr||(Tr=W.createElement("path",{d:"M10.65 15.75L15.525 12.625C15.7583 12.475 15.875 12.2667 15.875 12C15.875 11.7333 15.7583 11.525 15.525 11.375L10.65 8.25C10.4 8.08333 10.1458 8.07083 9.8875 8.2125C9.62917 8.35417 9.5 8.575 9.5 8.875V15.125C9.5 15.425 9.62917 15.6458 9.8875 15.7875C10.1458 15.9292 10.4 15.9167 10.65 15.75ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"white"}))))},Ba=["width","height"],svg_PlaybackSpeedSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,Ba);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),jr||(jr=W.createElement("path",{d:"M10.65 15.7499L15.525 12.6249C15.7583 12.4749 15.875 12.2666 15.875 11.9999C15.875 11.7333 15.7583 11.5249 15.525 11.3749L10.65 8.24992C10.4 8.08326 10.1458 8.07076 9.8875 8.21242C9.62916 8.35409 9.5 8.57493 9.5 8.87493V15.1249C9.5 15.4249 9.62916 15.6458 9.8875 15.7874C10.1458 15.9291 10.4 15.9166 10.65 15.7499ZM3.025 12.9999C3.30833 12.9999 3.5625 13.0916 3.7875 13.2749C4.0125 13.4583 4.16666 13.6916 4.25 13.9749C4.35 14.3583 4.47083 14.7208 4.6125 15.0624C4.75416 15.4041 4.91666 15.7416 5.1 16.0749C5.25 16.3249 5.3125 16.5916 5.2875 16.8749C5.2625 17.1583 5.15 17.3999 4.95 17.5999C4.76666 17.7833 4.54166 17.8666 4.275 17.8499C4.00833 17.8333 3.8 17.7166 3.65 17.4999C3.28333 16.9833 2.975 16.4291 2.725 15.8374C2.475 15.2458 2.28333 14.6333 2.15 13.9999C2.1 13.7333 2.1625 13.4999 2.3375 13.2999C2.5125 13.0999 2.74166 12.9999 3.025 12.9999ZM4.95 6.39992C5.15 6.59992 5.25833 6.84159 5.275 7.12492C5.29166 7.40826 5.23333 7.66659 5.1 7.89992C4.91666 8.23326 4.75416 8.57493 4.6125 8.92493C4.47083 9.27493 4.35 9.64159 4.25 10.0249C4.16666 10.3083 4.0125 10.5416 3.7875 10.7249C3.5625 10.9083 3.30833 10.9999 3.025 10.9999C2.74166 10.9999 2.5125 10.8958 2.3375 10.6874C2.1625 10.4791 2.10833 10.2416 2.175 9.97493C2.30833 9.34159 2.5 8.72909 2.75 8.13742C3 7.54576 3.3 6.99159 3.65 6.47492C3.8 6.25826 4.00833 6.14576 4.275 6.13742C4.54166 6.12909 4.76666 6.21659 4.95 6.39992ZM6.35 19.0249C6.55 18.8083 6.79583 18.6916 7.0875 18.6749C7.37916 18.6583 7.65 18.7249 7.9 18.8749C8.23333 19.0583 8.57083 19.2249 8.9125 19.3749C9.25416 19.5249 9.60833 19.6499 9.975 19.7499C10.2583 19.8333 10.4917 19.9833 10.675 20.1999C10.8583 20.4166 10.95 20.6666 10.95 20.9499C10.95 21.2333 10.8458 21.4583 10.6375 21.6249C10.4292 21.7916 10.1917 21.8499 9.925 21.7999C9.29166 21.6666 8.69583 21.4749 8.1375 21.2249C7.57916 20.9749 7.03333 20.6833 6.5 20.3499C6.26666 20.1999 6.1375 19.9916 6.1125 19.7249C6.0875 19.4583 6.16666 19.2249 6.35 19.0249ZM11 3.04992C11 3.33326 10.9125 3.58326 10.7375 3.79992C10.5625 4.01659 10.3333 4.16659 10.05 4.24992C9.66666 4.34992 9.3 4.47076 8.95 4.61242C8.6 4.75409 8.25833 4.92492 7.925 5.12492C7.675 5.27492 7.40416 5.33742 7.1125 5.31242C6.82083 5.28742 6.575 5.17492 6.375 4.97492C6.175 4.77492 6.0875 4.53742 6.1125 4.26242C6.1375 3.98742 6.26666 3.77492 6.5 3.62492C7.03333 3.29159 7.5875 3.00409 8.1625 2.76242C8.7375 2.52076 9.34166 2.33326 9.975 2.19992C10.2417 2.14992 10.4792 2.20826 10.6875 2.37492C10.8958 2.54159 11 2.76659 11 3.04992ZM20 11.9999C20 10.1166 19.4208 8.45409 18.2625 7.01242C17.1042 5.57076 15.625 4.63326 13.825 4.19992C13.575 4.13326 13.375 3.99159 13.225 3.77492C13.075 3.55826 13 3.31659 13 3.04992C13 2.78326 13.0917 2.56242 13.275 2.38742C13.4583 2.21242 13.6667 2.14992 13.9 2.19992C16.2333 2.66659 18.1667 3.80826 19.7 5.62492C21.2333 7.44159 22 9.56659 22 11.9999C22 14.4333 21.2333 16.5583 19.7 18.3749C18.1667 20.1916 16.2333 21.3333 13.9 21.7999C13.6667 21.8499 13.4583 21.7874 13.275 21.6124C13.0917 21.4374 13 21.2166 13 20.9499C13 20.6833 13.075 20.4416 13.225 20.2249C13.375 20.0083 13.575 19.8666 13.825 19.7999C15.625 19.3666 17.1042 18.4291 18.2625 16.9874C19.4208 15.5458 20 13.8833 20 11.9999Z",fill:"white"}))))},za=["width","height"],svg_SubtitlesSvg=function(e){var t=e.width,n=void 0===t?18:t,i=e.height,o=void 0===i?19:i,r=zn()(e,za);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SubtitlesSvg"}),Er||(Er=W.createElement("path",{d:"M4.66683 23.3332C4.02516 23.3332 3.47586 23.1047 3.01891 22.6478C2.56197 22.1908 2.3335 21.6415 2.3335 20.9998V6.99984C2.3335 6.35817 2.56197 5.80887 3.01891 5.35192C3.47586 4.89498 4.02516 4.6665 4.66683 4.6665H23.3335C23.9752 4.6665 24.5245 4.89498 24.9814 5.35192C25.4384 5.80887 25.6668 6.35817 25.6668 6.99984V20.9998C25.6668 21.6415 25.4384 22.1908 24.9814 22.6478C24.5245 23.1047 23.9752 23.3332 23.3335 23.3332H4.66683ZM4.66683 20.9998H23.3335V6.99984H4.66683V20.9998ZM8.16683 18.6665H15.1668C15.4974 18.6665 15.7745 18.5547 15.9981 18.3311C16.2217 18.1075 16.3335 17.8304 16.3335 17.4998C16.3335 17.1693 16.2217 16.8922 15.9981 16.6686C15.7745 16.445 15.4974 16.3332 15.1668 16.3332H8.16683C7.83627 16.3332 7.55919 16.445 7.33558 16.6686C7.11197 16.8922 7.00016 17.1693 7.00016 17.4998C7.00016 17.8304 7.11197 18.1075 7.33558 18.3311C7.55919 18.5547 7.83627 18.6665 8.16683 18.6665ZM12.8335 13.9998H19.8335C20.1641 13.9998 20.4411 13.888 20.6647 13.6644C20.8884 13.4408 21.0002 13.1637 21.0002 12.8332C21.0002 12.5026 20.8884 12.2255 20.6647 12.0019C20.4411 11.7783 20.1641 11.6665 19.8335 11.6665H12.8335C12.5029 11.6665 12.2259 11.7783 12.0022 12.0019C11.7786 12.2255 11.6668 12.5026 11.6668 12.8332C11.6668 13.1637 11.7786 13.4408 12.0022 13.6644C12.2259 13.888 12.5029 13.9998 12.8335 13.9998ZM8.16683 13.9998C8.49738 13.9998 8.77447 13.888 8.99808 13.6644C9.22169 13.4408 9.3335 13.1637 9.3335 12.8332C9.3335 12.5026 9.22169 12.2255 8.99808 12.0019C8.77447 11.7783 8.49738 11.6665 8.16683 11.6665C7.83627 11.6665 7.55919 11.7783 7.33558 12.0019C7.11197 12.2255 7.00016 12.5026 7.00016 12.8332C7.00016 13.1637 7.11197 13.4408 7.33558 13.6644C7.55919 13.888 7.83627 13.9998 8.16683 13.9998ZM19.8335 18.6665C20.1641 18.6665 20.4411 18.5547 20.6647 18.3311C20.8884 18.1075 21.0002 17.8304 21.0002 17.4998C21.0002 17.1693 20.8884 16.8922 20.6647 16.6686C20.4411 16.445 20.1641 16.3332 19.8335 16.3332C19.5029 16.3332 19.2259 16.445 19.0022 16.6686C18.7786 16.8922 18.6668 17.1693 18.6668 17.4998C18.6668 17.8304 18.7786 18.1075 19.0022 18.3311C19.2259 18.5547 19.5029 18.6665 19.8335 18.6665Z",fill:"white"}))))},Ua={menuIconContainer:Object(q.c)(Pr||(Pr=U()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n  "]))),buttonFocus:Object(q.c)(Ir||(Ir=U()(["\n    &:focus-visible {\n      outline: 2px solid #79f;\n      outline-offset: -1px;\n    }\n  "]))),menuItem:Object(q.c)(Vr||(Vr=U()(["\n    && {\n      background-color: transparent;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      gap: var(--cds-spacing-150);\n      padding: var(--cds-spacing-100) var(--cds-spacing-200);\n\n      &:hover {\n        background-color: rgb(255 255 255 / 12%);\n        color: var(--cds-color-neutral-primary-invert);\n      }\n    }\n  "]))),menuItemTitle:Object(q.c)(_r||(_r=U()(["\n    flex: 1;\n    display: flex;\n    justify-content: flex-start;\n    text-align: left;\n  "]))),lastMenuItem:Object(q.c)(Lr||(Lr=U()(["\n    padding-bottom: 0;\n  "])))},modernSettingsMenu_ModernSettingsMenuItem=function(e){var t=e.menuItem,n=e.isLastItem,i=t.isSelected,o=t.title,r=t.icon,a=t.action,s=t.actionComponent,c=t.buttonWrapper,l=void 0===c||c,u=t.role,d=void 0===u?"menuitem":u,p=Object(q.d)(W.Fragment,null,Object(q.d)("div",{css:Ua.menuIconContainer},r),Object(q.d)(se.a,{css:Ua.menuItemTitle,variant:"actionPrimary",color:"invertBody",component:"div"},o),s&&Object(q.d)("div",null,s));return l?Object(q.d)("button",L()({role:d},"menuitemradio"===d&&void 0!==i?{"aria-checked":i}:{},{key:o,type:"button",css:[Ua.menuItem,n&&Ua.lastMenuItem,Ua.buttonFocus],onClick:a}),p):Object(q.d)("div",{key:o,css:[Ua.menuItem,n&&Ua.lastMenuItem]},p)},modernSettingsMenu_ModernSettingsMenuItemList=function(e){var t=e.menuConfig,n=e.visible,i=Object(W.useRef)(null);return Object(W.useEffect)((function(){if(i.current&&n){var e,t=i.current.querySelectorAll('a, area, button:not(.vjs-default-button):not(.vjs-close-button):not(.vjs-done-button), frame, iframe, input, object, textarea, [tabindex]:not([disabled]):not([tabindex="-1"]');if(t)null===(e=Array.from(t)[0])||void 0===e||e.focus()}}),[i,n]),Object(q.d)("div",{role:"menu",ref:i},t.map((function(e,n){var i=n===t.length-1;return Object(q.d)(modernSettingsMenu_ModernSettingsMenuItem,{key:e.title,menuItem:e,isLastItem:i})})))},Qa=t("wr+D"),Ka=["width","height"],svg_CheckSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,Ka);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Mr||(Mr=W.createElement("path",{d:"M9.54999 15.15L18.025 6.675C18.225 6.475 18.4583 6.375 18.725 6.375C18.9917 6.375 19.225 6.475 19.425 6.675C19.625 6.875 19.725 7.1125 19.725 7.3875C19.725 7.6625 19.625 7.9 19.425 8.1L10.25 17.3C10.05 17.5 9.81666 17.6 9.54999 17.6C9.28333 17.6 9.04999 17.5 8.84999 17.3L4.54999 13C4.34999 12.8 4.25416 12.5625 4.26249 12.2875C4.27083 12.0125 4.37499 11.775 4.57499 11.575C4.77499 11.375 5.01249 11.275 5.28749 11.275C5.56249 11.275 5.79999 11.375 5.99999 11.575L9.54999 15.15Z",fill:"white"}))))},qa={menuIconContainer:Object(q.c)(Rr||(Rr=U()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n  "]))),submenuTitleContainer:Object(q.c)(Nr||(Nr=U()(["\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: var(--cds-spacing-100) var(--cds-spacing-200) var(--cds-spacing-200) var(--cds-spacing-200);\n    border-bottom: 1px solid rgb(255 255 255 / 24%);\n    margin-bottom: var(--cds-spacing-100);\n  "]))),submenuTitleButton:Object(q.c)(Dr||(Dr=U()(["\n    width: 100%;\n  "]))),submenuTitleContainerHoverFocus:Object(q.c)(Fr||(Fr=U()(["\n    && {\n      background-color: transparent;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      gap: var(--cds-spacing-150);\n      padding: var(--cds-spacing-100) var(--cds-spacing-200);\n\n      &:hover {\n        background-color: rgb(255 255 255 / 12%);\n        color: var(--cds-color-neutral-primary-invert);\n      }\n    }\n  "]))),submenuSectionContainerButtonFocus:Object(q.c)(Hr||(Hr=U()(["\n    &:focus-visible {\n      outline: 2px solid #79f;\n    }\n  "]))),submenuTitle:Object(q.c)(Ar||(Ar=U()(["\n    display: flex;\n  "]))),boldIcon:Object(q.c)(Br||(Br=U()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: var(--cds-color-neutral-background-primary);\n    stroke: var(--cds-color-neutral-background-primary);\n    stroke-width: 1px;\n  "])))},modernSettingsMenu_ModernSettingsSubmenu=function(e){var t=e.title,n=e.selected,i=e.options,o=e.action,r=e.onBackButtonClick,a=e.visible,s=i.map((function(e){var t=e.id===(null==n?void 0:n.id);return{title:e.label,icon:t?zr||(zr=Object(q.d)(svg_CheckSvg,null)):void 0,isSelected:t,action:function(){o(e)},role:e.role}}));return Object(q.d)("div",null,Object(q.d)("button",{type:"button",onClick:r,"aria-label":Yo()("Go back to main settings menu"),css:qa.submenuTitleButton},Object(q.d)("section",{css:[qa.submenuTitleContainer,qa.submenuTitleContainerHoverFocus,qa.submenuSectionContainerButtonFocus]},Object(q.d)("div",{css:qa.menuIconContainer},Object(q.d)(Qa.a,{size:"small",css:qa.boldIcon})),Object(q.d)(se.a,{css:qa.submenuTitle,color:"invertBody",component:"p",variant:"subtitleMedium"},t))),Object(q.d)(modernSettingsMenu_ModernSettingsMenuItemList,{visible:a,menuConfig:s}))},Wa={scrollbar:Object(q.c)(Ur||(Ur=U()(["\n    /* Custom scrollbar styles for Webkit browsers.\n       Some browsers have a tendency to hide scrollbar on page load. Overflow scrolll respects this.\n       In order to make sure the scrollbar is always visible, we are going this way\n    */\n    ::-webkit-scrollbar {\n      width: 16px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n      border-radius: 10px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: ",";\n    }\n\n    /* Custom scrollbar styles for Firefox */\n    scrollbar-width: thin;\n    scrollbar-color: "," ",";\n\n    "," {\n      ::-webkit-scrollbar {\n        width: 16px;\n      }\n    }\n  "])),"#f1f1f1","#888","#555","#888","#f1f1f1",ie.a.down("xs")),settingsMenuPopup:Object(q.c)(Qr||(Qr=U()(["\n    max-height: 80%;\n    min-width: 256px;\n    max-width: 300px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    position: absolute;\n    bottom: ","px;\n    right: var(--cds-spacing-400);\n    transform: translate(-3%, 0%);\n    transition: visibility 0s ","s,\n      opacity ","s linear;\n    opacity: 0;\n    color: #fff;\n    background-color: rgb(0 0 0 / 66%);\n    backdrop-filter: blur(23px);\n    border-radius: 8px;\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    visibility: hidden;\n    padding-top: var(--cds-spacing-150);\n    padding-bottom: var(--cds-spacing-150);\n\n    "," {\n      right: 0;\n      max-height: 50%;\n    }\n  "])),88,.2,.2,ie.a.down("xs")),popupVisible:Object(q.c)(Kr||(Kr=U()(["\n    opacity: 1;\n    visibility: visible;\n    transition: opacity 0.2s linear;\n  "]))),boldIcon:Object(q.c)(qr||(qr=U()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: var(--cds-color-neutral-background-primary);\n    stroke: var(--cds-color-neutral-background-primary);\n    stroke-width: 1px;\n  "])))},Za=W.forwardRef((function(e,t){var n,i=e.visible,o=e.supportedResolutions,r=e.currentResolutionOption,a=e.currentResolution,s=e.onResolutionOptionClick,c=e.currentPlaybackRate,l=e.supportedPlaybackRates,u=e.onPlaybackRateClick,d=e.onSubtitleLanguageChoiceClick,p=e.onSubtitleOffClick,g=e.currentTrack,h=e.tracks,m=e.onToggleAutoplay,f=e.autoplay,v=e.enableHls,b=e.dubbedLanguages,y=e.onDubbedAudioChoiceClick,C=e.selectedAudioLanguage,S=e.trackVideoPlayerClickEvent,k=e.closeSettingsMenu,x=e.isOriginalAudioSelected,O=void 0===x||x,T=e.defaultLanguageKey,j=e.handleResolutionChangeForDubbedAudio,E=Object(W.useState)(!0),P=B()(E,2),I=P[0],V=P[1],M=Object(W.useState)(void 0),R=B()(M,2),N=R[0],D=R[1],F=Object(Qn.b)().isDubbingAvailable;if(Object(W.useEffect)((function(){if(!I){var e=setTimeout((function(){D(void 0)}),200);return function(){e&&clearTimeout(e)}}V(!1)}),[i]),"quality"===N){var A={id:r,label:"auto"===r?"".concat(r," (").concat(a,")"):r},z=function(e){var t=e.supportedResolutions,n=e.enableHls,i=e.currentResolutionOption,o=e.currentResolution,r=t;n&&(r=t.filter((function(e){return"auto"!==e})));var a=r.sort((function(e,t){var n=parseInt(e,10);return parseInt(t,10)-n}));return n&&(a=["auto"].concat(Je()(a))),a.map((function(e){var t=e===i,n=t&&o?Yo()("Auto")+" (".concat(o,")"):Yo()("Auto");return{id:e,label:"auto"===e?n:e,role:"menuitemradio",isSelected:t}}))}({supportedResolutions:o,enableHls:v,currentResolutionOption:r,currentResolution:a});n={id:"quality",title:Yo()("Quality"),selected:A,options:z,action:function(e){var t=e.id;t&&r&&O&&S("video_settings_menu_quality_option",{resolution:t,previousResolution:r}),O?s(t):null==j||j(t),k()}}}else if("playbackSpeed"===N){var U="".concat(c,"x"),Q={id:U,label:U},K=l.map((function(e){return"".concat(e,"x")})).map((function(e){return{id:e,label:e,role:"menuitemradio"}}));n={id:"playbackSpeed",title:Yo()("Playback speed"),selected:Q,options:K,action:function(e){var t=e.label,n=parseFloat(t);c&&n&&S("video_settings_menu_playback_speed_option",{playbackRate:n,previousPlaybackRate:c}),u(n),k()}}}else if("subtitle"===N){var Z={id:"off",label:Yo()("Subtitles off"),role:"menuitemradio"},G=g?{id:g.language,label:g.label}:Z,J=h.map((function(e){return{id:e.language,label:e.label,role:"menuitemradio"}}));n={id:"subtitle",title:Yo()("Subtitles"),selected:G,options:[Z].concat(Je()(J)),action:function(e){var t=h.find((function(t){return t.language===e.id}));S("video_settings_menu_subtitle_language_option",{subtitleLanguage:(null==t?void 0:t.language)||"none",previousSubtitleLanguage:(null==g?void 0:g.language)||"none"}),t?d(t,!0,!O):p(!O),k()}}}else if("audio"===N){var Y=C||{id:"",label:"",languageKey:""},X=(null==b?void 0:b.map((function(e){return{id:e.languageKey,label:e.label,languageKey:e.languageKey,role:"menuitemradio"}})))||[];n={id:"audio",title:Yo()("Audio"),selected:Y,options:X,action:function(e){var t,n,i=null!==(t=null==g?void 0:g.language)&&void 0!==t?t:"none",o=e.languageKey===T,r={audioLanguage:videoUtils_getEventingDubbingLanguage(T,e.languageKey),previousAudioLanguage:videoUtils_getEventingDubbingLanguage(T,Y.languageKey)};(null==y||y(e),fi.a.get("subtitleLanguage")===w)?S("video_settings_menu_audio_language_option",H()({},r)):S("video_settings_menu_audio_language_option",H()(H()({},r),{},{previousSubtitleLanguage:i,subtitleLanguage:o?fi.a.get("subtitleLanguage"):null!==(n=e.languageKey)&&void 0!==n?n:"none"}));k()}}}var ee=[{title:Yo()("Autoplay"),icon:Wr||(Wr=Object(q.d)(svg_PlayCircleSvg,null)),buttonWrapper:!1,actionComponent:Object(q.d)(Da.b,{"aria-labelledby":"","aria-label":Yo()("Autoplay"),selected:f,hideTooltip:!0,onToggle:function(){m(),S("video_settings_menu_autoplay_toggle",{autoplay:f})}})},{title:Yo()("Quality"),icon:Zr||(Zr=Object(q.d)(svg_HighQualitySvg,null)),action:function(){D("quality"),S("video_settings_menu_quality",{})},actionComponent:Object(q.d)(Na.a,{size:"small",css:Wa.boldIcon})},{title:Yo()("Playback speed"),icon:Gr||(Gr=Object(q.d)(svg_PlaybackSpeedSvg,null)),action:function(){D("playbackSpeed"),S("video_settings_menu_playback_speed",{})},actionComponent:Object(q.d)(Na.a,{size:"small",css:Wa.boldIcon})},{title:Yo()("Subtitles"),icon:Jr||(Jr=Object(q.d)(svg_SubtitlesSvg,null)),action:function(){D("subtitle"),S("video_settings_menu_subtitle_language",{})},actionComponent:Object(q.d)(Na.a,{size:"small",css:Wa.boldIcon})}];return F&&ee.push({title:Yo()("Audio"),icon:Yr||(Yr=Object(q.d)(Headset,null)),action:function(){D("audio"),S("video_settings_menu_audio_language",{})},actionComponent:Object(q.d)(Na.a,{size:"small",css:Wa.boldIcon})}),Object(q.d)("div",{ref:t,css:[Wa.settingsMenuPopup,i&&Wa.popupVisible,F&&Wa.scrollbar],className:"rc-ModernSettingsMenuPopup",onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()},"data-testid":"settingsMenuPopup"},n?Object(q.d)(modernSettingsMenu_ModernSettingsSubmenu,L()({},n,{visible:i,onBackButtonClick:function(e){e.stopPropagation(),D(void 0)}})):Object(q.d)(modernSettingsMenu_ModernSettingsMenuItemList,{visible:!n&&i,menuConfig:ee}))})),Ga=t("JJfJ"),ProgressBarMarker_styles_progressBarMarker=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(q.c)(Xr||(Xr=U()(["\n    position: absolute;\n    height: 100%;\n    width: 4px;\n    background-color: ",";\n    top: 0;\n    transform: translate(-50%, 0%);\n    z-index: 99;\n    left: ",";\n\n    @media (forced-colors: active) {\n      background-color: ButtonText;\n    }\n  "])),t,e)},Ja="\n  background-color: var(--cds-color-yellow-500)\n  ",progressBar_ProgressBarMarker=function(e){var t=e.offsetFraction,n=e.color,i="".concat((Math.floor(1e4*t)/100).toFixed(2),"%");return Object(q.d)("div",{css:[ProgressBarMarker_styles_progressBarMarker(i,n),Ja],className:"rc-ProgressBarMarker","data-testid":"progress-bar-marker"})},progressBar_IVQMarker=function(e){var t=e.question,n=e.videoDurationSeconds,i=e.trimmedStartTimeSeconds,o=t.video.cuePointMs-1e3*i;if(o<0)return null;if(i&&o>1e3*i+1e3*n)return null;var r=o/1e3/n;return(W.createElement(progressBar_ProgressBarMarker,{offsetFraction:r}))},Ya={progressBarTimeBadge:function(e){return Object(q.c)($r||($r=U()(["\n    color: #dedede;\n    position: absolute;\n    top: -10px;\n    transform: translate(-50%, -100%);\n    border-radius: 10%;\n    font-size: 14px;\n    opacity: 0.75;\n    background-color: #000;\n    left: ",";\n  "])),e)},modernProgressBarTimeBadge:Object(q.c)(ea||(ea=U()(["\n    background-color: black;\n    opacity: 0.8;\n    border-radius: var(--cds-border-radius-100);\n    padding: 8px 12px;\n  "])))},progressBar_ProgressBarTimeBadge=function(e){var t=e.time,n=e.videoDuration,i="".concat((100*(t/n)).toFixed(2),"%");return Object(q.d)("div",{className:"rc-ProgressBarTimeBadge",css:[Ya.progressBarTimeBadge(i),Ya.modernProgressBarTimeBadge]},Object(q.d)(se.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-progress-bar-time-badge"},function(e){var padToTwoDigits=function(e){return e.toString().padStart(2,"0")},t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return e<0?"0:00":t>0?"".concat(t,":").concat(padToTwoDigits(n),":").concat(padToTwoDigits(i)):"".concat(n,":").concat(padToTwoDigits(i))}(t)))},Xa=["actionStateType"],$a=["actionStateType"],es=["actionStateType"],ts={progressBar:Object(q.c)(ta||(ta=U()(["\n    height: 5px;\n    width: calc(100% - 10px);\n    position: absolute;\n    top: 0;\n    left: 5px;\n    transform: translate(0, -100%);\n    z-index: 999;\n\n    @media (forced-colors: active) {\n      outline: 2px solid WindowText;\n\n      .base-track {\n        background-color: Window;\n      }\n\n      .hitbox {\n        background-color: transparent;\n      }\n\n      .progress-track {\n        background-color: Highlight;\n      }\n\n      .learner-max-video-progress-overlay {\n        background-color: WindowText;\n      }\n\n      .progress-handle {\n        background-color: Highlight;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus,\n    &:active {\n      outline: 2px solid #82a8e1;\n    }\n  "]))),modernProgressBar:Object(q.c)(na||(na=U()(["\n    width: calc(100%);\n    left: 0;\n  "]))),baseTrack:Object(q.c)(ia||(ia=U()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #a9a9a9;\n    transform: translate(0, -50%) scaleY(0.6);\n    transition: transform 0.1s cubic-bezier(0.4, 0, 1, 1);\n  "]))),modernBaseTrack:Object(q.c)(oa||(oa=U()(["\n    background-color: var(--cds-color-neutral-background-primary-weak);\n  "]))),hovering:Object(q.c)(ra||(ra=U()(["\n    transform: scale(1) translate(0, -50%);\n  "]))),hitbox:Object(q.c)(aa||(aa=U()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgb(0 0 0 / 0%);\n    transform: translate(0, -50%);\n  "]))),hitboxHovering:Object(q.c)(sa||(sa=U()(["\n    height: 500%;\n  "]))),progressTrack:function(e){return Object(q.c)(ca||(ca=U()(["\n    position: absolute;\n    height: 100%;\n    background-color: #3cb371;\n    z-index: 2;\n    width: ",";\n  "])),e)},modernProgressTrack:Object(q.c)(la||(la=U()(["\n    background-color: var(--cds-color-blue-500);\n  "]))),maxVideoProgressOverlay:function(e){return Object(q.c)(ua||(ua=U()(["\n    background: var(--cds-color-neutral-primary-invert);\n    height: 100%;\n    position: relative;\n    z-index: 1;\n    width: ",";\n  "])),e)},progressHandle:function(e){return Object(q.c)(da||(da=U()(["\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    top: 50%;\n    background-color: #3cb371;\n    transform: translate(-50%, -50%);\n    transition: height 0.1s ease, width 0.1s ease;\n    left: ",";\n  "])),e)},modernProgressHandle:Object(q.c)(pa||(pa=U()(["\n    background-color: var(--cds-color-blue-500);\n  "]))),progressHandleHovering:Object(q.c)(ga||(ga=U()(["\n    width: 13px;\n    height: 13px;\n  "]))),modernProgressHandleHovering:Object(q.c)(ha||(ha=U()(["\n    width: 16px;\n    height: 16px;\n  "])))},ns=function(e){function VideoProgressBarBaseComponent(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={actionState:{actionStateType:"none"},currentTime:null,duration:null},t.getCurrentTime=function(){var e=t.props,n=e.trimmedStartTimeSeconds,i=e.player;return n?i.currentTime()-n:i.currentTime()},t.onKeyDown=function(e){if(" "!==e.key&&"Spacebar"!==e.key){var n=t.props,i=n.shouldDisableSkippingForward,o=n.learnerMaxVideoProgressInSeconds,r=n.setShowVideoSkippingDisabledNotification,skipForward=function(){!i||t.getCurrentTime()+5<o?t.skip(5):r(!0)},a={Up:skipForward,ArrowUp:skipForward,Right:skipForward,ArrowRight:skipForward,Down:function(){t.skip(-5)},ArrowDown:function(){t.skip(-5)},Left:function(){t.skip(-5)},ArrowLeft:function(){t.skip(-5)}};a[e.key]&&a[e.key]()}else e.preventDefault()},t.onTimeChange=function(){t.setState({currentTime:t.getCurrentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),t.beginScrubbing(e)},t.onMouseEnter=function(e){var n=t.state.actionState,i=n.actionStateType,o=zn()(n,Xa),r=i,a=t.getProgressBarFractionOffsetFromEvent(e),s=o;"scrubbing"===r?s.scrubbingFractionOffsetFromStart=a:(r="hovering",s.hoverFractionOffsetFromStart=a),t.setActionState(r,s)},t.onMouseLeave=function(){var e=t.state,n=e.duration,i=e.actionState;if("scrubbing"===i.actionStateType){var o=t.props,r=o.player,a=o.trimmedStartTimeSeconds,s=i.scrubbingFractionOffsetFromStart;if(n&&s){var c=n*s+(null!=a?a:0);r.currentTime(c);var l=n*s;t.setState({currentTime:l})}}else t.setActionState("none")},t.onMouseMove=function(e){var n=t.state.actionState,i=n.actionStateType,o=zn()(n,$a),r=t.getProgressBarFractionOffsetFromEvent(e);"hovering"===i?t.setActionState(i,H()(H()({},o),{},{hoverFractionOffsetFromStart:r})):"scrubbing"===i&&t.setActionState(i,H()(H()({},o),{},{scrubbingFractionOffsetFromStart:r}))},t.onDocumentMouseUp=function(){"scrubbing"===t.state.actionState.actionStateType&&t.endScrubbing()},t.getIsScrubbingAllowed=function(e,t,n,i){return!n||e*(t||0)<=i},t.getShouldShowVideoSkippingDisabledNotification=function(e,t,n,i){return n&&e*(t||0)>i},t.onMouseUp=function(e){e.stopPropagation(),e.preventDefault();var n=t.props,i=n.player,o=n.shouldDisableSkippingForward,r=n.learnerMaxVideoProgressInSeconds,a=n.trackVideoPlayerClickEvent,s=n.setShowVideoSkippingDisabledNotification,c=n.trimmedStartTimeSeconds,l=t.state.duration,u=t.state.currentTime,d=u,p=u,g=t.getProgressBarFractionOffsetFromEvent(e);if(i&&null!=l&&null!=g){if(t.getIsScrubbingAllowed(g,l,o,r)){var h=null!=u?u:c?0:k;d=g*l+(null!=c?c:0),p=g*l,null!=h&&a("video_scrub_bar",{previousVideoPosition:h})}t.getShouldShowVideoSkippingDisabledNotification(g,l,o,r)&&s(!0)}i.currentTime(d),t.endScrubbing(),t.setState({currentTime:p})},t.getProgressBarFractionOffsetFromEvent=function(e){if(t.baseElement){var n=t.baseElement.getBoundingClientRect(),i=n.left,o=n.width;return(e.clientX-i)/o}return null},t.skip=function(e){var n=t.props,i=n.player,o=n.trimmedStartTimeSeconds,r=t.state,a=r.currentTime,s=r.duration;if(null!=a&&null!=s){var c=Math.max(0,Math.min(a+e+(null!=o?o:0),s));i.currentTime(c)}},t.beginScrubbing=function(e){var n=t.props,i=n.player;n.shouldDisableSkippingForward||t.setActionState("scrubbing",{scrubbingFractionOffsetFromStart:t.getProgressBarFractionOffsetFromEvent(e),wasVideoPausedWhenScrubbingStarted:i.paused()}),i.pause()},t.endScrubbing=function(){var e=t.props.player,n=t.state.actionState,i=n.wasVideoPausedWhenScrubbingStarted,o=n.scrubbingFractionOffsetFromStart;e.trigger("scrubbed"),i||e.ended()||e.play(),t.setActionState("hovering",{hoverFractionOffsetFromStart:o})},t.assignRef=function(e){t.baseElement=e},t}ct()(VideoProgressBarBaseComponent,e);var t=VideoProgressBarBaseComponent.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({currentTime:this.getCurrentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange),document.addEventListener("mouseup",this.onDocumentMouseUp)},t.componentWillUnmount=function(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange),document.removeEventListener("mouseup",this.onDocumentMouseUp)},t.setActionState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.actionState,i=H()(H()(H()({},n),t),{},{actionStateType:e});this.setState({actionState:i})},t.fractionToWholeNumber=function(e){return 100*e},t.formatFraction=function(e){return"".concat((Math.floor(1e4*e)/100).toFixed(2),"%")},t.render=function(){var e=this.props,t=e.videoQuizQuestions,n=e.learnerMaxVideoProgressInSeconds,i=e.shouldDisableSkippingForward,o=e.trimmedStartTimeSeconds,r=this.state,a=r.actionState,s=a.actionStateType,c=zn()(a,es),l=r.duration,u=r.currentTime;if(null==l||null==u)return null;var d=c.hoverFractionOffsetFromStart,p=c.scrubbingFractionOffsetFromStart,g=u/l,h=t,m=this.formatFraction(g),f=this.fractionToWholeNumber(g),v="hovering"===s?d:p;"scrubbing"===s&&null!=p&&(m=this.formatFraction(p),f=this.fractionToWholeNumber(p));var b="hovering"===s||"scrubbing"===s,y=Object(Ga.v)(g*l*1e3,"mmm:sss"),C=this.formatFraction(n/l);return Object(q.d)("div",{tabIndex:0,role:"slider","aria-label":Yo()("Video Progress"),"aria-valuemin":0,"aria-valuemax":100,dir:"ltr","aria-valuenow":f,"aria-valuetext":y,className:Xe()("rc-VideoProgressBar","horizontal-box","align-items-absolute-center"),ref:this.assignRef,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,"data-testid":"video-progress-bar",css:[ts.progressBar,ts.modernProgressBar]},Object(q.d)("div",{css:[ts.baseTrack,b&&ts.hovering,ts.modernBaseTrack],className:Xe()("base-track",{hovering:b})},h&&h.map((function(e){return Object(q.d)(progressBar_IVQMarker,{key:"ivq-".concat(e.id),question:e,videoDurationSeconds:l,trimmedStartTimeSeconds:o})})),Object(q.d)("div",{css:[ts.progressTrack(m),ts.modernProgressTrack],className:Xe()("progress-track",{hovering:b})}),i&&Object(q.d)("div",{css:ts.maxVideoProgressOverlay(C),className:Xe()("learner-max-video-progress-overlay")})),Object(q.d)("div",{className:Xe()("hitbox",{hovering:b}),css:[ts.hitbox,b&&ts.hitboxHovering]}),Object(q.d)("div",{css:[ts.progressHandle(m),ts.modernProgressHandle,b&&ts.progressHandleHovering,b&&ts.modernProgressHandleHovering],className:Xe()("progress-handle",{hovering:b})}),b&&v&&Object(q.d)(progressBar_ProgressBarTimeBadge,{time:v*l,videoDuration:l}))},VideoProgressBarBaseComponent}(W.Component),progressBar_VideoProgressBar=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),n=t.shouldDisableSkippingForward,i=t.learnerMaxVideoProgressInSeconds,o=t.setShowVideoSkippingDisabledNotification;return Object(q.d)(ns,L()({},e,{shouldDisableSkippingForward:n,learnerMaxVideoProgressInSeconds:i,setShowVideoSkippingDisabledNotification:o}))},is=["width","height"],svg_SettingsFillSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,is);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SettingsFillSvg"}),ma||(ma=W.createElement("path",{d:"M12.6294 25.6668C12.1044 25.6668 11.6523 25.4918 11.2731 25.1418C10.894 24.7918 10.6655 24.3641 10.5877 23.8585L10.3252 21.9335C10.0724 21.8363 9.83425 21.7196 9.61064 21.5835C9.38703 21.4474 9.16828 21.3016 8.95439 21.146L7.14605 21.9043C6.65994 22.1182 6.17383 22.1377 5.68772 21.9627C5.20161 21.7877 4.82244 21.4766 4.55022 21.0293L3.17939 18.6377C2.90717 18.1904 2.82939 17.7141 2.94605 17.2085C3.06272 16.7029 3.32522 16.2849 3.73355 15.9543L5.27939 14.7877C5.25994 14.6516 5.25022 14.5203 5.25022 14.3939V13.6064C5.25022 13.48 5.25994 13.3488 5.27939 13.2127L3.73355 12.046C3.32522 11.7154 3.06272 11.2974 2.94605 10.7918C2.82939 10.2863 2.90717 9.80988 3.17939 9.36266L4.55022 6.971C4.82244 6.52377 5.20161 6.21266 5.68772 6.03766C6.17383 5.86266 6.65994 5.88211 7.14605 6.096L8.95439 6.85433C9.16828 6.69877 9.39189 6.55294 9.62522 6.41683C9.85855 6.28072 10.0919 6.16405 10.3252 6.06683L10.5877 4.14183C10.6655 3.63627 10.894 3.2085 11.2731 2.8585C11.6523 2.5085 12.1044 2.3335 12.6294 2.3335H15.3711C15.8961 2.3335 16.3481 2.5085 16.7273 2.8585C17.1065 3.2085 17.3349 3.63627 17.4127 4.14183L17.6752 6.06683C17.928 6.16405 18.1662 6.28072 18.3898 6.41683C18.6134 6.55294 18.8322 6.69877 19.0461 6.85433L20.8544 6.096C21.3405 5.88211 21.8266 5.86266 22.3127 6.03766C22.7988 6.21266 23.178 6.52377 23.4502 6.971L24.8211 9.36266C25.0933 9.80988 25.1711 10.2863 25.0544 10.7918C24.9377 11.2974 24.6752 11.7154 24.2669 12.046L22.7211 13.2127C22.7405 13.3488 22.7502 13.48 22.7502 13.6064V14.3939C22.7502 14.5203 22.7308 14.6516 22.6919 14.7877L24.2377 15.9543C24.6461 16.2849 24.9086 16.7029 25.0252 17.2085C25.1419 17.7141 25.0641 18.1904 24.7919 18.6377L23.3919 21.0293C23.1197 21.4766 22.7405 21.7877 22.2544 21.9627C21.7683 22.1377 21.2822 22.1182 20.7961 21.9043L19.0461 21.146C18.8322 21.3016 18.6086 21.4474 18.3752 21.5835C18.1419 21.7196 17.9086 21.8363 17.6752 21.9335L17.4127 23.8585C17.3349 24.3641 17.1065 24.7918 16.7273 25.1418C16.3481 25.4918 15.8961 25.6668 15.3711 25.6668H12.6294ZM14.0586 18.0835C15.1863 18.0835 16.1488 17.6849 16.9461 16.8877C17.7433 16.0904 18.1419 15.1279 18.1419 14.0002C18.1419 12.8724 17.7433 11.9099 16.9461 11.1127C16.1488 10.3154 15.1863 9.91683 14.0586 9.91683C12.9113 9.91683 11.944 10.3154 11.1565 11.1127C10.369 11.9099 9.97522 12.8724 9.97522 14.0002C9.97522 15.1279 10.369 16.0904 11.1565 16.8877C11.944 17.6849 12.9113 18.0835 14.0586 18.0835Z",fill:"white"}))))},os=["width","height"],svg_SettingsSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=zn()(e,os);return(W.createElement("svg",L()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SettingsSvg"}),fa||(fa=W.createElement("path",{d:"M12.6294 25.6668C12.1044 25.6668 11.6523 25.4918 11.2731 25.1418C10.894 24.7918 10.6655 24.3641 10.5877 23.8585L10.3252 21.9335C10.0724 21.8363 9.83425 21.7196 9.61064 21.5835C9.38703 21.4474 9.16828 21.3016 8.95439 21.146L7.14605 21.9043C6.65994 22.1182 6.17383 22.1377 5.68772 21.9627C5.20161 21.7877 4.82244 21.4766 4.55022 21.0293L3.17939 18.6377C2.90717 18.1904 2.82939 17.7141 2.94605 17.2085C3.06272 16.7029 3.32522 16.2849 3.73355 15.9543L5.27939 14.7877C5.25994 14.6516 5.25022 14.5203 5.25022 14.3939V13.6064C5.25022 13.48 5.25994 13.3488 5.27939 13.2127L3.73355 12.046C3.32522 11.7154 3.06272 11.2974 2.94605 10.7918C2.82939 10.2863 2.90717 9.80988 3.17939 9.36266L4.55022 6.971C4.82244 6.52377 5.20161 6.21266 5.68772 6.03766C6.17383 5.86266 6.65994 5.88211 7.14605 6.096L8.95439 6.85433C9.16828 6.69877 9.39189 6.55294 9.62522 6.41683C9.85855 6.28072 10.0919 6.16405 10.3252 6.06683L10.5877 4.14183C10.6655 3.63627 10.894 3.2085 11.2731 2.8585C11.6523 2.5085 12.1044 2.3335 12.6294 2.3335H15.3711C15.8961 2.3335 16.3481 2.5085 16.7273 2.8585C17.1065 3.2085 17.3349 3.63627 17.4127 4.14183L17.6752 6.06683C17.928 6.16405 18.1662 6.28072 18.3898 6.41683C18.6134 6.55294 18.8322 6.69877 19.0461 6.85433L20.8544 6.096C21.3405 5.88211 21.8266 5.86266 22.3127 6.03766C22.7988 6.21266 23.178 6.52377 23.4502 6.971L24.8211 9.36266C25.0933 9.80988 25.1711 10.2863 25.0544 10.7918C24.9377 11.2974 24.6752 11.7154 24.2669 12.046L22.7211 13.2127C22.7405 13.3488 22.7502 13.48 22.7502 13.6064V14.3939C22.7502 14.5203 22.7308 14.6516 22.6919 14.7877L24.2377 15.9543C24.6461 16.2849 24.9086 16.7029 25.0252 17.2085C25.1419 17.7141 25.0641 18.1904 24.7919 18.6377L23.3919 21.0293C23.1197 21.4766 22.7405 21.7877 22.2544 21.9627C21.7683 22.1377 21.2822 22.1182 20.7961 21.9043L19.0461 21.146C18.8322 21.3016 18.6086 21.4474 18.3752 21.5835C18.1419 21.7196 17.9086 21.8363 17.6752 21.9335L17.4127 23.8585C17.3349 24.3641 17.1065 24.7918 16.7273 25.1418C16.3481 25.4918 15.8961 25.6668 15.3711 25.6668H12.6294ZM12.8336 23.3335H15.1377L15.5461 20.2418C16.1488 20.0863 16.7079 19.8578 17.2231 19.5564C17.7384 19.255 18.2099 18.8904 18.6377 18.4627L21.5252 19.6585L22.6627 17.6752L20.1544 15.7793C20.2516 15.5071 20.3197 15.2203 20.3586 14.9189C20.3974 14.6175 20.4169 14.3113 20.4169 14.0002C20.4169 13.6891 20.3974 13.3828 20.3586 13.0814C20.3197 12.78 20.2516 12.4932 20.1544 12.221L22.6627 10.3252L21.5252 8.34183L18.6377 9.56683C18.2099 9.11961 17.7384 8.7453 17.2231 8.44391C16.7079 8.14252 16.1488 7.91405 15.5461 7.7585L15.1669 4.66683H12.8627L12.4544 7.7585C11.8516 7.91405 11.2926 8.14252 10.7773 8.44391C10.262 8.7453 9.7905 9.10988 9.36272 9.53766L6.47522 8.34183L5.33772 10.3252L7.84605 12.1918C7.74883 12.4835 7.68078 12.7752 7.64189 13.0668C7.603 13.3585 7.58355 13.6696 7.58355 14.0002C7.58355 14.3113 7.603 14.6127 7.64189 14.9043C7.68078 15.196 7.74883 15.4877 7.84605 15.7793L5.33772 17.6752L6.47522 19.6585L9.36272 18.4335C9.7905 18.8807 10.262 19.255 10.7773 19.5564C11.2926 19.8578 11.8516 20.0863 12.4544 20.2418L12.8336 23.3335ZM14.0586 18.0835C15.1863 18.0835 16.1488 17.6849 16.9461 16.8877C17.7433 16.0904 18.1419 15.1279 18.1419 14.0002C18.1419 12.8724 17.7433 11.9099 16.9461 11.1127C16.1488 10.3154 15.1863 9.91683 14.0586 9.91683C12.9113 9.91683 11.944 10.3154 11.1565 11.1127C10.369 11.9099 9.97522 12.8724 9.97522 14.0002C9.97522 15.1279 10.369 16.0904 11.1565 16.8877C11.944 17.6849 12.9113 18.0835 14.0586 18.0835Z",fill:"white"}))))},rs=W.forwardRef((function(e,t){var n=e.menuPopupVisible,i=e.videoBoundaryElement,o=e.onClick,r=Yo()("Settings"),a=n?va||(va=Object(q.d)(svg_SettingsFillSvg,{width:28,height:28})):ba||(ba=Object(q.d)(svg_SettingsSvg,{width:28,height:28})),s=Object(q.d)("button",{type:"button",onClick:function(){o()},className:Xe()("vjs-menu-button","vjs-menu-button-popup","vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-haspopup":"true","aria-expanded":n,ref:t},a,Object(q.d)("span",{className:"vjs-control-text"}," ",r," "));return Object(q.d)(components_ModernTooltipWrapper,{placement:"top",message:r,videoBoundaryElement:i,offset:10},s)})),as={settingsMenu:Object(q.c)(ya||(ya=U()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),ie.a.down("xs")),modernSettingsMenu:Object(q.c)(Ca||(Ca=U()(["\n    margin-right: var(--cds-spacing-200);\n  "])))},ss=W.forwardRef((function(e,t){var n=e.onSettingsMenuClick,i=e.menuPopupVisible,o=e.buttonRef,r=e.videoBoundaryElement;return Object(q.d)("div",{css:[as.settingsMenu,as.modernSettingsMenu],ref:t,className:"rc-VideoSettingsMenu"},Object(q.d)(rs,{menuPopupVisible:i,onClick:n,ref:o,videoBoundaryElement:r}))})),volumeMenu_VolumeMenuButton=function(e){var t=e.onVolumeButtonClick,n=e.volume,i=e.muted,o=Yo()("Volume"),r=i?Yo()("Unmute"):Yo()("Mute");return W.createElement(components_ModernTooltipWrapper,{placement:"top",message:r,keyboardShortcut:"m"},W.createElement("button",{type:"button",className:Xe()("vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-label":r,onClick:t},W.createElement(W.Fragment,null,!i&&n>.3?Sa||(Sa=W.createElement(svg_VolumeUpSvg,{width:28,height:28})):!i&&n>0&&n<=.3?ka||(ka=W.createElement(svg_VolumeDownSvg,{width:28,height:28})):wa||(wa=W.createElement(svg_VolumeOffSvg,{width:28,height:28}))),W.createElement("span",{className:"vjs-control-text"}," ",o," ")))},cs=t("siax"),ls=(t("P8KX"),{modernVolumeMenuPopupContainer:Object(q.c)(xa||(xa=U()(["\n    height: 100%;\n    color: #fff;\n    width: 0;\n    visibility: hidden;\n    transition: visibility 0s 0.1s, width 0.1s linear;\n    padding-right: 0;\n  "]))),visible:Object(q.c)(Oa||(Oa=U()(["\n    width: 100px;\n    visibility: visible;\n    transition: width 0.1s linear;\n\n    > .rc-slider {\n      width: 75%;\n    }\n\n    .rc-VolumeSlider {\n      height: 24px;\n      padding: 10px 0;\n      margin-right: 5px;\n    }\n  "])))}),volumeMenu_VolumeMenuPopup=function(e){var t=e.visible,n=e.volume,i=e.muted,o=e.onVolumeSliderChange,r=e.onBeforeChange,s=e.onAfterChange,c=W.useRef(null),l=Yo()("Volume Control Slider");W.useEffect((function(){var e,t,n;null==c||null===(e=c.current)||void 0===e||null===(t=e.sliderRef)||void 0===t||null===(n=t.querySelector(".rc-slider-handle"))||void 0===n||n.setAttribute("aria-label",l)}),[l]);var u={borderColor:nt.b.white,height:"14px",width:"14px",marginLeft:"-5px",marginTop:"-5px",cursor:"pointer"};return Object(q.d)("div",{className:Xe()("rc-VolumeMenuPopup","horizontal-box","align-items-absolute-center",{visible:t}),css:[ls.modernVolumeMenuPopupContainer,t&&ls.visible]},Object(q.d)(cs.a,{ref:c,className:"rc-VolumeSlider",value:i?0:100*n,onChange:o,onBeforeChange:r,onAfterChange:s,trackStyle:{backgroundColor:nt.b.white,cursor:"pointer"},handleStyle:u,railStyle:{backgroundColor:"#aaa"},reverse:Object(a.isRightToLeft)(Yo.a.getLocale())}))},us={volumeMenu:Object(q.c)(Ta||(Ta=U()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),ie.a.down("xs")),modernVolumeMenu:Object(q.c)(ja||(ja=U()(["\n    margin-left: var(--cds-spacing-100);\n  "])))},ds=function(e){function VolumeMenu(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={menuPopupVisible:!1,muted:null,volume:null,isSliderChanging:!1,previousVolume:-1},t.onClick=function(e){e.stopPropagation()},t.showVolumeMenuPopup=function(){(0,t.props.setVolumeMenuPopup)(),t.setState({menuPopupVisible:!0})},t.onMenuEnter=function(e){e.stopPropagation(),t.showVolumeMenuPopup()},t.onMenuLeave=function(e){e.stopPropagation(),t.state.isSliderChanging||t.setState({menuPopupVisible:!1})},t.onVolumeChange=function(){var e=t.props.player,n=t.state.volume;null!=n&&t.trackVolumeEvent("volume.change",{volume_delta:e.volume()-n}),t.setState({volume:e.volume(),muted:e.muted()})},t.onVolumeButtonClick=function(e){var n;e.stopPropagation();var i=t.props,o=i.player,r=i.trackVideoPlayerClickEvent,a=null!==(n=o.volume())&&void 0!==n?n:-1,s=!o.muted();if(o.muted(s),fi.a.set("volume",s?0:o.volume()),s)t.trackVolumeEvent("mute"),r("video_mute",{previousVolume:a,volume:0});else{if(t.trackVolumeEvent("unmute"),0===o.volume()){o.volume(.3),t.setState({volume:.3}),fi.a.set("volume",.3)}r("video_mute",{previousVolume:0})}t.setState({muted:o.muted()})},t.onVolumeSliderChange=function(e){var n=t.props.player;0===e?(n.volume(0),n.muted(!0)):(n.volume(e/100),n.muted(!1)),fi.a.set("volume",n.muted()?0:n.volume())},t.onBeforeChange=function(){var e,n=t.props.player;t.setState({isSliderChanging:!0,previousVolume:null!==(e=n.volume())&&void 0!==e?e:-1})},t.onAfterChange=function(){var e,n=t.props,i=n.player,o=n.trackVideoPlayerClickEvent,r=t.state.previousVolume;t.setState({isSliderChanging:!1}),o("video_volume_scrub_bar",{previousVolume:r,volume:null!==(e=i.volume())&&void 0!==e?e:-1})},t.trackVolumeEvent=function(e,n){var i=t.props.player,o=t.context._eventData.namespace.app;AnalyticsMetadataFetcher_createVideoEventTracker(o,i)(e,H()({},n))},t}ct()(VolumeMenu,e);var t=VolumeMenu.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({volume:e.volume(),muted:e.muted()}),e.on("volumechange",this.onVolumeChange)},t.componentWillUnmount=function(){this.props.player.off("volumechange",this.onVolumeChange)},t.render=function(){var e=this.props.assignRef,t=this.state,n=t.menuPopupVisible,i=t.muted,o=t.volume;return null==i||null==o?null:Object(q.d)("div",{className:Xe()("rc-VolumeMenu","horizontal-box","align-items-absolute-center"),role:"presentation",onMouseEnter:this.onMenuEnter,onMouseLeave:this.onMenuLeave,onFocus:this.showVolumeMenuPopup,onClick:this.onClick,ref:e,css:[us.volumeMenu,us.modernVolumeMenu]},Object(q.d)(volumeMenu_VolumeMenuButton,{onVolumeButtonClick:this.onVolumeButtonClick,volume:o,muted:i}),Object(q.d)(volumeMenu_VolumeMenuPopup,{visible:n,volume:o,muted:i,onVolumeSliderChange:this.onVolumeSliderChange,onBeforeChange:this.onBeforeChange,onAfterChange:this.onAfterChange}))},VolumeMenu}(W.Component);ds.contextTypes={_eventData:ee.a.object.isRequired};var ps,gs,hs,ms,fs,vs,bs,ys,Cs,Ss,ks,ws,xs,Os,Ts,js,Es,Ps,Is,Vs,_s=ds,Ls={controlBar:function(e){return Object(q.c)(ps||(ps=U()(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    opacity: 0;\n    height: 0;\n    transition: height 0s 0.2s, opacity 0.2s linear;\n    color: #dedede;\n\n    &.visible {\n      opacity: 1;\n      height: ","px;\n      transition: opacity 0.2s linear;\n\n      "," {\n        min-height: ","px;\n        height: auto;\n      }\n    }\n\n    &::after {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 98px;\n      content: '';\n      z-index: -99;\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to bottom,\n        hsl(0deg 0% 0% / 0%) 0%,\n        hsl(0deg 0% 0% / 0.8%) 8.1%,\n        hsl(0deg 0% 0% / 3.2%) 15.5%,\n        hsl(0deg 0% 0% / 6.9%) 22.5%,\n        hsl(0deg 0% 0% / 11.6%) 29%,\n        hsl(0deg 0% 0% / 17.1%) 35.3%,\n        hsl(0deg 0% 0% / 23.2%) 41.2%,\n        hsl(0deg 0% 0% / 29.7%) 47.1%,\n        hsl(0deg 0% 0% / 36.3%) 52.9%,\n        hsl(0deg 0% 0% / 42.8%) 58.8%,\n        hsl(0deg 0% 0% / 48.9%) 64.7%,\n        hsl(0deg 0% 0% / 54.4%) 71%,\n        hsl(0deg 0% 0% / 59.1%) 77.5%,\n        hsl(0deg 0% 0% / 62.8%) 84.5%,\n        hsl(0deg 0% 0% / 65.2%) 91.9%,\n        hsl(0deg 0% 0% / 66%) 100%\n      );\n    }\n  "])),e,ie.a.down("xs"),e)},controlBarAfter:function(e){return Object(q.c)(gs||(gs=U()(["\n    &::after {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: ","px;\n      content: '';\n      z-index: -99;\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to top,\n        hsl(0deg 0% 0% / 48%) 0%,\n        hsl(0deg 0% 0% / 47.7%) 8.1%,\n        hsl(0deg 0% 0% / 46.8%) 15.5%,\n        hsl(0deg 0% 0% / 45.5%) 22.5%,\n        hsl(0deg 0% 0% / 43.8%) 29%,\n        hsl(0deg 0% 0% / 41.8%) 35.3%,\n        hsl(0deg 0% 0% / 39.6%) 41.2%,\n        hsl(0deg 0% 0% / 37.2%) 47.1%,\n        hsl(0deg 0% 0% / 34.8%) 52.9%,\n        hsl(0deg 0% 0% / 32.4%) 58.8%,\n        hsl(0deg 0% 0% / 30.2%) 64.7%,\n        hsl(0deg 0% 0% / 28.2%) 71%,\n        hsl(0deg 0% 0% / 26.5%) 77.5%,\n        hsl(0deg 0% 0% / 25.2%) 84.5%,\n        hsl(0deg 0% 0% / 24.3%) 91.9%,\n        hsl(0deg 0% 0% / 24%) 100%\n      );\n    }\n  "])),e+2)},iconContainer:Object(q.c)(hs||(hs=U()(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    height: 100%;\n    position: relative;\n    width: 100%;\n\n    /* Needs padding to prevent selection outlines from being cut off */\n    padding: ","px 8px;\n  "])),2),lastLeftControl:Object(q.c)(ms||(ms=U()(["\n    margin-right: auto;\n  "])))},components_ControlBar=function(e){var t=e.courseId,n=void 0===t?"":t,i=e.setVisiblePopup,o=e.visible,r=e.player,s=e.visiblePopup,c=e.defaultSubtitleLanguage,l=e.videoQuizQuestions,u=e.onChangeFullScreen,d=e.trackVideoPlayerClickEvent,p=e.trackVideoPlayerViewEvent,g=e.trimmedStartTimeSeconds,h=e.enableHls,m=e.videoBoundaryElement,f=e.dubbedSources,v=e.originalSources,b=e.dubbedSubtitlesVtt,y=e.hlsSource,C=Object(W.useRef)(null),w=Object(W.useRef)(null),x=Object(W.useRef)(null),O=Object(Qn.b)().defaultLanguageKey,T=Object(W.useRef)(null),j=Object(W.useRef)(null),E=Object(W.useRef)(null),P=Object(W.useRef)(null),I=new Oo.a,V="settings"===s,L="subtitle"===s,M=Object(W.useCallback)((function(e){return function(t){return null==t||!t.current||!t.current.contains(e)}}),[]),R=Object(W.useCallback)((function(){i(null)}),[i]);Object(W.useEffect)((function(){var dismissAllMenusExcept=function(e){var t=e.target,n=M(t);n(C)&&n(w)&&n(T)&&n(j)&&n(P)&&i(null)},closeAndFocusMenuButton=function(e){var t;R(),null===(t=e.current)||void 0===t||t.focus()},handleKeyPress=function(e){"Escape"===e.key&&(V&&closeAndFocusMenuButton(x),L&&closeAndFocusMenuButton(E))};return document.addEventListener("mousedown",dismissAllMenusExcept),V||L?document.addEventListener("keydown",handleKeyPress):document.removeEventListener("keydown",handleKeyPress),function(){document.removeEventListener("mousedown",dismissAllMenusExcept),document.removeEventListener("keydown",handleKeyPress)}}),[i,M,R,V,L]);var toggleMenuPopup=function(e){i(s===e?null:e)},N=function(e,t){var n=Object(W.useState)(e.playbackRate()),i=B()(n,2),o=i[0],r=i[1],a=Object(W.useCallback)((function(){var t=e?e.playbackRate():1;r(t),fi.a.set("playbackRate",t)}),[e]);Object(W.useEffect)((function(){return e.on("ratechange",a),function(){e.off("ratechange",a)}}),[a,e]);return{onIncreasePlaybackRateClick:function(n){n.stopPropagation();var i=S.findIndex((function(e){return e===o})),r=Math.min(S.length-1,i+1),a=S[r];t&&t("video_playback_rate_increase",{previousPlaybackRate:Math.round(null!=o?o:k),playbackRate:a}),e.playbackRate(a)},onDecreasePlaybackRateClick:function(n){n.stopPropagation();var i=S.findIndex((function(e){return e===o})),r=Math.max(0,i-1),a=S[r];t&&t("video_playback_rate_decrease",{previousPlaybackRate:Math.round(null!=o?o:k),playbackRate:a}),e.playbackRate(a)},currentPlaybackRate:o,supportedPlaybackRates:S,onPlaybackRateClick:function(t){var n=S.findIndex((function(e){return e===t})),i=S[n];e.playbackRate(i)}}}(r,d),D=N.currentPlaybackRate,F=N.supportedPlaybackRates,A=N.onPlaybackRateClick,z=function(e){var t,n=e.player,i=e.enableHls,o=e.hlsSource,r=null!==(t=Yi.a.preview("enableNewDefaultResolution"))&&void 0!==t&&t,a=Object(W.useMemo)((function(){return resolutionUtils_getInitialResolution({enableHlsExperiment:!!i,enableNewDefaultVideoResolution:r,isAutoAllowed:!0})}),[i,r]),s=n.getSupportedResolutions(),c=Object(W.useState)("auto"===a?"":a),l=B()(c,2),u=l[0],d=l[1],p=Object(W.useState)(a),g=B()(p,2),h=g[0],m=g[1],f=Object(W.useCallback)((function(e){"auto"===e?(fi.a.set("hlsResolution","auto"),"application/x-mpegURL"!==n.currentSource().type&&i&&o&&loadNewSrc({player:n,src:o,type:"application/x-mpegURL"}),function(e){for(var t=e.player,n=e.onAutoResolutionEnabled,i=t.qualityLevels(),o=0;o<i.length;o+=1)i[o].height&&(i[o].enabled=!0);n()}({player:n,onAutoResolutionEnabled:function(){m(e)}})):(resolutionUtils_saveResolutionInUserPreferences(e),n.resolution(e,{forceResolutionChange:!0}),m(e))}),[i,o,n]);return Object(W.useEffect)((function(){i&&function(e){var t=e.player,n=e.setCurrentResolution;t.on("resize",(function(){var e=t.videoHeight(),i="".concat(e,"p");n(i)}))}({player:n,setCurrentResolution:d})}),[i,n]),Object(W.useEffect)((function(){var onResolutionChange=function(){var e=n?n.resolution():videoUtils_getDefaultVideoResolution(r);d(e),m(e)};return n.on("resolutionchange",onResolutionChange),function(){n.off("resolutionchange",onResolutionChange)}}),[r,n]),{currentResolution:u,currentResolutionOption:h,supportedResolutions:s,onResolutionOptionClick:f,setCurrentResolutionOption:m,setCurrentResolution:d}}({player:r,enableHls:h,hlsSource:y}),U=z.currentResolution,Q=z.currentResolutionOption,K=z.supportedResolutions,Z=z.onResolutionOptionClick,G=z.setCurrentResolutionOption,J=z.setCurrentResolution,getDubbedSubtitleKeys=function(){return Object.keys(null!=b?b:{})},Y=function(e){var t=e.getDubbedSubtitleKeys,n=Object(W.useState)(!1),i=B()(n,2),o=i[0],r=i[1],s=Object(W.useState)(null),c=B()(s,2),l=c[0],u=c[1],d=Object(a.getUserLanguageCode)(),p=Object(Qn.b)(),g=p.setShouldNudgeBeVisible,h=p.shouldNudgeBeVisible,m=p.isDubbingAvailable,f=Object(W.useCallback)((function(){var e=t(),n=function(e,t){var n,i=!1;return e.forEach((function(e){t===e&&(i=!0,n=e)})),{prefixMatched:i,languageMatched:n}}(e,d.split("-")[0]),i=n.prefixMatched,o=n.languageMatched,a=e.includes(d)||i;a&&(r(a),u(i&&o?o:d))}),[t,d]),v=Object(W.useCallback)((function(e){var n=t(),i=e&&n.includes(e);i?(r(i),u(e)):(r(!1),u(null),f(),g(H()(H()({},h),{},{isVisible:!0})))}),[t,g,h,f]),b=Object(W.useCallback)((function(){var e=h.languageCode;e&&(t().includes(e)?(u(e),r(!0)):(r(!1),u(null),f(),v(e)))}),[h.languageCode,t,f,v]);return Object(W.useEffect)((function(){m&&f()}),[m,f]),Object(W.useEffect)((function(){h.isVisible&&m&&(b(),g(H()(H()({},h),{},{isVisible:!1})))}),[m,g,h,b]),{setShouldNudgeBeVisible:g,shouldNudgeBeVisible:h,shouldShowNudge:o,setShouldShowNudge:r,nudgeLanguageCode:l,setNudgeLanguageCode:u,shouldShowNudgeOnSubtitleChange:v,shouldShowNudgeOnMatchingUserLanguage:f}}({getDubbedSubtitleKeys:getDubbedSubtitleKeys}),X=Y.shouldShowNudge,ee=Y.setShouldShowNudge,te=Y.nudgeLanguageCode,ne=Y.shouldShowNudgeOnSubtitleChange,oe=Y.shouldShowNudgeOnMatchingUserLanguage,re=isAiDubbingEnabled(n),ae="none"!==fi.a.get("audioLanguage")&&!!fi.a.get("audioLanguage")&&re,se=function(e){var t=e.dubbedSources,n=e.player,i=e.originalSources,o=e.defaultLanguageKey,r=e.setShouldShowNudge,a=e.getDubbedSubtitleKeys,s=e.shouldShowNudgeOnMatchingUserLanguage,c=e.setCurrentResolutionOption,l=e.setCurrentResolution,u=e.enableHls,d=e.hlsSource,p=e.currentResolution,g=Object(W.useState)({id:null!=o?o:"",label:Object(To.c)(null!=o?o:""),languageKey:null!=o?o:""}),h=B()(g,2),m=h[0],f=h[1],v=Object(Qn.b)(),b=v.setShouldChangeTranscriptTracks,y=v.setShouldChangeTranscriptLanguage,C=v.setReportIssueSectionVisible,S=v.setChangeSubtitleOnAudioChange,k=v.isDubbingAvailable,onDubbedAudioChoiceClick=function(e){var a,l,g=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(!1);var h=e.languageKey===o,m=!!(h&&u&&d),v=n.getSupportedResolutions().includes(p)?p:n.resolution();if(h){var k;if(!(a=m?d:null===(k=i[v])||void 0===k?void 0:k["video/mp4"]))return;f(e),l=!1,fi.a.set("audioLanguage","none"),fi.a.set("dubbedSubtitleLanguage","none"),s()}else{var w,x;if(!(a=null==t?void 0:null===(w=t[e.languageKey])||void 0===w?void 0:null===(x=w[v])||void 0===x?void 0:x.mp4VideoUrl))return;f(e),fi.a.set("audioLanguage",e.languageKey),l=!0}if(a){var O=n.currentTime(),T=n.playbackRate(),j=n.paused();n.one("loadedmetadata",(function(){var t=Math.max(n.currentTime(),O);n.currentTime(t),n.playbackRate(T);var i,o=fi.a.get("autoplay");if(j&&!o?n.pause():n.play(),g){var r=Ae.get("dubbed-language-code");i="none"===r?Ae.get("language-code"):r}else h?(i=Ae.get("language-code"),Ae.set("dubbed-language-code","none")):(i=e.languageKey,Ae.set("dubbed-language-code",i));y({shouldChange:!0,languageCode:i}),S({shouldChange:!0,languageCode:e.languageKey}),C(l)})),b({shouldChange:e.languageKey!==o,languageCode:e.languageKey}),n.pause(),n.src({src:a,type:m?"application/x-mpegURL":"video/mp4"}),m?(c("auto"),resolutionUtils_saveResolutionInUserPreferences("auto")):(c(v),resolutionUtils_saveResolutionInUserPreferences(v))}};return Object(W.useEffect)((function(){if(k){var e=fi.a.get("audioLanguage");if("none"!==e&&void 0!==e){var t=a();if(e&&t.includes(e)){var i={id:e,label:Object(To.a)(e),languageKey:e};n.ready((function(){onDubbedAudioChoiceClick(i,!0)}))}}}}),[k]),{selectedAudioLanguage:m,onDubbedAudioChoiceClick:onDubbedAudioChoiceClick,getDubbedLanguagesList:function(){var e=Object.keys(null!=t?t:{}).map((function(e){return{label:Object(To.a)(e),languageKey:e}}));return o&&e.unshift({label:Object(To.c)(o),languageKey:o}),e.sort((function(e,t){return e.label.localeCompare(t.label)}))},handleResolutionChangeForDubbedAudio:function(e){var i,o,r=null==t?void 0:null===(i=t[m.languageKey])||void 0===i?void 0:null===(o=i[e])||void 0===o?void 0:o.mp4VideoUrl;if(r&&"auto"!==e){var a=n.currentTime(),s=n.playbackRate(),u=n.paused();n.one("loadedmetadata",(function(){n.currentTime(a),n.playbackRate(s);var e=fi.a.get("autoplay");u&&!e?n.pause():n.play()})),n.resolution(e,{skipSrcLoadingLogic:!0}),resolutionUtils_saveResolutionInUserPreferences(e),n.src({src:r,type:"video/mp4"}),c(e),l(e)}}}}({originalSources:v,dubbedSources:f,player:r,defaultLanguageKey:O,setShouldShowNudge:ee,getDubbedSubtitleKeys:getDubbedSubtitleKeys,shouldShowNudgeOnMatchingUserLanguage:oe,currentResolution:U,setCurrentResolutionOption:G,setCurrentResolution:J,enableHls:h,hlsSource:y}),ce=se.selectedAudioLanguage,le=se.onDubbedAudioChoiceClick,ue=se.getDubbedLanguagesList,de=se.handleResolutionChangeForDubbedAudio,pe=null!==U&&null!==D&&null!==K,ge=useSubtitleMenuControls_useSubtitleMenuControls({selectedAudioLanguage:ce,defaultLanguageKey:O,defaultSubtitleLanguage:c,player:r,trackVideoPlayerClickEvent:d,shouldShowNudgeOnSubtitleChange:ne}),he=ge.onSubtitleLanguageChoiceClick,me=ge.onSubtitleOffClick,fe=ge.currentTrack,ve=ge.tracks,be=useAutoplayToggle_useAutoplayToggle({subscribeToAutoplayChanges:function(e){return r.on("autoplaychange",e)},unsubscribeFromAutoplayChanges:function(e){return r.off("autoplaychange",e)},triggerAutoplayChangePlayerEvent:function(){return r.trigger("autoplaychange")}}),ye=be.autoplay,Ce=be.handleToggleSwitchClick;return Object(q.d)(W.Fragment,null,Object(q.d)("div",{"data-testid":"video-control-bar",css:[Ls.controlBar(64),Ls.controlBarAfter(64)],className:Xe()("rc-ControlBar",{visible:o}),onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()}},Object(q.d)(progressBar_VideoProgressBar,{player:r,videoQuizQuestions:l,trackVideoPlayerClickEvent:d,trimmedStartTimeSeconds:g}),Object(q.d)("div",{className:"icon-container",css:Ls.iconContainer},Object(q.d)(Pa,{player:r,trackVideoPlayerClickEvent:d,videoBoundaryElement:m}),Object(q.d)(_s,{player:r,setVolumeMenuPopup:function(){toggleMenuPopup("volume")},assignRef:function(e){P.current=e},trackVideoPlayerClickEvent:d}),Object(q.d)(SeekControls_SeekBackwardControl,{player:r,trackVideoPlayerClickEvent:d,videoBoundaryElement:m}),Object(q.d)(La,{player:r,trimmedStartTimeSeconds:g}),Object(q.d)("span",{css:Ls.lastLeftControl},Object(q.d)(SeekControls_SeekForwardControl,{player:r,trackVideoPlayerClickEvent:d,videoBoundaryElement:m,css:Ls.lastLeftControl})),Object(q.d)(components_PlaybackRateControl,{trackVideoPlayerClickEvent:d,onPlaybackRateClick:A,currentPlaybackRate:D,videoBoundaryElement:m}),pe&&Object(q.d)(ss,{ref:C,menuPopupVisible:V,onSettingsMenuClick:function(){toggleMenuPopup("settings"),document.documentElement.clientWidth<=ie.a.values.sm&&r.pause(),d("video_settings_menu",{})},buttonRef:x,videoBoundaryElement:m}),I.isIOS?Object(q.d)(components_IosFullscreenToggle,{player:r,trackVideoPlayerClickEvent:d}):Object(q.d)(components_FullscreenToggle,{onChangeFullScreen:u,videoBoundaryElement:m}))),Object(q.d)(components_AudioDubbingNudgeTooltip,{visible:X&&ce.languageKey===O,languageCode:te,onDubbedAudioChoiceClick:le,trackVideoPlayerClickEvent:d,playerHasLoaded:Boolean(r),trackVideoPlayerViewEvent:p}),pe&&Object(q.d)(Za,{trackVideoPlayerClickEvent:d,enableHls:h&&!ae,autoplay:ye,dubbedLanguages:ue(),onDubbedAudioChoiceClick:le,handleResolutionChangeForDubbedAudio:de,selectedAudioLanguage:ce,isOriginalAudioSelected:ce.languageKey===O,defaultLanguageKey:O,onToggleAutoplay:Ce,currentPlaybackRate:D,supportedPlaybackRates:F,onPlaybackRateClick:A,currentResolution:U,currentResolutionOption:Q,supportedResolutions:K,onResolutionOptionClick:Z,onSubtitleLanguageChoiceClick:he,onSubtitleOffClick:me,currentTrack:fe,tracks:ve,ref:w,visible:V,closeSettingsMenu:R}))},Ms=t("eJMc"),Rs=t.n(Ms),Ns=t("kvW3"),Ds=t("fAYU"),Fs=t("pLcN"),Hs=t("qenF"),As=t("KG2t"),Bs={autoNextOverlay:Object(q.c)(fs||(fs=U()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0 0 0 / 80%);\n    transition: background-color 0.5s linear;\n  "]))),overlayDisplay:Object(q.c)(vs||(vs=U()(["\n    width: 50%;\n  "]))),nextItemBtn:Object(q.c)(bs||(bs=U()(["\n    height: 96px;\n    width: 96px;\n    margin-right: 12px;\n    color: #fff;\n  "]))),itemInfo:Object(q.c)(ys||(ys=U()(["\n    font-size: 16px;\n    color: #fff;\n\n    > :not(:last-child) {\n      margin-bottom: 12px;\n    }\n\n    .timer {\n      font-weight: bold;\n      font-size: 16px;\n      color: #3cb371;\n    }\n\n    .timer-red {\n      color: #ee4b2b;\n    }\n  "]))),nextItemName:Object(q.c)(Cs||(Cs=U()(["\n    font-size: 24px;\n    font-weight: bold;\n    text-decoration: none;\n  "]))),link:Object(q.c)(Ss||(Ss=U()(["\n    color: var(--cds-color-neutral-background-primary) !important;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: none;\n    }\n  "]))),nextItemDuration:Object(q.c)(ks||(ks=U()(["\n    color: #bdbdbd;\n  "]))),nextItemCtaBtn:Object(q.c)(ws||(ws=U()(["\n    font-size: 16px;\n    font-weight: 600;\n    margin-top: 14px;\n    text-decoration: none;\n    text-transform: uppercase;\n    color: var(--cds-color-neutral-background-primary);\n  "]))),cancelBtn:Object(q.c)(xs||(xs=U()(["\n    margin-left: 1rem;\n    color: var(--cds-color-neutral-background-primary);\n  "])))},autoplay_AutoNextOverlay=function(e){var t,n=e.defaultCountdown,i=void 0===n?10:n,o=e.isAutoNextEnabled,r=e.isAutoNextPaused,a=e.nextItem,s=Object(Jt.b)(),c=Object(W.useState)(i),l=B()(c,2),u=l[0],d=l[1],p=Object(W.useState)(!1),g=B()(p,2),h=g[0],m=g[1],f=Object(W.useState)(!1),v=B()(f,2),b=v[0],y=v[1],C=Object(W.useState)(!1),S=B()(C,2),k=S[0],w=S[1],x=Object(W.useRef)(null),O=null==a?void 0:a.getLink(),T=null==a?void 0:null===(t=a.getContent())||void 0===t?void 0:t.typeName,stopTimer=function(){x.current&&clearInterval(x.current),m(!1)},j=Object(W.useCallback)((function(e){null==e||e.stopPropagation(),stopTimer(),w(!0),we.b.isFullScreen()&&"lecture"===T&&Object(Hs.e)()||we.b.exitFullScreen()}),[T]),E=Object(W.useCallback)((function(){d((function(e){return 1===e?(j(),O&&s.push(O),e):e-1}))}),[j,O,s]);if(Object(W.useEffect)((function(){return o&&(x.current=window.setInterval(E,1e3),m(!0)),function(){stopTimer()}}),[E,o]),!a)return null;var P=a.getName(),I=a.getTimeCommitment(),V=Object(Ga.y)(I);return Object(q.d)("div",{css:Bs.autoNextOverlay,"data-testid":"autoNextOverlay",className:Xe()("rc-AutoNextOverlay","horizontal-box","align-items-absolute-center"),onClick:function(e){return e.stopPropagation()}},Object(q.d)("div",{css:Bs.overlayDisplay,className:"overlay-display horizontal-box"},Object(q.d)("div",{css:Bs.nextItemBtn,className:"next-item-button vertical-box"},Object(q.d)(Ds.a,{"data-testid":"next-item-icon-link-".concat(T),component:Rs.a,onClick:j,href:"#",to:O},Object(q.d)(As.a,{size:96,type:T,style:{fill:nt.b.white}}))),Object(q.d)("div",{className:"next-item-display vertical-box"},Object(q.d)("div",{css:Bs.itemInfo,className:"item-info vertical-box"},Object(q.d)("span",{className:"up-next"},Yo()("Up Next")),Object(q.d)(Ds.a,{component:Rs.a,href:"#",to:O,onClick:j,css:[Bs.nextItemName,Bs.link]},P),Object(q.d)("span",{css:Bs.nextItemDuration,className:"next-item-duration"},V),h&&!b&&!k&&Object(q.d)(Ns.a,{message:Yo()('Starts in <span class="timer">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}'),countdownTime:u}),!h&&!b&&!k&&Object(q.d)(se.a,{className:"timer-red",component:"span",variant:"subtitleMedium"},r?Yo()("Autoplay paused"):Yo()("Autoplay disabled")),k&&Object(q.d)(Fs.a,{inverted:!0,label:Yo()("Almost ready...")})),Object(q.d)("div",{className:"horizontal-box align-items-vertical-center",style:{marginLeft:"-33"}},a&&!k&&Object(q.d)(Ds.a,{component:Rs.a,href:"#",to:O,variant:"quiet",onClick:j,className:"next-item-cta-button",id:"start-button",css:[Bs.nextItemCtaBtn,Bs.link]},Yo()("Start")),a&&o&&h&&Object(q.d)(Ds.a,{href:"#",onClick:function(e){e&&e.stopPropagation(),stopTimer(),y(!0)},className:"next-item-cta-button",id:"cancel-button",css:[Bs.nextItemCtaBtn,Bs.cancelBtn,Bs.link]},Yo()("Cancel"))))))},zs=["width","height"],PlayButton_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?96:t,i=e.height,o=void 0===i?96:i,r=zn()(e,zs);return(W.createElement("svg",L()({width:n,height:o,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),Os||(Os=W.createElement("path",{d:"M32 68.6998V27.2998C32 26.1665 32.4 25.2165 33.2 24.4498C34 23.6831 34.9333 23.2998 36 23.2998C36.3333 23.2998 36.6833 23.3498 37.05 23.4498C37.4167 23.5498 37.7667 23.6998 38.1 23.8998L70.7 44.5998C71.3 44.9998 71.75 45.4998 72.05 46.0998C72.35 46.6998 72.5 47.3331 72.5 47.9998C72.5 48.6665 72.35 49.2998 72.05 49.8998C71.75 50.4998 71.3 50.9998 70.7 51.3998L38.1 72.0998C37.7667 72.2998 37.4167 72.4498 37.05 72.5498C36.6833 72.6498 36.3333 72.6998 36 72.6998C34.9333 72.6998 34 72.3165 33.2 71.5498C32.4 70.7831 32 69.8331 32 68.6998Z",fill:"white"}))))},Us=["width","height"],PlayButtonScrimSvg=function(e){var t=e.width,n=void 0===t?124:t,i=e.height,o=void 0===i?124:i,r=zn()(e,Us);return(W.createElement("svg",L()({width:n,height:o,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"PlayButtonScrim"},r),Ts||(Ts=W.createElement("g",{filter:"url(#filter0_bd_1764_10896)"},W.createElement("rect",{x:"0",y:"0",width:"124",height:"124",rx:"62",fill:"black",fillOpacity:"0.66",shapeRendering:"crispEdges"}))),js||(js=W.createElement("defs",null,W.createElement("filter",{id:"filter0_bd_1764_10896",x:"-23",y:"-23",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"11.5"}),W.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_1764_10896"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"2"}),W.createElement("feGaussianBlur",{stdDeviation:"4"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.32 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect1_backgroundBlur_1764_10896",result:"effect2_dropShadow_1764_10896"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1764_10896",result:"shape"}))))))},Qs={playButtonContainer:Object(q.c)(Es||(Es=U()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]))),button:Object(q.c)(Ps||(Ps=U()(["\n    cursor: pointer;\n    position: relative;\n    width: 124px;\n    height: 124px;\n\n    &:hover svg:first-of-type {\n      opacity: 0.4;\n    }\n  "]))),scrim:Object(q.c)(Is||(Is=U()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: opacity 0.2s cubic-bezier(0, 0, 0.2, 1);\n  "]))),arrow:Object(q.c)(Vs||(Vs=U()(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "])))},PlayButton_PlayButton=function(e){var t=e.onClick,n=e.onKeyPress,i=e.haspopup,o=e.videoName,r=o?Yo()("Play Video for #{videoName}",{videoName:o}):Yo()("Play Video");return Object(q.d)("div",{role:"presentation",onClick:t,onKeyPress:n,className:"rc-PlayButton horizontal-box align-items-absolute-center",css:Qs.playButtonContainer},Object(q.d)("button",{type:"button",className:"vjs-button","aria-disabled":"false","aria-haspopup":!!i||void 0,"aria-label":r,"aria-live":"off",onClick:t,onKeyDown:n,css:Qs.button},Object(q.d)(PlayButtonScrimSvg,{css:Qs.scrim}),Object(q.d)(PlayButton_PlayArrowSvg,{css:Qs.arrow,width:70,height:70}),Object(q.d)("span",{className:"vjs-control-text"},r)))};PlayButton_PlayButton.defaultProps={haspopup:!0};var Ks,qs=PlayButton_PlayButton;function applySubtitlePosition(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,o=e.position,r=void 0===o?50:o,a=e.align,s=void 0===a?"center":a;t.forEach((function(e){e.cues&&Array.from(e.cues).forEach((function(e){e&&(e.position=r,e.line=i,e.align=s)}))}))}var Ws={videoControlsContainer:Object(q.c)(Ks||(Ks=U()(["\n    position: absolute;\n    bottom: 0;\n    z-index: 2;\n\n    /* If changing the full-width and full-height nature of this container, make sure to update the code in \n     * the handlePlayerDblClick function in static/bundles/video-player/components/video/VideoPlayer.tsx to \n     * ensure double clicks are triggered when clicking on the right element\n     */\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0 0 0 0%);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &.showVideoBanner {\n      z-index: 10000;\n    }\n\n    &.hideContextMenu {\n      pointer-events: none;\n\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    button:focus,\n    button:active {\n      outline: ","px solid #82a8e1;\n    }\n\n    .shareButton {\n      position: absolute;\n      right: 10px;\n      top: 18px;\n      transition: opacity 200ms ease-out;\n    }\n  "])),2)},Zs=5e3,Gs=32,Js=13,Ys=".".concat("rc-VideoControlsContainer"),Xs=function(e){function VideoControlsContainer(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={isChromeVisible:!1,showAutoNextOverlay:!1,visiblePopup:null,hideContextMenu:!1},t.handleDocumentMouseMove=function(){t.state.hideContextMenu&&t.setState({hideContextMenu:!1})},t.handleVideoRegionMouseMove=function(){t.showChromeOnControlUse()},t.handleDocumentMouseDown=function(e){var n=t.props.player,i=n.isFullscreen();!t.node||t.node.contains(e.target)||i||n.paused()||t.setChromeVisibility(!1)},t.onPlayButtonClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,i=n.player,o=n.displayInitialCenterPlayButton,r=n.trackVideoPlayerClickEvent;i.play(),o(!1),r("video_center_play",{})},t.onPlayButtonKeyPress=function(e){if(e.keyCode===Gs||e.keyCode===Js){var n=t.props,i=n.player,o=n.displayInitialCenterPlayButton;i.play(),o(!1)}},t.onClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.player;n.paused()?n.play():n.pause()},t.onShareClick=function(e){e.stopPropagation();var n=t.props.player;n.paused()||n.pause()},t.onContextMenu=function(){t.setState({hideContextMenu:!0})},t.hideChrome=function(e){e.stopPropagation();var n=t.state.visiblePopup,i=t.props.player,o=i.isFullscreen();i.paused()||o||null!==n||t.setChromeVisibility(!1)},t.hideChromeOnBlur=function(e){e.currentTarget.contains(e.relatedTarget)||t.hideChrome(e)},t.showChrome=function(e){e.stopPropagation(),t.setChromeVisibility(!0)},t.showChromeOnFocus=function(e){t.showChrome(e),t.clearChromeVisibilityTimeout()},t.startChromeVisibilityTimeout=function(){t.timeoutID=window.setTimeout((function(){t.setChromeVisibility(!1)}),Zs)},t.clearChromeVisibilityTimeout=function(){t.timeoutID&&clearTimeout(t.timeoutID)},t.showChromeOnControlUse=function(){var e;t.clearChromeVisibilityTimeout();var n=t.props.player;t.setChromeVisibility(!0);var i=null===(e=t.node)||void 0===e?void 0:e.contains(document.activeElement);n.paused()||i||t.startChromeVisibilityTimeout()},t.setChromeVisibility=function(e){var n=t.state.visiblePopup;t.setState({isChromeVisible:e,visiblePopup:e?n:null})},t.setVisiblePopup=function(e){t.setState({visiblePopup:e})},t.assignRef=function(e){t.node=e},t}ct()(VideoControlsContainer,e);var t=VideoControlsContainer.prototype;return t.componentDidMount=function(){var e=this,t=this.props,n=t.player,i=t.displayInitialCenterPlayButton;n.one("play",(function(){i(!1)})),n.on("play",(function(){e.setState({showAutoNextOverlay:!1}),applySubtitlePosition({textTracks:Array.from(n.textTracks())}),e.showChromeOnControlUse()})),n.on("seeked",this.showChromeOnControlUse),n.on("volumechange",this.showChromeOnControlUse),n.on("pause",this.showChromeOnControlUse),n.on("ended",(function(){e.setState({showAutoNextOverlay:!0})})),i(!n.autoplay()),document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("mousemove",this.handleDocumentMouseMove)},t.componentWillUnmount=function(){this.props.player.off("ended"),this.clearChromeVisibilityTimeout(),document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("mousemove",this.handleDocumentMouseMove)},t.render=function(){var e,t,n,i=this.props,o=i.defaultSubtitleLanguage,r=i.nextItem,a=i.player,s=i.videoQuizQuestions,c=i.visibility,l=i.onChangeFullScreen,u=i.autoNextCountdownSeconds,d=i.itemMetadata,p=i.isAutoNextPaused,g=i.trackVideoPlayerClickEvent,h=i.trackVideoPlayerViewEvent,m=i.trimmedStartTimeSeconds,f=i.trimmedDurationSeconds,v=i.enableHls,b=i.videoBoundaryElement,y=i.videoFeedbackState,C=i.showFeedback,S=i.showInitialCenterPlayButton,k=i.dubbedSources,w=i.originalSources,x=i.dubbedSubtitlesVtt,O=i.hlsSource,T=this.state,j=T.isChromeVisible,E=T.visiblePopup,P=T.showAutoNextOverlay,I=T.hideContextMenu,V=!p&&(fi.a&&fi.a.get("autoplay")),L=P&&c&&r&&(a.ended()||f);return Object(q.d)("div",{ref:this.assignRef,role:"presentation",className:Xe()("rc-VideoControlsContainer",{hideContextMenu:I}),onClick:this.onClick,onFocus:this.showChromeOnFocus,onContextMenu:this.onContextMenu,onBlur:this.hideChromeOnBlur,onMouseEnter:S?void 0:this.showChrome,onMouseLeave:this.hideChrome,onMouseMove:this.handleVideoRegionMouseMove,css:Ws.videoControlsContainer},S&&Object(q.d)(qs,{onClick:this.onPlayButtonClick,onKeyPress:this.onPlayButtonKeyPress,haspopup:!1,videoName:null==d?void 0:null===(e=d.attributes)||void 0===e?void 0:e.name}),Object(q.d)(components_ActionFeedback,{feedback:y,showFeedback:C}),L&&Object(q.d)(autoplay_AutoNextOverlay,{nextItem:r,isAutoNextEnabled:V,defaultCountdown:u,isAutoNextPaused:p}),Object(q.d)(components_ControlBar,{courseId:(null==d?void 0:null===(t=d.attributes)||void 0===t?void 0:null===(n=t.course)||void 0===n?void 0:n.id)||"",enableHls:v,hlsSource:O,visiblePopup:E,videoQuizQuestions:s,setVisiblePopup:this.setVisiblePopup,visible:j,player:a,onChangeFullScreen:l,trackVideoPlayerClickEvent:g,trackVideoPlayerViewEvent:h,trimmedStartTimeSeconds:m,videoBoundaryElement:b,defaultSubtitleLanguage:o,dubbedSubtitlesVtt:x,dubbedSources:k,originalSources:w}))},VideoControlsContainer}(W.Component),$s=t("++Ya"),ec=Object(r.a)("/api/onDemandVideoProgresses.v1",{type:"rest"}),tc={getVideoProgressId:function(e,t){return Object($s.c)([ne.a.get().id,e,t])},get:function(e,t){var n=this.getVideoProgressId(e,t);if(!ne.a.isAuthenticatedUser())return o.a.reject();var i=new g.a(n);return o()(ec.get(i.toString()))},update:function(e,t,n){var i=this.getVideoProgressId(e,t),r={viewedUpTo:n,videoProgressId:i},a=new g.a(i);return o()(ec.put(a.toString(),{data:r}))}},nc=tc,ic=t("BVC1"),oc=Object(r.a)("/api/opencourse.v1",{type:"rest"}),rc={sendEvent:function(e,t){var n=e.itemMetadata,i=n.get("course.slug"),o=n.getId(),r=new g.a(ic.a.join("user","".concat(ne.a.get().id),"course",i,"item",o,"lecture/videoEvents",t));return r.addQueryParam("autoEnroll","false"),oc.post(r.toString(),{data:{contentRequestBody:{}}})}},ac=rc.sendEvent;function isHlsEnabled(){return Yi.a.get("enableHlsOnInCourseVideoPlayer")}var sc,cc,lc,uc,dc,pc,gc,hc,mc,fc=t("W8MJ"),vc=t.n(fc),bc=t("Wjkg"),yc=t("4uH7"),Cc=t("Gcrz"),Sc=t("UYTu"),kc=Object(Sc.a)(sc||(sc=U()(['\n  mutation submitQuiz(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    submitQuiz(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/lecture/inVideoQuiz/session/{args.sessionId}/action/submitResponse?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestSubmitQuizResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          id\n          isSubmitAllowed\n          feedback {\n            feedbackLevel\n            definition {\n              isCorrect\n              display {\n                typeName\n                definition {\n                  dtdId\n                  value\n                }\n              }\n              options {\n                id\n                count\n                isCorrect\n                feedback {\n                  typeName\n                  definition {\n                    dtdId\n                    value\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']))),wc=function(e){function VideoQuizMutations(){return e.apply(this,arguments)||this}return ct()(VideoQuizMutations,e),VideoQuizMutations.prototype.render=function(){var e=this.props,t=e.itemId,n=e.courseSlug,i=e.question,o=e.sessionId,r=e.userId,a=e.children;return(W.createElement(Cc.b,{mutation:kc},(function(e){return a({submitQuiz:function(a){var s,c;return e({variables:{sessionId:o,userId:r,itemId:t,slug:n,body:{contentRequestBody:{argument:{questionInstance:i.id,response:null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(c=s.definition)||void 0===c?void 0:c.value,timestamp:null}}}}})}})})))},VideoQuizMutations}(W.Component),xc=t("Qdou"),Oc=t("GD6B"),Tc=t("Jn0X"),jc=t("/Sxx"),Ec=t("vU9D"),util_transformQuizToFormData=function(e,t,n){if(!t)return e&&e.map((function(e){return{prompt:e,response:{typeName:Ec.f.AUTO_GRADABLE_RESPONSE,definition:{value:n&&((e||{}).effectiveResponse||{}).response?((e||{}).effectiveResponse||{}).response:(t=e,"widget"===((t||{}).question||{}).type?{answer:{}}:null)}}};var t}));var i=t.reduce((function(e,t){return H()(H()({},e),{},uo()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t=i[e.id];return{prompt:e,response:{typeName:Ec.f.AUTO_GRADABLE_RESPONSE,definition:{value:t}}}}))},utils_transformQuestionToFormData=function(e){var t=util_transformQuizToFormData([e],void 0,!0),n=B()(t,1)[0],i=n.prompt,o=n.response;return{id:i.id,root:{element:{definition:{prompt:{typeName:Ec.f.AUTO_GRADABLE_PROMPT,definition:{value:{effectiveResponse:i.effectiveResponse,variant:{definition:i.variant},question:i.question,feedback:i.feedback}}},response:o,responseId:i.id},typeName:Ec.f.PROMPT_REQUIRING_RESPONSE_ELEMENT},children:[]}}},Pc={questionArea:Object(q.c)(cc||(cc=U()(["\n    overflow-y: scroll;\n    padding: 1.5rem;\n\n    &::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    &::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid var(--cds-color-neutral-background-primary);\n      background-color: rgb(0 0 0 / 50%);\n    }\n\n    &::-webkit-scrollbar-track {\n      background-color: var(--cds-color-neutral-background-primary);\n      border-radius: 8px;\n    }\n  "]))),responseBox:Object(q.c)(lc||(lc=U()(["\n    margin-top: 1.25rem;\n  "]))),legend:Object(q.c)(uc||(uc=U()(["\n    margin-bottom: 0;\n    border-bottom: none;\n    display: contents;\n  "])))},Ic=function(e){function VideoQuizQuestionArea(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.responseBoxRef=null,n}ct()(VideoQuizQuestionArea,e);var t=VideoQuizQuestionArea.prototype;return t.componentDidUpdate=function(){var e,t,n="[data-test='GradeFeedback-".concat(jc.a.FAILURE,"]");if(null!==(e=this.containerRef)&&void 0!==e&&e.querySelector(n)||(n="[data-test^='GradeFeedback-']"),"ready"===this.props.currentState){var i,o=null===(i=this.responseBoxRef)||void 0===i?void 0:i.querySelector('[role="group"]');if(o){var r=o.querySelectorAll('input[type="checkbox"]');if(r.length)r[0].focus()}}var a=null===(t=this.containerRef)||void 0===t?void 0:t.querySelector(n);a&&this.containerRef&&(this.containerRef.scrollTop=a.offsetTop)},t.render=function(){var e=this,t=this.props,n=t.question,i=t.isReadonly,o=t.currentState,r="done"===o||"retry"===o;if(!n)return null;var a=utils_transformQuestionToFormData(n).root,s=a.element,c=a.children,l=Object(Tc.a)(s).promptText;return Object(q.d)("fieldset",{css:Pc.questionArea,ref:function(t){e.containerRef=t},className:"rc-VideoQuizQuestionArea",tabIndex:0},Object(q.d)("legend",{className:"rc-VideoQuizQuestionArea__legend",css:Pc.legend},Object(q.d)(xc.a,{value:l})),Object(q.d)("div",{className:"rc-VideoQuizQuestionArea__responseBox",css:Pc.responseBox,ref:function(t){e.responseBoxRef=t},"aria-live":"polite"},Object(q.d)(Oc.b,{isReadOnly:i,isDisabled:r,formPart:s,enableFeedbackFocus:!0}),c&&c.length>0&&Object(q.d)("div",null,c.map((function(e){var t=e.element;return Object(q.d)(Oc.b,{isReadOnly:i,isDisabled:r,formPart:t})})))))},VideoQuizQuestionArea}(W.Component),Vc=t("AWZ4"),_c=t("agp5"),Lc=t("uhOI"),Mc=t("TSwX"),Rc=t("iR3l"),Nc=t.n(Rc),Dc=function(e){function VideoQuizSubmissionButton(){return e.apply(this,arguments)||this}return ct()(VideoQuizSubmissionButton,e),VideoQuizSubmissionButton.prototype.render=function(){var e,t,n=this.props,i=n.onRetry,o=n.question,r=n.onSubmit,a=n.onContinue,s=n.apiState,c="continueOnly"===o.question.responseType,l=Lc.a;switch(s){case"submitting":l=Lc.c,t=Nc()("Submitting...");break;case"ready":e=r,t=Nc()("Submit");break;case"retry":e=i,t=Nc()("Retry");break;default:e=a,t=Nc()("Continue")}if(c)switch(s){case"submitting":t=Nc()("Continuing...");break;default:t=Nc()("Continue"),e=a}return(W.createElement(Mc.a,{label:t,apiStatus:l,onClick:e,variant:"primary",style:{background:"var(--cds-color-interactive-primary)",color:"var(--cds-color-white-0)",display:"inherit"},"data-testid":"VideoQuizSubmission-Button"}))},VideoQuizSubmissionButton}(W.Component),Fc={quizSubmissionArea:Object(q.c)(dc||(dc=U()(["\n    padding: 1.5rem;\n    border-top: 1px solid #e1e1e1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n\n    button {\n      font-size: 0.8rem;\n      margin-right: 1.5rem;\n      color: var(--cds-color-interactive-primary);\n\n      &:last-of-type {\n        margin: 0;\n      }\n    }\n  "])))},Hc=function(e){function VideoQuizSubmissionArea(){return e.apply(this,arguments)||this}return ct()(VideoQuizSubmissionArea,e),VideoQuizSubmissionArea.prototype.render=function(){var e=this.props,t=e.onSubmit,n=e.onContinue,i=e.onRetry,o=e.questionState,r=e.question,a=e.question.id,s="continueOnly"===r.question.responseType;return Object(q.d)("div",{className:"rc-VideoQuizSubmissionArea",css:Fc.quizSubmissionArea},!s&&Object(q.d)(Vc.b,{onClick:n,type:"link",size:"sm"},Nc()("Skip")),Object(q.d)(_c.a,{ids:[a]},(function(e){return Object(q.d)(Dc,{onContinue:n,onRetry:i,onSubmit:function(){return e&&e.length>0&&t(e[0])},question:r,apiState:o})})))},VideoQuizSubmissionArea}(W.Component),Ac=t("RUkv"),qusetionTypeUtils_isPollQuestion=function(e){return[Ac.a.Poll,Ac.a.CheckboxPoll].includes(e.question.type)},qusetionTypeUtils_isPauseAndReflectQuestion=function(e){return[Ac.a.ReflectText,Ac.a.Continue].includes(e.question.type)},Bc={root:Object(q.c)(pc||(pc=U()(["\n    position: absolute;\n    background: rgb(0 0 0 / 75%);\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    display: block;\n    top: 0;\n    left: 0;\n  "]))),focusTrap:Object(q.c)(gc||(gc=U()(["\n    height: 1px;\n    width: 1px;\n    position: absolute;\n    top: 10px;\n    left: 0;\n    background: transparent;\n    border: none;\n  "]))),videoQuizWindow:Object(q.c)(hc||(hc=U()(["\n    position: absolute;\n    top: 50%;\n    max-height: 90%;\n    font-size: 1rem;\n    width: 80%;\n    left: 50%;\n    background: var(--cds-color-neutral-background-primary);\n    transform: translate(-50%, -50%);\n    display: grid;\n    grid-template-rows: auto minmax(0, 1fr) auto;\n    color: var(--cds-color-neutral-primary);\n  "]))),videoQuizHeader:Object(q.c)(mc||(mc=U()(["\n    line-height: 1.2em;\n    border-bottom: 1px solid #e1e1e1;\n    margin: 0;\n    padding: 1.5rem;\n  "])))},zc=function(e){function VideoQuizContent(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).blurListeningEnabled=!1,t.state={isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null},t.onBlur=function(e){var n=e.relatedTarget;if(t.blurListeningEnabled&&t.windowRef&&n&&!t.windowRef.contains(n)){var i,o=t.getFocusableWindowElements();null==o||null===(i=o.first)||void 0===i||i.focus()}},t.mouseListener=function(){t.blurListeningEnabled=!1},t.keyListener=function(e){var n=t.props.onContinue;t.blurListeningEnabled=!0,e.keyCode===yc.a.tab?t.handleTabKey(e):e.keyCode===yc.a.esc&&n()},t.handleTabKey=function(e){var n=t.getFocusableWindowElements();n&&(e.shiftKey&&n.active===n.first&&(n.last.focus(),e.preventDefault()),e.shiftKey||n.active!==n.last||(n.first.focus(),e.preventDefault()))},t.handleFocus=function(){var e=t.getFocusableWindowElements();e&&e.first.focus()},t.getFocusableWindowElements=function(){if(t.windowRef){var e=t.windowRef.querySelectorAll('a[href], button, textarea, input, select, iframe, [tabindex]:not([tabindex="-1"])');return{first:e[0],last:e[e.length-2],active:document.activeElement,all:e}}return null},t.renderLabel=function(){var e=t.props.question;return e?qusetionTypeUtils_isPollQuestion(e)?Nc()("Poll"):qusetionTypeUtils_isPauseAndReflectQuestion(e)?Nc()("Reflect"):Nc()("Question"):null},t}ct()(VideoQuizContent,e);var t=VideoQuizContent.prototype;return t.componentDidMount=function(){var e,t=this.getFocusableWindowElements();null==t||null===(e=t.first)||void 0===e||e.focus(),document.addEventListener("keydown",this.keyListener),document.addEventListener("mousedown",this.mouseListener)},t.componentWillUnmount=function(){document.removeEventListener("keydown",this.keyListener),document.removeEventListener("mousedown",this.mouseListener)},t.getPersistedResponse=function(){if(this.props.question){var e=bc.a.get(this.localStorageKey);if(e)return e}return{feedback:null,response:null}},t.setPersistedResponse=function(e,t){var n=this.props.question;n&&bc.a.set("videoQuizResponses.".concat(n.id),{feedback:e,response:t})},t.getQuestionWithSubmission=function(){var e=this.props.question,t=this.state,n=t.latestResponse,i=t.latestFeedback;if(e){var o,r,a=this.getPersistedResponse(),s=i||a.feedback,c=n||a.response,l={questionInstance:e.id,response:null==c?void 0:null===(o=c.response)||void 0===o?void 0:null===(r=o.definition)||void 0===r?void 0:r.value};return H()(H()({},e),{},{feedback:s,effectiveResponse:l})}return null},t.resetQuestion=function(){bc.a.remove(this.localStorageKey),this.setState({isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null})},t.render=function(){var e,t=this,n=this.props,i=n.onContinue,o=n.onSubmit,r=n.question,a=this.state,s=a.isSubmitting,c=a.didError;if(!r)return null;var l=this.getQuestionWithSubmission(),u=null==l?void 0:l.feedback,d=null==u?void 0:null===(e=u.definition)||void 0===e?void 0:e.isCorrect,p=qusetionTypeUtils_isPollQuestion(r),g="ready";return c?g="errored":s?g="submitting":u&&(g=d||p?"done":"retry"),Object(q.d)("div",{role:"dialog","aria-labelledby":"dialog_videoQuizQuestion",className:"rc-VideoQuiz__window",css:Bc.videoQuizWindow,ref:function(e){t.windowRef=e}},Object(q.d)(se.a,{variant:"titleSmall",component:"h2",id:"dialog_videoQuizQuestion",className:"video-quiz-header",css:Bc.videoQuizHeader},this.renderLabel()),Object(q.d)(Ic,{isReadonly:void 0!==d,currentState:g,question:l}),Object(q.d)(Hc,{onRetry:function(){return t.resetQuestion()},onContinue:i,onSubmit:function(e){t.setState({isSubmitting:!0}),o(e).then((function(n){var i,o,r,a,s=(null!==(i=null==n?void 0:null===(o=n.data)||void 0===o?void 0:null===(r=o.submitQuiz)||void 0===r?void 0:null===(a=r.contentResponseBody)||void 0===a?void 0:a.return)&&void 0!==i?i:{}).feedback;t.setState({isSubmitting:!1,didError:!1,latestFeedback:s,latestResponse:e}),t.setPersistedResponse(s,e)})).catch((function(){return t.setState({didError:!0})}))},question:r,questionState:g}),Object(q.d)("button",{css:Bc.focusTrap,type:"button",className:"focus-trap",onFocus:this.handleFocus}))},vc()(VideoQuizContent,[{key:"localStorageKey",get:function(){var e;return"videoQuizResponses.".concat(null===(e=this.props.question)||void 0===e?void 0:e.id)}}]),VideoQuizContent}(W.Component),Uc=function(e){function VideoQuiz(){return e.apply(this,arguments)||this}return ct()(VideoQuiz,e),VideoQuiz.prototype.render=function(){var e=this.props,t=e.onContinue,n=e.sessionId,i=e.itemId,o=e.courseSlug,r=e.question;if(!r)return null;var a=ne.a.get().id;return Object(q.d)("div",{className:"rc-VideoQuiz",css:Bc.root},Object(q.d)(wc,{itemId:i,courseSlug:o,userId:a,sessionId:n,question:r},(function(e){var n=e.submitQuiz;return Object(q.d)(zc,{question:r,onContinue:t,onSubmit:n})})))},VideoQuiz}(W.Component),isValidValue=function(e){return null!=e},getSyncPlayerOnTimeUpdate=function(e){var t=e.player,n=e.trimmedDurationSeconds,i=e.trimmedStartTimeSeconds;return function(){var e=null==t?void 0:t.currentTime(),o=null==t?void 0:t.duration();if(t&&isValidValue(e)&&isValidValue(o)){var r=null!=i?i:0,a=n?Math.floor(r+n):o;e<r?t.currentTime(r):e>a&&(t.pause(),t.trigger("ended"))}}},syncPlayerDuration=function(e,t){e&&t&&e.duration(t)},Qc=t("MA7l"),Kc=t("F/us"),qc=t.n(Kc),Wc=function Cuepoint(e,t,n){var i=qc()(t);this.name=i.has("name")?t.name:"",this.startTime=t.at||0,this.endTime=i.has("to")?t.to:0,this.type=i.has("to")?Cuepoint.RANGE:Cuepoint.POINT,this.callback=n||function(){},this.player=e,this.visible=i.has("visible")&&t.visible};Wc.POINT=0,Wc.RANGE=1,qc.a.extend(Wc.prototype,{type:Wc.POINT,visible:!1,marker:null,startTime:0,endTime:0,name:"",didFire:!1,move:function(e){this.startTime=parseFloat(e/100*this.player.duration()).toFixed(1),this.marker&&this.marker.move(e)},filter:function(e,t){if(this.type===Wc.POINT)return e<this.startTime&&this.startTime<=t;var n=e>=this.startTime&&e<this.endTime,i=e<this.startTime,o=t>this.startTime&&t<this.endTime;return n||i&&o},setFired:function(e){this.didFire=e},fire:function(){this.name&&this.player.emitter.trigger("cuepoint."+this.name),this.callback&&this.callback(),this.setFired(!0)}});var Zc=[],Gc=!1;Ne.a.registerPlugin("addCuepoint",(function(e,t){this.eventEmitter(),Zc.push(new Wc(this,e,t)),this.on("seeking",(function(){Gc=!0})),this.on("seeked",(function(){Gc=!1;var e=this.currentTime();qc()(Zc).chain().filter((function(t){return t.startTime>e})).forEach((function(e){e.setFired(!1)}))}));var n=0;this.on("timeupdate",(function(){var e=this.currentTime();Gc||qc()(Zc).chain().filter((function(t){return t.filter(n,e)&&!t.didFire})).invoke("fire"),n=e})),this.on("dispose",(function(){Zc=[]}))})),Ne.a.registerPlugin("eventEmitter",(function(){this.emitter||(this.emitter=Oi.a.emitter())}));t("t9gw");var Jc=t("oYk5"),Yc=t.n(Jc);function tab_visible(e){return Yc.a.expr.filters.visible(e)&&!Yc()(e).parents().addBack().filter((function(){return"hidden"===Yc.a.css(this,"visibility")})).length}function _focusable(e){var t,n,i,o=e.nodeName.toLowerCase(),r=!isNaN(Yc.a.attr(e,"tabindex"));return"area"===o?(n=(t=e.parentNode).name,!(!e.href||!n||"map"!==t.nodeName.toLowerCase())&&(!!(i=Yc()("img[usemap=#"+n+"]")[0])&&tab_visible(i))):/^(input|select|textarea|button|object)$/.test(o)?!e.disabled&&tab_visible(e):"a"===o?(e.href||r)&&tab_visible(e):r&&tab_visible(e)}function tab_tabbable(e){var t=Yc.a.attr(e,"tabindex"),n=isNaN(t);return(n||t>=0)&&_focusable(e)}var Xc={isFocusable:function(e){return _focusable(e,isNaN(Yc.a.attr(e,"tabindex")))},isTabbable:tab_tabbable,getNext:function(e){for(var t=e;t;)if((t=t.nextSibling)&&tab_tabbable(t))return t;return null},getPrevious:function(e){for(var t=e;t;)if((t=t.previousSibling)&&tab_tabbable(t))return t;return null}};Ne.a.registerPlugin("hotkeys",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},i=null;t.el().hasAttribute("tabIndex")||t.el().setAttribute("tabIndex","-1"),t.on("play",(function(){var e=t.el().querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var keyDown=function(i){var o=e.volumeStep||n.volumeStep,r=e.seekStep||n.seekStep,a=e.enableMute||n.enableMute,s=e.enableFullscreen||n.enableFullscreen,c=e.playbackStep||n.playbackStep,l=e.playbackLowerLimit||n.playbackLowerLimit,u=e.playbackUpperLimit||n.playbackUpperLimit;if(t.controls()){var d=document.activeElement;if(d===t.el()||d===t.el().querySelector(".iframeblocker"))if(32===i.which)i.preventDefault(),t.paused()?t.play():t.pause();else if(37===i.which){i.preventDefault();var p=t.currentTime()-r;t.currentTime()<=r&&(p=0),t.currentTime(p)}else 39===i.which?(i.preventDefault(),t.currentTime(t.currentTime()+r)):40===i.which?(i.preventDefault(),t.volume(t.volume()-o)):38===i.which?(i.preventDefault(),t.volume(t.volume()+o)):77===i.which?a&&(t.muted()?t.muted(!1):t.muted(!0)):70===i.which?s&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen()):i.shiftKey&&(190===i.which&&t.playbackRate()<u?t.playbackRate(t.playbackRate()+c):188===i.which&&t.playbackRate()>l&&t.playbackRate(t.playbackRate()-c))}};return t.on("keydown",keyDown),t.on("userinactive",(function(){if(t.controls()){var e=document.activeElement,n=Yc()(t.controlBar.el_),restoreFocus=function(){t.el_.focus()};n.find(e).size()>0?(i=document.activeElement,n.css("transition")?n.one("transitionend",restoreFocus):restoreFocus()):i=null}})),t.on("useractive",(function(){if(t.controls()&&i){var e=Yc()(t.controlBar.el_),returnFocus=function(){i&&(i.focus(),i=null)};e.css("transition")?e.one("transitionend",returnFocus):returnFocus()}})),Yc()(document).on("keydown.videoJSPlayer",(function(e){if(9===e.which&&!t.userActive()){if(i){var n=null;(n=e.shiftKey?Xc.getPrevious(i):Xc.getNext(i))&&(i=n)}t.userActive(!0)}})),t.on("dispose",(function(e){Yc()(document).off("keydown.videoJSPlayer")})),this})),Ne.a.registerPlugin("joinEvents",(function(){this.eventEmitter();var e=null,t=null,n=!1,triggerJoining=function(){n||(e=new Date,this.trigger("joining"))};this.on("play",triggerJoining),this.one("durationchange",(function(){t=new Date,n=!0,this.emitter.set("joined",{joinDuration:t-e}),this.off("play",triggerJoining)}))}));t("JAA1");var attachWaitTimer=function(e){var t=null,n=0,i="STOPPED",o=0,r=0,a=0,s=null,triggerEvent=function(){(o>0||r>0||a>0)&&(e.trigger({type:"waitmetrics",playDuration:o,waitDuration:r,waitCount:a}),o=0,r=0,a=0)},stopTimer=function(){s&&(clearInterval(s),s=null)},timerTick=function(){if(e.contentEl()){var s,c=new Date,l=e.currentTime();s=e.paused()?"STOPPED":l>n?"PLAYING":"WAITING";var u=c-t;"WAITING"!==i&&"WAITING"===s&&u<250||("WAITING"!==i&&"WAITING"===s&&(a+=1),"PLAYING"===s?o+=u:"WAITING"===s?r+=u:"STOPPED"===s&&(stopTimer(),triggerEvent()),o+r>=15e3&&triggerEvent(),t=c,n=l,i=s)}else stopTimer()},startTimer=function(){s||(t=new Date,s=setInterval(timerTick,100))};e.on("play",startTimer),e.on("timeupdate",startTimer)};Ne.a.registerPlugin("waitEvents",(function(){attachWaitTimer(this)}));var $c,el,tl,nl,il,ol,rl,al,sl,cl,ll,ul,dl=t("4x9Y"),pl=(t("DJ+3"),t("HXl9"),["onVideoPlayedToEnd"]),gl=["onVideoPlayedToEnd"],hl="VideoPlayer(corelex)",ml={volumeStep:.1,seekStep:10,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},fl={videoPlayer:Object(q.c)($c||($c=U()(["\n    .vjs-waiting {\n      .vjs-loading-spinner {\n        z-index: 10000000;\n      }\n    }\n\n    .vjs-react {\n      font-family: OpenSans, Arial, sans-serif;\n\n      /* Player background-color defaults to black */\n      background-color: transparent;\n    }\n\n    .vjs-react .vjs-overlay {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      top: 0;\n      background-color: rgb(0 0 0 / 75%);\n      z-index: 3;\n      padding-top: 0;\n\n      .coursera-assess-assessment-in-video {\n        .coursera-assess-style-question-in-video {\n          padding: 36px !important;\n        }\n      }\n    }\n\n    .vjs-react .vjs-poster {\n      /* Poster defaults to black background. Make it transparent so it works with any color video player background. */\n      background-color: transparent;\n    }\n\n    .vjs-react.vjs-coursera-skin.vjs-coursera-phoenix-skin {\n      border-radius: var(--cds-border-radius-200);\n\n      /* Cover up the background that scrolls behind the video player\n         Because the outline appears outside its container, we need to leave space around the container to prevent the outline being cut off.\n         Temporary fix; will change to allocate space inside the container for the outline */\n      outline: ","px solid var(--cds-color-neutral-background-primary) !important;\n\n      &:focus {\n        /* !important is needed to override the !important styles\n           used by the legacy implementation */\n        outline: ","px solid #82a8e1 !important;\n      }\n\n      .vjs-mouse-display {\n        .vjs-time-tooltip {\n          top: -35px;\n          font-size: 13px;\n          border-radius: 1px;\n          background-color: #111;\n        }\n      }\n\n      .vjs-volume-panel {\n        &:hover {\n          .vjs-volume-control {\n            width: 3em;\n            height: 8em;\n            display: block;\n          }\n        }\n      }\n\n      .vjs-volume-control {\n        transition: none;\n        height: 0;\n        width: 0;\n        display: none;\n      }\n\n      .vjs-progress-holder {\n        margin: 0;\n      }\n\n      .vjs-text-track {\n        font-size: 1.8em;\n      }\n\n      .vjs-control-bar {\n        height: 35px;\n      }\n\n      .vjs-menu {\n        margin-bottom: 15px;\n      }\n\n      .vjs-tech {\n        z-index: 1;\n      }\n    }\n\n    /* Ensures the text tracks managed by video.js are shown on top of the video player */\n    .vjs-text-track-display {\n      z-index: 2;\n\n      .vjs-text-track-cue {\n        /* Unfortunately, since the styles are applied inline, we need to use !important to override them */\n        top: calc(100% - 110px) !important;\n\n        > div {\n          background-color: rgba(0 0 0 / 80%) !important;\n        }\n      }\n    }\n  "])),2,2)},vl=function(e){function VideoPlayer(t){var n,i;(i=e.call(this,t)||this).player=void 0,i.playerRef=W.createRef(),i.eventingVideoMetadata={videoId:""},i.hlsSource=void 0,i.enableNewDefaultVideoResolution=null!==(n=Yi.a.get("enableNewDefaultResolution"))&&void 0!==n&&n,i.enableHlsExperiment=isHlsEnabled(),i.enableAiDubbingExperiment=isAiDubbingEnabled(i.props.viewOptions.course.get("id")),i.actionFeedbackTimeoutRef=null,i.initialResolution=resolutionUtils_getInitialResolution({enableHlsExperiment:i.enableHlsExperiment,enableNewDefaultVideoResolution:i.enableNewDefaultVideoResolution,isAutoAllowed:!0}),i.state={videoProgress:null,videoQuizQueue:[],activeQuestion:null,showFeedback:!1,videoFeedbackState:void 0,showInitialCenterPlayButton:!0,subtitlesEnabled:!1},i.togglePlayingState=function(e){i.player.paused()?(i.player.play(),e&&(i.trackVideoPlayerClickEvent("video_play_hotkey",{}),i.showVideoPlayerControlsFeedback(el||(el=Object(q.d)(svg_PlayArrowSvg,{width:60,height:60}))))):(i.player.pause(),e&&(i.trackVideoPlayerClickEvent("video_pause_hotkey",{}),i.showVideoPlayerControlsFeedback(tl||(tl=Object(q.d)(svg_PauseSvg,{width:60,height:60})))))},i.handleTabVisiblityForAutoPlayPause=function(){i.props.shouldDisableSkippingForward&&(document.hidden?i.player.pause():i.player.play())},i.handleWindowBlur=function(){i.props.shouldDisableSkippingForward&&i.player.pause()},i.handleWindowFocus=function(){i.props.shouldDisableSkippingForward&&i.player.play()},i.dismissVideoSkippingDisabledNotification=function(){(0,i.props.setShowVideoSkippingDisabledNotification)(!1)},i.handlePlayerKeyDown=function(e){var t=i.player.options(),n=ml.volumeStep,o=ml.seekStep,r=H()(H()({},t),ml),a=r.volumeStep,s=void 0===a?n:a,c=r.seekStep,l=void 0===c?o:c,u=i.props,d=u.shouldDisableSkippingForward,p=u.learnerMaxVideoProgressInSeconds,g=u.setShowVideoSkippingDisabledNotification;if(document.activeElement===i.player.el())switch(e.which){case 32:case 13:e.preventDefault(),i.togglePlayingState(!0);break;case 37:e.preventDefault();var h=i.player.currentTime(),m=null!=h?h:k,f=h-l;h<=l&&(f=0),i.player.currentTime(f),i.trackVideoPlayerClickEvent("video_seek_backward_hotkey",{previousVideoPosition:m,videoPosition:f}),i.showVideoPlayerControlsFeedback(nl||(nl=Object(q.d)(svg_Replay10Svg,{width:60,height:60})));break;case 39:var v=i.player.currentTime(),b=null!=v?v:k,y=v+l;if(!d||y<p){e.preventDefault();var C=i.player.currentTime(y);i.player.currentTime(C),i.trackVideoPlayerClickEvent("video_seek_forward_hotkey",{previousVideoPosition:b,videoPosition:y}),i.showVideoPlayerControlsFeedback(il||(il=Object(q.d)(svg_Forward10Svg,{width:60,height:60})))}else g(!0);break;case 38:e.preventDefault();var S=i.player.volume(),w=null!=S?S:k,x=S+s;i.player.volume(x),i.trackVideoPlayerClickEvent("video_volume_increase_hotkey",{previousVolume:w,volume:x}),i.showVideoPlayerControlsFeedback(ol||(ol=Object(q.d)(svg_VolumeUpSvg,{width:60,height:60})));break;case 40:e.preventDefault();var O=i.player.volume(),T=null!=O?O:k,j=O-s;i.player.volume(j),i.trackVideoPlayerClickEvent("video_volume_decrease_hotkey",{previousVolume:T,volume:j}),i.showVideoPlayerControlsFeedback(j>0?rl||(rl=Object(q.d)(svg_VolumeDownSvg,{width:60,height:60})):al||(al=Object(q.d)(svg_VolumeOffSvg,{width:60,height:60})))}},i.handlePlayerDblClick=function(e){if(e.preventDefault(),e.target.matches(Ys)){var t,n,o=i.player.options(),r=ml.enableFullscreen,a=H()(H()({},o),ml).enableFullscreen;if(void 0===a?r:a)if(we.b.isFullScreen())we.b.exitFullScreen({detail:{videoPlayer:null===(t=i.player)||void 0===t?void 0:t.el_}}),i.trackVideoPlayerClickEvent("video_full_screen_double_click_hotkey",{fullscreen:!1});else we.b.enterFullScreen({detail:{videoPlayer:null===(n=i.player)||void 0===n?void 0:n.el_}}),i.trackVideoPlayerClickEvent("video_full_screen_double_click_hotkey",{fullscreen:!0})}},i.handleDocumentKeyDown=function(e){var t=i.player.options(),n=e.ctrlKey||e.altKey||e.metaKey;if(i.trapFocusInIvq(e),!n){var o=ml.enableMute,r=ml.enableFullscreen,a=ml.playbackStep,s=ml.playbackLowerLimit,c=ml.playbackUpperLimit,l=H()(H()({},t),ml),u=l.enableMute,d=void 0===u?o:u,p=l.enableFullscreen,g=void 0===p?r:p,h=l.playbackStep,m=void 0===h?a:h,f=l.playbackLowerLimit,v=void 0===f?s:f,b=l.playbackUpperLimit,y=void 0===b?c:b,C=e.target||e.srcElement,S=C.tagName;if(!("INPUT"===S||"SELECT"===S||"TEXTAREA"===S||C.isContentEditable))switch(e.which){case 75:e.preventDefault(),i.player.paused()?(i.player.play(),i.trackVideoPlayerClickEvent("video_play_hotkey",{}),i.showVideoPlayerControlsFeedback(sl||(sl=Object(q.d)(svg_PlayArrowSvg,{width:60,height:60})))):(i.player.pause(),i.trackVideoPlayerClickEvent("video_pause_hotkey",{}),i.showVideoPlayerControlsFeedback(cl||(cl=Object(q.d)(svg_PauseSvg,{width:60,height:60}))));break;case 77:e.preventDefault(),d&&(i.player.muted(!i.player.muted()),i.trackVideoPlayerClickEvent("video_mute_hotkey",{}),i.showVideoPlayerControlsFeedback(i.player.muted()?ll||(ll=Object(q.d)(svg_VolumeOffSvg,{width:60,height:60})):ul||(ul=Object(q.d)(svg_VolumeUpSvg,{width:60,height:60}))));break;case 70:var w,x;if(e.preventDefault(),g)if(we.b.isFullScreen())we.b.exitFullScreen({detail:{videoPlayer:null===(w=i.player)||void 0===w?void 0:w.el_}}),i.trackVideoPlayerClickEvent("video_full_screen_hotkey",{fullscreen:!1});else we.b.enterFullScreen({detail:{videoPlayer:null===(x=i.player)||void 0===x?void 0:x.el_}}),i.trackVideoPlayerClickEvent("video_full_screen_hotkey",{fullscreen:!0});break;case 190:e.preventDefault();var O=i.player.playbackRate();if(e.shiftKey&&O<y){var T=null!=O?O:k,j=O+m;i.player.playbackRate(j),i.trackVideoPlayerClickEvent("video_playback_rate_increase_hotkey",{previousPlaybackRate:T,playbackRate:j})}break;case 188:e.preventDefault();var E=i.player.playbackRate();if(e.shiftKey&&E>v){var P=null!=E?E:k,I=E-m;i.player.playbackRate(I),i.trackVideoPlayerClickEvent("video_playback_rate_decrease_hotkey",{previousPlaybackRate:P,playbackRate:I})}}}},i.initializeSubtitleTracks=function(){var e=wi()(i.player.textTracks(),(function(e){return e.language===fi.a.get("subtitleLanguage")}));e&&(e.mode="showing"),i.player.trigger("trackloaded")},i.setupTrimmedDurationSeconds=function(){syncPlayerDuration(i.player,i.props.viewOptions.videoContent.trimmedDurationSeconds)},i.onLoadedMetadata=function(){i.setUserPreferences(),i.initializeSubtitleTracks(),i.attachVideoEndedListener(),i.initializeVideoQuizListeners(),i.attachVideoProgressCuepoints(),i.setupTrimmedDurationSeconds()},i.createVideoJSPlayer=function(){var e=i.props,t=e.viewOptions,n=t.videoContent,o=t.nextItemMetadataOrItemGroup,r=t.course,a=e.layoutMode,s=void 0===a?"fluid":a,c=n.name,l=n.itemMetadata,u=resolutionUtils_getInitialResolution({enableNewDefaultVideoResolution:i.enableNewDefaultVideoResolution,enableHlsExperiment:i.enableHlsExperiment,isAutoAllowed:!1}),d="fluid"===s?{fluid:!0}:{fill:!0},p=Object(Ui.a)(),g=i.enableHlsExperiment&&!!i.hlsSource,h={nextItemMetadataOrItemGroup:o,title:c,subtitle:r.get("name"),courseId:r.get("id"),itemId:l.get("id"),moduleName:l.get("module.name"),moduleId:l.get("module.id"),lessonId:l.get("lesson.id"),lessonName:l.get("lesson.name"),defaultSubtitleLanguage:fi.a.get("subtitleLanguage"),controls:!1,html5:{nativeTextTracks:!g&&p,nativeAudioTracks:!1,nativeVideoTracks:!1,vhs:{overrideNative:!0,limitRenditionByPlayerDimensions:!0,useDevicePixelRatio:!0,customPixelRatio:2}},poster:n.getPosterForResolution("720p"),plugins:{hotkeys:{},resolutions:{sourcesByResolution:videoUtils_formatSourcesByResolution(n.sources),resolution:u},joinEvents:{},waitEvents:"IE"!==Ti.a.browser.name?{}:void 0}},m=H()(H()({},h),d),f=Object(Ne.a)(i.videoNode,m);return f.emitter||(f.emitter=Oi.a.emitter()),f.setupHeartbeatListener(),f.currentTrack=function(){return f.textTracks().tracks_.find((function(e){return"showing"===e.mode}))},f},i.handleTimeUpdate=function(){i.syncPlayer(),i.props.setLearnerMaxVideoProgressInSeconds(Math.max(i.props.learnerMaxVideoProgressInSeconds,i.player.currentTime()))},i.setupVideoPlayerEvents=function(e){var t,n=i.props.viewOptions,o=n.videoContent,r=o.subtitlesVtt,a=o.dubbedSubtitlesVtt,s=o.sources,c=n.setInteractiveTranscript,l=n.setDubbedInteractiveTranscript,u=n.course,d=null==s?void 0:null===(t=s[i.initialResolution])||void 0===t?void 0:t["video/mp4"];e.ready((function(){var t=u.get("primaryLanguageCodes");c({player:e,languageMap:r,defaultLanguage:t&&t[0]}),null==l||l({player:e,languageMap:H()(H()({},r),a),defaultLanguage:t&&t[0]}),e.on("waiting",(function(){e.addClass("vjs-waiting")})),i.enableHlsExperiment&&i.hlsSource&&"auto"===i.initialResolution?e.src({src:i.hlsSource,type:"application/x-mpegURL"}):e.src({src:d,type:"video/mp4"})})),e.on("error",(function(){Object(dl.a)(e,hl)})),e.on("contextmenu",(function(e){i.props.isContextMenuEnabled||e.preventDefault()})),e.on("loadedmetadata",i.onLoadedMetadata),e.on("durationchange",i.setInitialPlaybackTime),e.on("play",(function(){applySubtitlePosition({textTracks:Array.from(i.player.textTracks())})})),e.on("timeupdate",i.handleTimeUpdate),e.on("keydown",i.handlePlayerKeyDown),document.addEventListener("keydown",i.handleDocumentKeyDown),e.on("canplay",(function(){i.syncPlayer=getSyncPlayerOnTimeUpdate({player:i.player,trimmedDurationSeconds:i.props.viewOptions.videoContent.trimmedDurationSeconds,trimmedStartTimeSeconds:i.props.viewOptions.videoContent.trimmedStartTimeSeconds})}))},i.setInitialPlaybackTime=function(){var e,t=i.props.viewOptions,n=t.course,o=t.videoContent,r=t.startPlaybackSeconds;i.player.off("durationchange",i.setInitialPlaybackTime);var a=null!==(e=o.trimmedStartTimeSeconds)&&void 0!==e?e:0,s=o.trimmedDurationSeconds;if(void 0!==r)i.setPlaybackTime(r);else{var c=o.videoId,l=n.get("id");nc.get(l,c).then((function(e){return e.elements[0]})).fail((function(){return ne.a.isAuthenticatedUser()?{courseId:l,videoId:c,userId:ne.a.get().id,viewedUpTo:a}:{}})).done((function(e){var t=e.viewedUpTo,n=void 0===t?0:t,o=Object(Qc.c)(n/1e3);if(a>o&&(o=a),s){var r=s+a;o>r&&(o=r)}i.setState({videoProgress:H()(H()({},e),{},{viewedUpTo:1e3*o})}),i.setPlaybackTime(o,!a),i.trackInitialVideoPlayerEvent(o)}))}},i.syncPlayer=getSyncPlayerOnTimeUpdate({player:i.player,trimmedDurationSeconds:i.props.viewOptions.videoContent.trimmedDurationSeconds,trimmedStartTimeSeconds:i.props.viewOptions.videoContent.trimmedStartTimeSeconds}),i.setUserPreferences=function(){var e=fi.a.get("playbackRate"),t=fi.a.get("volume");i.player.playbackRate(e),i.player.volume(t)},i.updateProgress=function(){var e=i.props.viewOptions,t=e.course,n=e.videoContent,o=i.player.duration(),r=i.player.currentTime(),a=o*y,s=parseInt((1e3*i.player.currentTime()).toString(),10);r>a&&(s=0);var c=n.videoId,l=t.get("id");nc.update(l,c,s)},i.initializeVideoQuizListeners=function(){var e=i.props.viewOptions.videoQuizModel;if(e){var t=e.questions,n=void 0===t?[]:t,o=Si()(yi()(n,"video.order","desc"),"video.cuePointMs");Object.keys(o).forEach((function(e){var t=o[e],n=parseInt(e,10)/1e3;i.player.addCuepoint({at:n,visible:!0},(function(){var e=Je()(t),n=i.getScrollContainer();i.player.pause(),i.player.emitter.trigger("videoQuizView.visible"),n&&(n.scrollTop=0);var o=e.pop();i.setState({activeQuestion:o,videoQuizQueue:e})}))}))}},i.attachVideoProgressCuepoints=function(){var e=i.props.viewOptions.videoContent.trimmedDurationSeconds,t=null!=e?e:i.player.duration();[.25,.5,.75].forEach((function(e){var n=t*e;i.player.addCuepoint({at:n,visible:!0},(function(){i.updateProgress()}))}))},i.attachVideoEndedListener=function(){var e,t=i.props.viewOptions.videoContent.trimmedDurationSeconds,n=null!=t?t:i.player.duration(),r=n*y,a=n+t;i.player.addCuepoint({at:r,to:a},(e=!1,function(){if(!e){e=!0;var t=i.props,n=t.viewOptions,r=n.videoContent,a=n.courseProgress,s=t.itemMetadata,c=r.itemMetadata.getId(),l=a.getItemProgress(c);o()(ac(r,"ended")).then((function(e){if(l&&e&&e.itemProgress){var t=i.context.executeAction,n=H()(H()({},e.itemProgress),{},{progressState:le.e});l.set(n),t($i.b,{courseProgress:a});var o=s.get("course").get("slug");t(Xi.a,{courseSlug:o,refetch:!0}),eo.d(a.get("id"),a)}})).done();var u=i.context._eventData.namespace.app;AnalyticsMetadataFetcher_createVideoEventTracker(u,i.player)("end")}}));var s=i.props.onVideoPlayedToEnd;i.player.one("ended",(function(){var e=i.props.itemMetadata.get("id"),t=fi.a&&fi.a.get("autoplay"),n=we.b.isFullScreen();s({itemId:e,isAutoPlayEnabled:t,isFullScreenEnabled:n})}))},i.resumePlayback=function(){var e=i.player.duration();i.player.emitter.trigger("videoQuizView.hidden"),i.setState({activeQuestion:null}),e>i.player.currentTime()&&i.player.play()},i.goToNextIVQorResumePlayback=function(){var e=i.state.videoQuizQueue;if(e.length>0){var t=e.pop();t&&i.setState({activeQuestion:t,videoQuizQueue:e})}else i.resumePlayback()},i.setupEventingVideoMetadata=function(){var e=i.props,t=e.viewOptions,n=t.videoContent,o=t.course,r=e.learnerMaxVideoProgressInSeconds,a=n.name,s=n.itemMetadata,c=n.dubbedSources,l="none"!==fi.a.get("audioLanguage"),u=c||{},d=Object.keys(u).length>0;return{videoId:s.get("id"),autoplay:fi.a.get("autoplay"),courseId:o.get("id"),courseName:o.get("name"),courseSlug:o.get("slug"),fullscreen:we.b.isFullScreen(),lessonId:s.get("lesson.id"),lessonName:s.get("lesson.name"),moduleId:s.get("module.id"),moduleName:s.get("module.name"),playbackRate:fi.a.get("playbackRate"),resolution:i.initialResolution,subtitleLanguage:l?fi.a.get("dubbedSubtitleLanguage"):fi.a.get("subtitleLanguage"),audioLanguage:fi.a.get("audioLanguage"),audioLanguageEnabled:fi.a.get("audioLanguage")!==w,audioDubbingAvailable:d,videoDuration:s.get("timeCommitment")/1e3,videoLibraryVersion:String(Ne.a.VERSION),videoName:a,videoPosition:r?Math.round(r):k,volume:fi.a.get("volume")}},i.trackVideoPlayerEvent=function(e,t,n){var o=i.props.trackVideoPlayerEvent;i.eventingVideoMetadata=i.setupEventingVideoMetadata(),o(e,{button:{name:t},videoPlayer:H()(H()({},i.eventingVideoMetadata),n)})},i.trackVideoPlayerClickEvent=function(e,t){i.trackVideoPlayerEvent("click_button",e,t)},i.trackVideoPlayerViewEvent=function(e,t){i.trackVideoPlayerEvent("view_button",e,t)},i.trackInitialVideoPlayerEvent=function(e){var t=i.props.trackVideoPlayerEvent;i.eventingVideoMetadata=i.setupEventingVideoMetadata(),t("view_button",{button:{name:"video_player"},videoPlayer:H()(H()({},i.eventingVideoMetadata),{},{videoPosition:e})})},i.showVideoPlayerControlsFeedback=function(e){i.state.showInitialCenterPlayButton||(i.setState({videoFeedbackState:{icon:e},showFeedback:!0}),i.actionFeedbackTimeoutRef&&clearTimeout(i.actionFeedbackTimeoutRef),i.actionFeedbackTimeoutRef=setTimeout((function(){i.setState({showFeedback:!1})}),1e3))},i.displayInitialCenterPlayButton=function(e){i.setState({showInitialCenterPlayButton:e})};var r=t.viewOptions.videoContent.getHlsSource()+"&source=web";return i.hlsSource=isHlsEnabled()?r:void 0,i}ct()(VideoPlayer,e);var t=VideoPlayer.prototype;return t.componentDidMount=function(){var e,t=this.props,n=t.viewOptions,i=n.setVideoPlayer,o=n.videoContent,r=n.courseProgress,a=t.setVideoRegion,s=t.checkLearnerVideoProgress,c=o.itemMetadata.getId(),l=r.getItemProgress(c).get("progressState"),u=o.disableSkippingForward;document.addEventListener("visibilitychange",this.handleTabVisiblityForAutoPlayPause),window.addEventListener("blur",this.handleWindowBlur),window.addEventListener("focus",this.handleWindowFocus),s(l,u),this.player=this.createVideoJSPlayer(),this.setupVideoPlayerEvents(this.player),i(this.player),a(this.videoNode),null!==(e=this.playerRef)&&void 0!==e&&e.current&&(this.playerRef.current.tabIndex=-1)},t.componentDidUpdate=function(e){e.deferAutoplayListener&&!this.props.deferAutoplayListener&&this.props.viewOptions.autoplay&&this.player.play()},t.componentWillUnmount=function(){var e=this,t=this.props.viewOptions,n=t.setInteractiveTranscript,i=t.setDubbedInteractiveTranscript;document.removeEventListener("visibilitychange",this.handleTabVisiblityForAutoPlayPause),window.removeEventListener("blur",this.handleWindowBlur),window.removeEventListener("focus",this.handleWindowFocus),this.updateProgress(),document.removeEventListener("keydown",this.handleDocumentKeyDown),this.player&&(this.player.isFullscreen()?(this.player.one("fullscreenchange",(function(){e.player.dispose()})),this.player.exitFullscreen()):this.player.dispose()),this.actionFeedbackTimeoutRef&&clearTimeout(this.actionFeedbackTimeoutRef),n(null),null==i||i(null)},t.trapFocusInIvq=function(e){var t=document.querySelector(".vjs-overlay");if(t){var n=Array.from(t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]')).filter((function(e){return"none"!==e.style.display})),i=n[0],o=n[n.length-1];9===e.keyCode&&(e.shiftKey?document.activeElement===i&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),i.focus()))}},t.setPlaybackTime=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.max(0,e-(t?C:0));this.player.currentTime(n)},t.getScrollContainer=function(){return document.querySelector('[data-id="item-scroll-container"]')},t.render=function(){var e=this,t=this.props,n=t.viewOptions,i=t.viewOptions.nextItemMetadataOrItemGroup,o=t.ariaLabel,r=t.visibility,a=t.itemMetadata,s=t.isFullscreen,c=t.layoutMode,l=void 0===c?"fluid":c,u=t.autoNextCountdownSeconds,d=t.showVideoSkippingDisabledNotification,p=t.isAutoNextPaused,g=H()(H()({},n),{},{videoPlayer:this.player}),h=g.videoContent,m=g.videoQuizModel,f=g.autoplay,v=(m||{}).questions,b=void 0===v?[]:v,y=this.state,C=y.videoProgress,S=y.activeQuestion,k=y.videoFeedbackState,w=y.showFeedback,x=y.showInitialCenterPlayButton,O=h.getSources(),T=h.subtitlesVtt;for(var j in T)T[j]&&T[j].url&&(T[j].url=T[j].url.replace(/^https?:\/\/[^\/]+\//,"/"));var E=f?void 0:h.getPosterForResolution("720p"),P=null==O?void 0:O["video/webm"],I="fill"===l?{width:"100%",height:"100%"}:{},V=Xe()("vjs-react","c-video",{"vjs-fluid":"fluid"===l},"vjs-circle-play-centered","vjs-coursera-skin","vjs-coursera-phoenix-skin","video-js",{"vjs-fill":"fill"===l}),L=a.get("id"),M=this.enableHlsExperiment&&!!this.hlsSource;return Object(q.d)("div",{css:fl.videoPlayer,ref:function(t){var n,i;t&&(we.b.setOriginalContainerElRef(t),null!==(n=e.player)&&void 0!==n&&n.el_&&we.b.setFullScreenElRef(null===(i=e.player)||void 0===i?void 0:i.el_))},style:H()({position:"relative"},I),onDoubleClick:this.handlePlayerDblClick},Object(q.d)("div",{"data-vjs-player":!0,ref:this.playerRef},m&&Object(q.d)(Uc,{key:null==S?void 0:S.id,onContinue:this.goToNextIVQorResumePlayback,itemId:L,courseSlug:a.get("course").get("slug"),sessionId:null==m?void 0:m.sessionId,question:S}),Object(q.d)("video",{className:V,crossOrigin:"anonymous",preload:"auto",ref:function(t){e.videoNode=t},poster:E,autoPlay:f,tabIndex:0,"aria-label":o},M&&Object(q.d)("source",{key:this.hlsSource,type:"application/x-mpegURL",src:this.hlsSource}),Object.keys(O).filter((function(e){return"video/webm"!==e})).map((function(e){var t=O[e];return Object(q.d)("source",{key:t,type:e,src:t})})),P&&Object(q.d)("source",{key:O[P],type:"video/webm",src:P}),Object.keys(h.dubbedSubtitlesVtt).map((function(e){var t=h.dubbedSubtitlesVtt[e];return Object(q.d)("track",{key:e,id:e+"-dub",kind:"captions",label:Yo()(t.label),src:t.url,srcLang:e})})),Object.keys(T).map((function(e){var t=T[e];return Object(q.d)("track",{key:e,kind:"captions",label:Yo()(t.label),src:t.url,srcLang:e})}))),Object(q.d)("div",{role:"alert"},d&&Object(q.d)(learning_effort_VideoSkippingDisabledNotification,{onDismiss:this.dismissVideoSkippingDisabledNotification})),this.player&&Object(q.d)(Xs,{enableHls:M,hlsSource:this.hlsSource,defaultSubtitleLanguage:fi.a.get("subtitleLanguage"),nextItem:i,originalSources:n.videoContent.sources,dubbedSources:n.videoContent.dubbedSources,dubbedSubtitlesVtt:n.videoContent.dubbedSubtitlesVtt,player:this.player,videoQuizQuestions:b,onChangeFullScreen:function(t){var n,i,o,r;t?we.b.exitFullScreen({detail:{videoPlayer:null===(o=e.player)||void 0===o?void 0:o.el_}}):we.b.enterFullScreen({detail:{videoPlayer:null===(r=e.player)||void 0===r?void 0:r.el_}});e.trackVideoPlayerClickEvent("video_full_screen",{fullscreen:!t}),null===(n=(i=e.props).onChangeFullScreen)||void 0===n||n.call(i,!t)},itemMetadata:a,visibility:r,isFullscreen:s,autoNextCountdownSeconds:u,isAutoNextPaused:p,trackVideoPlayerClickEvent:this.trackVideoPlayerClickEvent,trackVideoPlayerViewEvent:this.trackVideoPlayerViewEvent,trimmedStartTimeSeconds:h.trimmedStartTimeSeconds,trimmedDurationSeconds:h.trimmedDurationSeconds,videoBoundaryElement:this.playerRef.current||void 0,showFeedback:w,videoFeedbackState:k,displayInitialCenterPlayButton:this.displayInitialCenterPlayButton,showInitialCenterPlayButton:x}),this.player&&Object(q.d)(mo,{player:this.player,videoProgress:C})))},VideoPlayer}(W.Component);vl.contextTypes={executeAction:ee.a.func.isRequired,_eventData:ee.a.object.isRequired};var bl,yl,Cl,Sl,kl,wl,xl,Ol,Tl,jl,El,Pl,Il,VideoPlayer_VideoPlayerWithFirstPlay=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),n=t.onVideoPlayedToEnd,i=zn()(t,pl),o=e.onVideoPlayedToEnd,r=zn()(e,gl);return Object(q.d)(vl,L()({},r,i,{onVideoPlayedToEnd:function(e){o(e),n()}}))},VideoPlayer_VideoPlayerWithDayOneOnboardingContext=function(e){var t=Object(Ji.b)().isOpen;return Object(q.d)(VideoPlayer_VideoPlayerWithFirstPlay,L()({},e,{viewOptions:H()(H()({},e.viewOptions),{},{autoplay:e.viewOptions.autoplay&&!t}),deferAutoplayListener:t}))},Vl=Object(P.b)(I.b.createTrackedContainer((function(){return{namespace:{app:"open_course.video",page:"item_layout"}}})))((function(e){var t=Object(to.e)();return Object(q.d)(Gi.a,{componentName:hl,errorComponent:Object(q.d)(Qi.a,{severity:"error",title:Yo()("There has been an error"),role:"alert"},Yo()("An error was encountered while playing this video, and our development team has been alerted. Please try again later."))},Object(q.d)(VideoPlayer_VideoPlayerWithDayOneOnboardingContext,L()({},e,{trackVideoPlayerEvent:t})))})),cds_VideoOrigamiRegion=function(e){var t,n=e.computedItem,i=e.courseProgress,o=e.verificationDisplay,r=e.itemMetadata,a=e.videoContent,s=e.videoQuizModel,c=e.startPlaybackSeconds,l=e.autoplay,u=e.setVideoPlayer,d=e.setInteractiveTranscript,p=e.setVideoRegion,g=e.ariaLabel,h=e.isFullscreen,m=e.layoutMode,f=e.visibility,v=e.isContextMenuEnabled,b=e.autoNextCountdownSeconds,y=e.onVideoPlayedToEnd,C=e.isAutoNextPaused,S=e.setDubbedInteractiveTranscript,k=r.get("course"),w=r.get("courseMaterials"),x={course:k,courseProgress:i,computedItem:n,videoContent:a,videoQuizModel:s,nextItemMetadataOrItemGroup:null==w?void 0:null===(t=w.getNeighbors(r))||void 0===t?void 0:t.nextItemMetadataOrItemGroup,verificationDisplay:o,startPlaybackSeconds:c,autoplay:l,setVideoPlayer:u,setInteractiveTranscript:d,setDubbedInteractiveTranscript:S};return W.createElement(Vl,{viewOptions:x,setVideoRegion:p,ariaLabel:g,itemMetadata:r,visibility:f,isFullscreen:h,layoutMode:m,isContextMenuEnabled:v,autoNextCountdownSeconds:b,onVideoPlayedToEnd:y,isAutoNextPaused:C})},_l=t("GqWO"),DiscussTabContent_DiscussTabContent=function(e){var t=e.weekNumber;Object(ft.a)();return Object(q.d)("div",{css:Object(q.c)(bl||(bl=U()(["\n        max-width: 700px;\n        padding-bottom: var(--cds-spacing-200);\n      "])))},Object(q.d)(se.a,{component:"p",variant:"bodyPrimary"},j()("You can visit the Forums page to see all the different topics and discussions that are available. From there, you can post a question, start a new discussion, or join an existing conversation.")),Object(q.d)("div",{css:Object(q.c)(yl||(yl=U()(["\n          margin-top: var(--cds-spacing-300);\n        "])))},Object(q.d)(Ds.a,{icon:Cl||(Cl=Object(q.d)(si.a,null)),"aria-label":j()("Discuss, opens discussion forums in another browser window"),variant:"quiet",iconPosition:"after",href:Object(_l.q)(t),target:"_blank",typographyVariant:"bodyPrimary"},j()("Discuss"))))},Ll=t("HulD"),Ml=t("ahDc"),Rl=t("9A5E"),tabContent_DownloadTabContent=function(e){var t=e.lectureDownloadLinks,n=Object(W.useState)(!0),i=B()(n,2),o=i[0],r=i[1],a=!!VideoTrimmingContext_useVideoTrimmingContext().trimmedDurationSeconds;return Object(q.d)("div",null,a&&o&&Object(q.d)(Ll.a,{role:"complementary",severity:"information",onDismiss:function(){return r(!1)},css:function(){return Object(q.c)(Sl||(Sl=U()(["\n            margin-bottom: var(--cds-spacing-300);\n          "])))}},j()("This video includes a portion of the original lecture video. Download the full version below.")),Object(q.d)("ul",{css:function(){return Object(q.c)(kl||(kl=U()(["\n          list-style: none;\n          margin: 0;\n          padding: 0 0 0 var(--cds-spacing-100);\n        "])))}},t.map((function(e){var t=e.download,n=e.displayName,i=e.href,o=e.fileType,r=e.trackingName,a=e.data,s=e.onClick;return Object(q.d)("li",{key:"".concat(n).concat(o),css:function(){return Object(q.c)(wl||(wl=U()(["\n              margin-bottom: var(--cds-spacing-300);\n            "])))}},Object(q.d)(Ds.a,{variant:"quiet",component:Rl.a,onClick:s,href:i,data:a,download:t,trackingName:r,target:"_blank",rel:"noopener noreferrer",icon:xl||(xl=Object(q.d)(Ml.a,null)),iconPosition:"before",typographyVariant:"bodyPrimary"},"".concat(n," ").concat(o)))}))))},Nl=t("1M3H"),Dl=t.n(Nl),Fl=t("qSs1"),Hl=t("vUL0"),Al={overrideContextualHelpStyles:function(){return Object(q.c)(Ol||(Ol=U()(["\n    .cds-ContextualHelp-container {\n      @media (min-width: 600px) {\n        display: flex;\n        justify-content: flex-end;\n      }\n    }\n  "])))}},LectureSummaryContent_LectureSummaryContent=function(e){var t=e.itemSummaryHtml,n=e.name,i=(Object(ft.a)(),Dl()({breaks:!0}).render(null!=t?t:""));return Object(q.d)("div",{css:Object(q.c)(Tl||(Tl=U()(["\n        max-width: 700px;\n        padding-bottom: var(--cds-spacing-200);\n      "])))},Object(q.d)(re.a,{container:!0,spacing:16},Object(q.d)(re.a,{container:!0,item:!0,justifyContent:"space-between"},Object(q.d)(re.a,{xs:12,sm:6},Object(q.d)(se.a,{component:"h3",variant:"subtitleMedium"},n)),Object(q.d)(re.a,{xs:12,sm:6},Object(q.d)(Fl.a,{css:Al.overrideContextualHelpStyles,helpToggleProps:{"aria-label":j()("Information about Coursera Coach")},tooltipProps:{closeButtonProps:{"aria-label":j()("Close information about Coursera Coach")}},label:Object(q.d)(W.Fragment,null,Object(q.d)(se.a,{component:"p",variant:"bodyPrimary",color:"supportText"},j()("Generated by")),Object(q.d)(Hl.a,{hexColorCode:"#0056d2",css:Object(q.c)(jl||(jl=U()(["\n                      height: 12px;\n                      width: 80px;\n                      margin-left: 4px;\n                      margin-right: 4px;\n                    "])))}),Object(q.d)(se.a,{component:"p",css:Object(q.c)(El||(El=U()(["\n                      color: #0056d2;\n                    "])))},j()("coach")))},Object(q.d)(se.a,{component:"p"},j()("Coursera Coach is an AI-powered assistant that helps you review, summarize, and retain what you're learning."))))),Object(q.d)(re.a,{item:!0},t&&Object(q.d)(se.a,{component:"p",dangerouslySetInnerHTML:{__html:i}}))))},NotesTabContent_NotesTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.loading,n=e.videoPlayer,i=e.highlights,o=e.notificationAnnouncement,r=e.onDelete,a=e.onUpdate;return Object(q.d)("div",{css:Object(q.c)(Pl||(Pl=U()(["\n        max-width: 700px;\n      "])))},Object(q.d)(ln,{loading:t,videoPlayer:n,highlights:i,notificationAnnouncement:o,onDelete:r,onUpdate:a}))},Bl=t("He/R"),zl=t("fguj"),Ul={namespace:{app:"ondemand",page:"interactive_transcript"}},Ql=t("kj/T"),Kl=t.n(Ql),components_TrackChooser=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelect,o=e.courseId,r=e.itemId;return Object(q.d)(Bl.a,{"data-testid":"track-chooser-select",value:null==n?void 0:n.languageCode,onChange:function(e){var a=e.target.value,s=n.languageCode,c={itemId:r,courseId:o,previousLanguage:s};if("-1"===a){var l=H()(H()({},c),{},{newLanguage:void 0});I.b.trackComponent(Ul,l,"track_chooser","deselected")}else{var u=H()(H()({},c),{},{newLanguage:a});I.b.trackComponent(Ul,u,"track_chooser","selected")}var d=t.getFromLanguageCode(a);Ae.set("language-code",a),i&&i(d)},label:Kl()("Transcript language"),labelPlacement:"integrated"},t.toArray().map((function(e){var t=e.label,n=e.languageCode;return Object(q.d)(zl.a,{key:"track-".concat(n),value:n,"aria-label":"".concat(Kl()("Language"),", ").concat(t)},t)})))},ql=t("8WNh"),Wl=t("WG1l"),Zl=t.n(Wl),findParentCueElement=function(e){return e.matches(".rc-Phrase")?e:e.closest(".rc-Phrase")},findCueElementWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"]'))},findCueMarkWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"] mark'))},getCueIndex=function(e){var t=e.getAttribute("data-cue-index");return null==t?null:parseInt(t,10)},getCueIndexFromText=function(e){if(!e||!e.parentElement)return null;var t=findParentCueElement(e.parentElement);return t?getCueIndex(t):null},Gl=function getTextNodesFromPhrase(e){return"#text"===e.nodeName?[e]:Array.from(e.childNodes).reduce((function(e,t){return[].concat(Je()(e),Je()(getTextNodesFromPhrase(t)))}),[])},getHighlightsForCue=function(e,t){return t.filter((function(t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex&&(t.transcriptTextStartIndex.cueIndex===e.index||t.transcriptTextEndIndex.cueIndex===e.index||e.index>t.transcriptTextStartIndex.cueIndex&&e.index<t.transcriptTextEndIndex.cueIndex)}))},getHighlightedTextIndicesForCue=function(e,t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex?e.index===t.transcriptTextStartIndex.cueIndex?e.index===t.transcriptTextEndIndex.cueIndex?{start:t.transcriptTextStartIndex.textIndex,end:t.transcriptTextEndIndex.textIndex+1}:{start:t.transcriptTextStartIndex.textIndex,end:e.text.length+1}:e.index>t.transcriptTextStartIndex.cueIndex?e.index<t.transcriptTextEndIndex.cueIndex?{start:0,end:e.text.length+1}:e.index===t.transcriptTextEndIndex.cueIndex?{start:0,end:t.transcriptTextEndIndex.textIndex+1}:{start:0,end:0}:{start:0,end:0}:{start:0,end:0}},getHighlightForCueElement=function(e,t){var n=getCueIndex(t);return null===n?null:e.find((function(e){var t=e.transcriptTextStartIndex,i=e.transcriptTextEndIndex;return!(!t||!i)&&(n>=t.cueIndex&&n<=i.cueIndex)}))},getIsCueIncludedInHighlight=function(e,t){var n=t.transcriptTextStartIndex,i=t.transcriptTextEndIndex;return!(!n||!i)&&(e.index>=n.cueIndex&&e.index<=i.cueIndex)},getTranscriptSelection=function(){var e=window.getSelection();if(e&&e.toString()){var t,n,i=e.anchorNode,o=e.anchorOffset,r=e.focusNode,a=e.focusOffset,s=getCueIndexFromText(r),c=getCueIndexFromText(i);if(null!==c&&null!==s)return c<s?(t={cueIndex:c,textIndex:o},n={cueIndex:s,textIndex:a-1}):c===s?(t={cueIndex:c,textIndex:Math.min(o,a)},n={cueIndex:c,textIndex:Math.max(o,a)-1}):(t={cueIndex:s,textIndex:a},n={cueIndex:c,textIndex:o-1}),{transcriptTextStartIndex:t,transcriptTextEndIndex:n}}},mouseMovedInNeighborhoodOfHighlight=function(e,t,n){var i=t.transcriptTextStartIndex,o=t.transcriptTextEndIndex;if(!i||!o)return!1;var r=findCueMarkWithIndex(i.cueIndex),a=findCueMarkWithIndex(o.cueIndex);if(!r||!a)return!1;var s=r.getBoundingClientRect(),c=a.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.left+50,d=l.right-250,p=Math.min(s.top,c.top)-50,g=Math.max(s.bottom,c.bottom);return e.clientX>=u&&e.clientX<=d&&e.clientY>=p&&e.clientY<=g},Jl=function getClosestTextNodeInTree(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=e;null!=i&&(3!==i.nodeType||i===n);){var o=i.childNodes,r="left"===t?o[o.length-1]:o[0],a=(i||{}).childNodes.length>0&&getClosestTextNodeInTree(r,t,n);i=a||("left"===t?i.previousSibling:i.nextSibling)}return i},getAdjacentTextNode=function(e,t){var n=Jl(e,t);if(n)return n;for(var i=e.parentElement;"left"===t?!i.previousSibling:!i.nextSibling;)i=i.parentElement;var o="left"===t?i.previousSibling:i.nextSibling;return 3===(null==o?void 0:o.nodeType)?o:Jl(o,t)},TranscriptHighlighterUtils_getTextNodeWordStartingOffsets=function(e){var t=e.data.split(" ");return 1===t.length?[0]:t.reduce((function(e,n,i){return[].concat(Je()(e),[e[i]+n.length+(i!==t.length-1?1:0)])}),[0])},expandSelection=function(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(i){var o=i.getRangeAt(0),r=o.startContainer,a=o.startOffset,s=o.endContainer,c=o.endOffset,l="left"===t?r:s,u="left"===t?a:c,d="left"===t?0===u:u>=l.length-1,p=d?getAdjacentTextNode(l,t):l;if(p)if("word"===n){var g=TranscriptHighlighterUtils_getTextNodeWordStartingOffsets(p);if("left"===t){var h=d?p.length-1:u,m=g.find((function(e,t){return h>e&&h<=g[t+1]}))||0;o.setStart(p,m)}else{var f=d?0:u,v=g.find((function(e,t){return f>=g[t-1]&&f<e}))||g[g.length-1];o.setEnd(p,v)}}else if("phrase"===n)if("left"===t){o.setStart(p,0)}else{var b=p.length-1;o.setEnd(p,b)}}},contractSelection=function(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(i){var o=i.getRangeAt(0),r=o.startContainer,a=o.startOffset,s=o.endContainer,c=o.endOffset,l="left"===t?s:r,u="left"===t?c:a,d="left"===t?0===u:u>=l.length-1,p=d?getAdjacentTextNode(l,t):l;if(p)if("word"===n){var g=TranscriptHighlighterUtils_getTextNodeWordStartingOffsets(p);if("left"===t){var h=d?p.length-1:u,m=g.find((function(e,t){return h>e&&h<=g[t+1]}))||0;o.setEnd(p,m)}else{var f=d?0:u,v=g.find((function(e,t){return f<e&&f>=g[t-1]}))||g[g.length-1];o.setStart(p,v)}}else if("phrase"===n)if("left"===t){o.setEnd(p,0)}else{var b=p.length-1;o.setStart(p,b)}}},Phrase_styles=function(e){var t="rgba(42, 181, 115, 0.15)";return Object(q.c)(Il||(Il=U()(["\n    opacity: 1;\n    display: inline;\n\n    &:hover {\n      cursor: text;\n      background-color: #eee;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &.active {\n      background-color: ",";\n      outline: 1px solid ",";\n      outline-offset: -1px;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.highlighted {\n      .highlight {\n        background-color: ",";\n      }\n\n      &:hover {\n        background-color: transparent;\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background: transparent;\n        }\n      }\n    }\n\n    &.targeted {\n      &:hover {\n        background-color: transparent;\n      }\n\n      .highlight {\n        background-color: ",";\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background-color: transparent;\n        }\n      }\n    }\n  "])),t,"rgba(42, 181, 115, 0.5)","rgba(43, 160, 202, 1.0)",t,"rgba(59, 175, 218, 0.4)",t)},Yl=function(e){function Phrase(t){var n;return(n=e.call(this,t)||this).setPhraseRef=function(e){n.phrase=e},n.handleClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t.preventDefault();var i=n.props,o=i.cue,r=i.onClick;n.phrase&&n.phrase.setAttribute("tabIndex","0");var a=window.getSelection();a&&a.toString()||n.phrase&&n.phrase.focus(),r&&r(o,e)}},n.handleFocus=function(){var e=n.props.onFocus;window.setTimeout((function(){var t=window.getSelection();if(n.phrase&&t){var i=n.getTextRangeForPhrase();i&&(t.removeAllRanges(),t.addRange(i)),e&&e()}}),0)},n.handleMouseDown=function(){var e=window.getSelection();e&&e.toString()&&e.empty(),n.phrase&&n.phrase.removeAttribute("tabIndex")},n.getTextRangeForPhrase=function(){if(!n.phrase)return null;var e=Gl(n.phrase),t=e[0],i=e[e.length-1],o=document.createRange();return o.setStart(t,0),o.setEnd(i,i.length-1),o},n.phrase=null,n}return ct()(Phrase,e),Phrase.prototype.render=function(){var e,t=this,n=this.props,i=n.cue,o=n.highlights,r=n.isActive,a=n.isTargeted,s=n.shouldDisableSkippingForward,c=0!==o.length,l=c&&!a,u=c&&a,d=Xe()("rc-Phrase",{active:r,targeted:u,highlighted:l}),p=o.map((function(e){return getHighlightedTextIndicesForCue(i,e)}));return e=s?Kl()("toggling through the video using the transcript is disabled on first play of the video"):r?Kl()("toggle video from current lecture segment"):Kl()("play video from #{cueText}",{cueText:i.text}),Object(q.d)("div",{tabIndex:0,role:"button","data-cue":i.id,className:d,ref:this.setPhraseRef,"data-cue-index":i.index,onClick:this.handleClick(!1),onMouseDown:this.handleMouseDown,onKeyPress:function(e){return Object($e.a)(e,t.handleClick(!0))},onFocus:this.handleFocus,"aria-label":e,css:Phrase_styles(this.props.theme)},c&&Object(q.d)(ae.a,{component:Zl.a,autoEscape:!0,searchWords:[],highlightClassName:"highlight",textToHighlight:"".concat(i.text," "),findChunks:function(){return p},"aria-hidden":!0}),!c&&Object(q.d)(se.a,{component:"span","aria-hidden":!0},"".concat(i.text," ")))},Phrase}(W.Component),Xl=Object(St.a)(Yl);Xl.displayName="Phrase";var $l,eu,tu=Xl,Paragraph_styles=function(){return Object(q.c)($l||($l=U()(["\n  .timestamp {\n    border: none;\n    height: 26px;\n    color: #666;\n    font-size: 12px;\n    line-height: 26px;\n    margin-right: 30px;\n    margin-left: -7px;\n    background: white;\n\n    &:focus {\n      color: #333;\n      outline: 2px solid #888;\n      outline-offset: -5px;\n    }\n\n    &:hover {\n      color: #333;\n      text-decoration: underline;\n    }\n  }\n"])))},nu=function(e){function Paragraph(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).handleTimestampClick=function(e){e.preventDefault();var n=t.props,i=n.cues;(0,n.onCueClick)(i[0])},t}return ct()(Paragraph,e),Paragraph.prototype.render=function(){var e=this.props,t=e.cues,n=e.onCueClick,i=e.onPhraseFocus,o=e.activeCues,r=e.targetedHighlight,a=e.highlights,s=e.hideTime,c=e.renderPlainText,l=(e.theme,e.shouldDisableSkippingForward),u=t[0];return Object(q.d)(re.a,{container:!0,css:Paragraph_styles},Object(q.d)(re.a,{item:!0,className:"rc-Paragraph",css:Object(q.c)(eu||(eu=U()(["\n            display: flex;\n            padding: 0 0 var(--cds-spacing-200) 0;\n          "])))},!s&&Object(q.d)("button",{type:"button",className:"timestamp",onClick:this.handleTimestampClick,"aria-labelledby":"button-label-".concat(u.id)},Object(q.d)("span",{id:"button-label-".concat(u.id),className:"sr-only"},Object(q.d)(gt.FormattedMessage,L()({message:Kl()("Play video starting at {hours}:{minutes}:{seconds} and follow transcript")},Object(ht.e)(u.startTimeForDisplay)))),Object(ht.c)(u.startTimeForDisplay)),Object(q.d)("div",{className:"phrases"},t.map((function(e){var t=o&&o.find((function(t){return e.id===t.id})),s=getHighlightsForCue(e,a),u=!(!r||!getIsCueIncludedInHighlight(e,r));return c?Object(q.d)("div",{className:"rc-Phrase"},Object(q.d)(se.a,{component:"p"},e.text)):Object(q.d)(tu,{cue:e,key:e.id,onClick:n,onFocus:i,isActive:!!t,isTargeted:u,highlights:s,shouldDisableSkippingForward:l})})))))},Paragraph}(W.Component),iu=Object(St.a)(nu),ou={Transcript:Object(q.c)({padding:"0",lineHeight:"26px",position:"relative"}),Paragraph:Object(q.c)({marginBottom:"15px"})},Transcript_Transcript=function(e){var t=e.paragraphs,n=e.highlights,i=e.onCueClick,o=e.onPhraseFocus,r=e.activeCues,a=e.targetedHighlight,s=e.hideTime,c=e.renderPlainText,l=e.shouldDisableSkippingForward;return Object(q.d)(At.a,{trackingName:"interactive_transcript",trackMouseEnters:!0,trackMouseLeaves:!0,className:"rc-Transcript",css:ou.Transcript},t.map((function(e){return Object(q.d)(iu,{cues:e,key:e[0].startTime,onCueClick:i,onPhraseFocus:o,activeCues:r,highlights:n,targetedHighlight:a,hideTime:s,renderPlainText:c,css:ou.Paragraph,shouldDisableSkippingForward:l})})))};Transcript_Transcript.displayName="Transcript";var ru,au,su,cu=Transcript_Transcript,lu=t("sEfC"),uu=t.n(lu),TranscriptHighlightButton_styles=function(){return Object(q.c)(ru||(ru=U()(["\n  left: 320px;\n  z-index: 1000;\n  margin-top: -40px;\n  position: absolute;\n\n  button {\n    transition-property: background-color, border;\n  }\n\n  .transcript-highlight-btn-arrow-down {\n    width: 0;\n    height: 0;\n    bottom: -10px;\n    position: absolute;\n    border-top: 20px solid #2a73cc;\n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    transition: border 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  }\n\n  &:hover {\n    .transcript-highlight-btn-arrow-down {\n      border-top: 20px solid #0156b8;\n    }\n  }\n"])))},du=Object(Ze.b)({type:"BUTTON"})(Vc.b),components_TranscriptHighlightButton=function(e){var t=e.cueIndex,n=e.label,i=e.trackingName,o=e.onClick,r=findCueElementWithIndex(t),a=null==r?void 0:r.offsetTop;return Object(q.d)("div",{className:"rc-TranscriptHighlightButton",style:{top:a},css:TranscriptHighlightButton_styles},Object(q.d)(du,{"data-testid":"transcriptHighlightButton",size:"sm",label:n,type:"primary",onClick:o,trackingName:i,style:{fontWeight:"bold"},tabIndex:-1},au||(au=Object(q.d)("div",{className:"transcript-highlight-btn-arrow-down"}))))},HotkeyUtils_getModifierKeyForPlatform=function(){var e=!1;return"undefined"!=typeof window&&(e=window.navigator.platform.includes("Mac")),e?"":Kl()("CTRL")},components_RemoveTranscriptHighlight=function(e){var t=e.targetedHighlight,n=e.onRemove,i=e.showKeyboardControls,o=HotkeyUtils_getModifierKeyForPlatform(),r=Kl()("Press [#{modiferKey} + D] to Delete Note",{modiferKey:o}),a=i?r:Kl()("Delete Note"),s=Object(W.useCallback)((function(){return function(e){e.target&&e.target.innerText===a&&n()}}),[a,n]);if(Object(W.useEffect)((function(){return document.addEventListener("mousedown",s()),function(){document.removeEventListener("mousedown",s())}}),[s]),!t.transcriptTextStartIndex)return null;var c=t.transcriptTextStartIndex.cueIndex;return(W.createElement(components_TranscriptHighlightButton,{onClick:n,cueIndex:c,label:a,trackingName:"delete_transcript_highlight"}))},components_SaveHighlightConfirmationPopup=function(e){var t=e.cueIndex,n=e.onTimeoutReached;return Object(W.useEffect)((function(){var e=setTimeout(n,800);return function(){return clearTimeout(e)}}),[t,n]),t||0===t?W.createElement(components_TranscriptHighlightButton,{cueIndex:t,label:Kl()("Note saved!"),trackingName:"transcript_highlight_saved_popup",onClick:function(){n()}}):null},pu=function(e){function SaveTranscriptHighlight(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props.onSave,t=window.getSelection();t&&t.empty(),e()},n.handleDocumentMouseDown=function(e){var t=n.props.onCancel;n.saveHighlight&&!n.saveHighlight.contains(e.target)&&t()},n.saveHighlight=null,n}ct()(SaveTranscriptHighlight,e);var t=SaveTranscriptHighlight.prototype;return t.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown)},t.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown)},t.render=function(){var e=this.props,t=e.showKeyboardControls,n=e.transcriptSelection.transcriptTextStartIndex.cueIndex,i=HotkeyUtils_getModifierKeyForPlatform(),o=Kl()("Press [#{modiferKey} + S] to Save Note",{modiferKey:i}),r=t?o:Kl()("Save Note");return W.createElement(components_TranscriptHighlightButton,{cueIndex:n,label:r,onClick:this.handleClick,trackingName:"create_transcript_highlight"})},SaveTranscriptHighlight}(W.Component),gu=function(e){function TranscriptSelectionAnnouncer(){return e.apply(this,arguments)||this}return ct()(TranscriptSelectionAnnouncer,e),TranscriptSelectionAnnouncer.prototype.render=function(){var e=this.props.announcementText;return e?W.createElement("div",{className:"rc-TranscriptSelectionAnnouncer sr-only","aria-live":"assertive","aria-atomic":!0},W.createElement("span",{key:e},e)):null},TranscriptSelectionAnnouncer}(W.PureComponent),hu=Object(q.c)({position:"relative"}),mu=function(e){function TranscriptHighlighter(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.props,t=e.onSave,i=e.showSaveConfirmations,o=n.state.transcriptSelection;if(o){t(o);var r=o.transcriptTextStartIndex.cueIndex;n.setState({transcriptSelection:void 0});var a=window.getSelection();a&&a.empty(),n.updateAnnouncementText(Kl()("Note Saved!")),i&&n.showSaveConfirmation(r)}},n.handleRemove=function(){var e=n.props.onRemove,t=n.state.targetedHighlight;t&&(e(t.id),n.setState({targetedHighlight:void 0}),n.updateAnnouncementText(Kl()("Note Deleted!")))},n.handleCancel=function(){var e=window.getSelection();e&&e.empty(),n.setState({transcriptSelection:void 0})},n.handleMouseUp=function(){n.updateSelection(),n.setState({showKeyboardControls:!1})},n.handleMouseMove=function(e){n.mouseMoveTimeout&&clearTimeout(n.mouseMoveTimeout),n.mouseMoveTimeout=window.setTimeout((function(){var t=n.state.targetedHighlight,i=n.props,o=i.highlights,r=i.onSelect,a=window.getSelection();if(a&&a.toString())return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();var s=e.target&&e.target.matches("mark")?findParentCueElement(e.target):null,c=s?getHighlightForCueElement(o,s):null;if(c||!t||!n.transcriptHighlighter||!mouseMovedInNeighborhoodOfHighlight(e,t,n.transcriptHighlighter)){if(!c)return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();n.setState({targetedHighlight:c}),r(c),n.mouseMoveTimeout=null}}),0)},n.handleMouseLeave=function(){n.mouseMoveTimeout=null,n.resetTargetedHighlight()},n.handleKeyboardControls=function(e){if("Tab"===e.key&&n.setState({showKeyboardControls:!0}),!e.shiftKey||"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||window.setTimeout(n.updateSelection,0),e.metaKey||e.ctrlKey||e.ctrlKey&&e.altKey){var modifySelection=function(t){return e.preventDefault(),e.stopPropagation(),e.shiftKey?contractSelection(t):expandSelection(t)};switch(e.key){case"l":case"ArrowRight":modifySelection({direction:"right",magnitude:"word"});break;case"h":case"ArrowLeft":modifySelection({direction:"left",magnitude:"word"});break;case"j":case"ArrowDown":modifySelection({direction:"right",magnitude:"phrase"});break;case"k":case"ArrowUp":modifySelection({direction:"left",magnitude:"phrase"});break;case"s":e.preventDefault(),n.handleSave();break;case"d":e.preventDefault(),n.handleRemove();break;default:return}window.setTimeout(n.updateSelection,0)}},n.handleSelectingNote=function(e){var t=n.props.highlights,i=HotkeyUtils_getModifierKeyForPlatform(),o=findParentCueElement(e),r=o?getHighlightForCueElement(t,o):null;r&&(n.setState({targetedHighlight:r}),n.updateAnnouncementText(Kl()("Previously saved note: #{highlightedText}. Press [#{modifierKey} + D] to delete the note",{highlightedText:r.transcriptText,modifierKey:i})))},n.updateSelection=function(){var e=getTranscriptSelection(),t=HotkeyUtils_getModifierKeyForPlatform();n.setState({transcriptSelection:e});var i=window.getSelection();if(i){var o=Array.from(document.getElementsByTagName("mark")).filter((function(e){return i.containsNode(e,!0)}))[0];o?n.handleSelectingNote(o):(n.resetTargetedHighlight(),n.updateAnnouncementText(Kl()("#{selectedText}: Added to Selection. Press [#{modifierKey} + S] to save as a note",{selectedText:i&&i.toString(),modifierKey:t})))}},n.resetTargetedHighlight=function(){var e=n.props.onSelect;n.setState({targetedHighlight:null}),e(null)},n.updateAnnouncementText=uu()((function(e){return n.setState({announcementText:e})}),250,{leading:!0}),n.clearSaveConfirmation=function(){n.setState({saveConfirmationCueIndex:void 0})},n.mouseMoveTimeout=null,n.transcriptHighlighter=null,n.saveHighlightButton=null,n.setTranscriptHighlighterRef=function(e){n.transcriptHighlighter=e},n.setSaveHighlightButtonRef=function(e){n.saveHighlightButton=e},n.state={announcementText:null,targetedHighlight:null,transcriptSelection:void 0,showKeyboardControls:!1},n}ct()(TranscriptHighlighter,e);var t=TranscriptHighlighter.prototype;return t.componentDidMount=function(){this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("keydown",this.handleKeyboardControls)},t.componentWillUnmount=function(){this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("keydown",this.handleKeyboardControls)},t.showSaveConfirmation=function(e){this.setState({saveConfirmationCueIndex:e})},t.render=function(){var e=this.props,t=e.children,n=e.showSaveConfirmations,i=this.state,o=i.transcriptSelection,r=i.announcementText,a=i.targetedHighlight,s=i.showKeyboardControls,c=i.saveConfirmationCueIndex,l=HotkeyUtils_getModifierKeyForPlatform();return Object(q.d)("div",{className:"rc-TranscriptHighlighter",ref:this.setTranscriptHighlighterRef,css:hu},o&&!a&&Object(q.d)(pu,{onSave:this.handleSave,onCancel:this.handleCancel,transcriptSelection:o,showKeyboardControls:s}),a&&Object(q.d)(components_RemoveTranscriptHighlight,{targetedHighlight:a,onRemove:this.handleRemove,showKeyboardControls:s}),n&&Object(q.d)(components_SaveHighlightConfirmationPopup,{cueIndex:c,onTimeoutReached:this.clearSaveConfirmation}),Object(q.d)(ut.a,{component:"p",className:"rc-A11yScreenReaderOnly"},Kl()("You may navigate through the transcript using tab. To save a note for a section of text press #{modifierKey} + S. To expand your selection you may use #{modifierKey} + arrow key. You may contract your selection using shift + #{modifierKey} + arrow key. For screen readers that are incompatible with using arrow keys for shortcuts, you can replace them with the H J K L keys. Some screen readers may require using #{modifierKey} in conjunction with the alt key",{modifierKey:l})),W.cloneElement(t,{onPhraseFocus:this.updateSelection}),Object(q.d)(gu,{announcementText:r}))},TranscriptHighlighter}(W.Component),fu=function(e){function InteractiveTranscript(t){var n;(n=e.call(this,t)||this).handleTrackLoaded=function(){var e=n.state.track;e&&e.cues&&n.setState((function(){return{isLoading:!1,cues:e.cues}}))},n.handleCueClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.props,o=i.onTimeChange,r=i.handlePausePlayer,a=i.shouldDisableSkippingForward,s=n.state.playingCue,c=s===e,l=!t||t&&!c;a||(l?(o(e.startTime+.01),n.setState({playingCue:e})):(r(),n.setState({playingCue:null})))},n.handleHighlightSelection=function(e){e!==n.state.targetedHighlight&&n.setState({targetedHighlight:e})},n.handleInteractiveEffectDisable=function(e){if(27===e.keyCode){var t=n.state.renderPlainText;n.setState({renderPlainText:!t})}};var i=t.track;return n.state={track:i,cues:i&&i.cues||[],isLoading:!0,playingCue:null,targetedHighlight:null,componentDidMount:!1,renderPlainText:!1},n}ct()(InteractiveTranscript,e);var t=InteractiveTranscript.prototype;return t.componentDidMount=function(){var e=this.props,t=e.trimmedStartTimeSeconds,n=e.trimmedEndTimeSeconds,i=this.state.track;i&&TrackUtils_loadTrack(i,t,n).then(this.handleTrackLoaded).done(),this.setState((function(){return{componentDidMount:!0}}))},t.componentWillReceiveProps=function(e){var t=this.props,n=t.track,i=t.trimmedStartTimeSeconds,o=t.trimmedEndTimeSeconds,r=e.track,a=e.trimmedStartTimeSeconds,s=e.trimmedEndTimeSeconds,c=r.languageCode!==n.languageCode,l=a!==i||s!==o,u=r.url!==n.url;r&&!r.error&&n&&(c||l||u)&&(this.setState({track:r,isLoading:!0}),TrackUtils_loadTrack(r,a,s,l).then(this.handleTrackLoaded).done())},t.render=function(){var e=this.props,t=e.time,n=e.timeDiff,i=e.highlights,o=e.onSaveHighlight,r=e.onRemoveHighlight,a=e.hideTime,s=e.disableHighlighting,c=e.showSaveConfirmations,l=e.shouldDisableSkippingForward,u=this.state,d=u.cues,p=u.track,g=u.isLoading,h=u.targetedHighlight,m=u.componentDidMount,f=u.renderPlainText,v=g&&(!p||!p.isLoaded),b=!s&&Object(dn.a)();if(!p)return null;var y=m?Object(ht.b)(d,t):[],C=!v&&d&&d.length>0;return W.createElement("div",{onKeyDown:this.handleInteractiveEffectDisable},v&&W.createElement("div",{className:"horizontal-box align-items-absolute-center",style:{height:"100px"},"data-testid":"load"},su||(su=W.createElement(ql.a,null))),W.createElement(ut.a,{component:"span",className:"rc-A11yScreenReaderOnly"},W.createElement("h3",null,f?Kl()("Basic Transcript - Enable interactive transcript mode by pressing the escape key"):Kl()("Interactive Transcript - Enable basic transcript mode by pressing the escape key"))),C&&b&&W.createElement(mu,{highlights:i,onSave:o,onRemove:r,onSelect:this.handleHighlightSelection,showSaveConfirmations:c},W.createElement(cu,{highlights:i,activeCues:y,onCueClick:this.handleCueClick,targetedHighlight:h,paragraphs:n?Object(ht.a)(d,n):Object(ht.a)(d),hideTime:a,renderPlainText:f,shouldDisableSkippingForward:l})),C&&!b&&W.createElement(cu,{highlights:i,activeCues:y,targetedHighlight:null,onCueClick:this.handleCueClick,paragraphs:n?Object(ht.a)(d,n):Object(ht.a)(d),hideTime:a,renderPlainText:f,shouldDisableSkippingForward:l}))},InteractiveTranscript}(W.Component),InteractiveTranscript_InteractiveTranscriptWithContext=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext().shouldDisableSkippingForward,n=VideoTrimmingContext_useVideoTrimmingContext(),i=n.trimmedStartTimeSeconds,o=n.trimmedEndTimeSeconds;return W.createElement(fu,L()({},e,{shouldDisableSkippingForward:t,trimmedStartTimeSeconds:i,trimmedEndTimeSeconds:o}))};InteractiveTranscript_InteractiveTranscriptWithContext.defaultProps={highlights:[],onSaveHighlight:function(){},onRemoveHighlight:function(){},handlePausePlayer:function(){}};var vu,bu,yu,Cu,Su=InteractiveTranscript_InteractiveTranscriptWithContext,cds_VideoJsTranscriptContainer=function(e){var t=e.player,n=e.selectedTrack,i=e.highlights,o=e.onRemoveHighlight,r=e.onSaveHighlight,a=Object(W.useState)(0),s=B()(a,2),c=s[0],l=s[1];Object(W.useEffect)((function(){var handleTimeUpdate=function(){return l(t.currentTime())};return t.on("timeupdate",handleTimeUpdate),function(){t.off("timeupdate",handleTimeUpdate)}}),[t]);return W.createElement(Su,{time:c,timeDiff:void 0,track:n,highlights:i||[],onTimeChange:function(e){t.currentTime(e),t.paused()&&t.play(),l(e)},onRemoveHighlight:o,onSaveHighlight:function(e){var t=Object(pn.b)(e,n);r&&r(t)},handlePausePlayer:function(){return t.pause()},showSaveConfirmations:!0})},cds_VideoTranscriptToolbar=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,o=e.itemId,r=e.courseId;return Object(q.d)(W.Fragment,null,Object(q.d)(components_TrackChooser,{tracks:t,selectedTrack:n,onTrackSelect:i,courseId:r,itemId:o}))},TranscriptTabContent_TranscriptTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,o=e.courseId,r=e.computedItem,a=e.videoPlayer,s=e.highlights,c=e.onSaveHighlight,l=e.onRemoveHighlight;return(W.createElement(re.a,{container:!0,justifyContent:"center",css:function(){return Object(q.c)(vu||(vu=U()(["\n        gap: 32px;\n        padding-top: var(--cds-spacing-200);\n        flex-direction: row-reverse;\n\n        & .rc-VolunteerLink {\n          padding: var(--cds-spacing-100) 0 0;\n        }\n\n        "," {\n          flex-wrap: wrap;\n        }\n\n        "," {\n          gap: 0;\n\n          & .rc-Paragraph > button {\n            margin: 0 var(--cds-spacing-200) 0 0;\n          }\n\n          & .rc-TranscriptHighlightButton {\n            left: 0;\n          }\n        }\n      "])),ie.a.up("md"),ie.a.down("sm"))}},t&&W.createElement(re.a,{item:!0,md:2,xs:12,css:function(){return Object(q.c)(bu||(bu=U()(["\n            margin-block: -16px;\n\n            "," {\n              margin-block: unset;\n              max-width: 700px;\n            }\n          "])),ie.a.down("sm"))}},W.createElement(cds_VideoTranscriptToolbar,{tracks:t,selectedTrack:n,onTrackSelected:i,courseId:o,itemId:null==r?void 0:r.id})),W.createElement(re.a,{item:!0,md:9,xs:12,css:Object(q.c)(yu||(yu=U()(["\n          max-width: 700px;\n        "])))},n&&W.createElement(cds_VideoJsTranscriptContainer,{player:a,highlights:s,selectedTrack:n,onSaveHighlight:c,onRemoveHighlight:l}))))},ku=Object(W.memo)(TranscriptTabContent_TranscriptTabContent),wu=t("ML/G"),util_trackCoreVideoEvent=function(e,t,n,i){wu.a.pushV2(["core.video_access",{client:"web",generation:"phoenix",course_id:e,course_item_id:t,playable:n,download:i}])},fileDownloadUtils_getVideoFilename=function(e,t){var n=t.name;return e||n||j()("lecture")},fileDownloadUtils_onVideoSourceClick=function(e,t){var n=t.id;util_trackCoreVideoEvent(e,n,!0,!0)},fileDownloadUtils_getVideoDownloadForResolution=function(e){var t=e.fileName,n=e.resolution,i=e.href,o=e.fileExtension,r=void 0===o?"mp4":o,a=e.onClick;return{displayName:j()("Lecture Video (#{resolution})",{resolution:n}),trackingName:"download_video",href:i,download:"".concat(t,".").concat(r),fileType:r,onClick:a}},fileDownloadUtils_getLectureDownloadLinks=function(e){var t=e.videoContent,n=e.languageCode,i=e.computedItem,o=e.assetSources,r=e.courseId,a=t&&function(e){return!Object(s.a)(d.get("itemVideoDownloadBlacklist"),e)}(r),c=function(e){return e.map((function(e){var t=e.itemName,n=e.url,i=e.fileType,o=e.typeName;return{displayName:t,href:n,fileType:i,assetTypeName:o,trackingName:"focused_lex_download_asset",data:{asset_type:o},download:"asset"===o?t:void 0}}))}(o);if(!a)return c;var l=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mp4",o=getResolutionRange(e),r=B()(o,2),a=r[0],s=r[1],c=[a,s],l=fileDownloadUtils_getVideoFilename(t.name,t),handleVideoSourceClick=function(){return fileDownloadUtils_onVideoSourceClick(n,t)};return c.map((function(t){var n=e.getSourcesForResolution(t),o=n&&n["video/mp4"];if(o)return fileDownloadUtils_getVideoDownloadForResolution({fileName:l,resolution:t,href:o,fileExtension:i,onClick:handleVideoSourceClick})}))}(t,i,r),u=function(e,t){var n=e.getSubtitlesUrl("subtitlesVtt",t),i=e.getSubtitlesLabel("subtitlesVtt",t);if(n)return{displayName:j()("Subtitles (#{subtitleLanguage})",{subtitleLanguage:i}),trackingName:"focused_lex_download_subtitle",data:{languageCode:t,format:"vtt"},download:"subtitles-".concat(t,".vtt"),fileType:"WebVTT",href:n}}(t,n),p=function(e,t){var n=e.getSubtitlesUrl("subtitlesTxt",t);if(n){var i=e.getSubtitlesLabel("subtitlesTxt",t);return{href:n,download:"transcript.txt",trackingName:"focused_lex_download_transcript",data:{languageCode:t,format:"txt"},displayName:j()("Transcript (#{subtitleLanguage})",{subtitleLanguage:i}),fileType:"txt"}}}(t,n);return[].concat(Je()(l),[u,p],Je()(c)).filter((function(e){return!!e}))},xu=t("ojHA"),Ou=Object(Ze.b)({type:"BUTTON"})(mt.a);Ou.displayName="TrackedButton";var toolbar_CaptureHighlightButton=function(e){var t,n=e.selectedTrack,i=e.videoPlayer,o=Object(W.useState)(!1),r=B()(o,2),a=r[0],s=r[1],c=Object(W.useState)(!1),l=B()(c,2),u=l[0],d=l[1],p=Object(W.useState)(null),g=B()(p,2),h=g[0],m=g[1],f=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),v=f.onCapture,b=f.selectedTab,y=f.setSelectedTab;Object(W.useEffect)((function(){return i.emitter.on("videoQuizView.hidden",(function(){return s(!1)})),i.emitter.on("videoQuizView.visible",(function(){return s(!0)})),function(){"function"==typeof i.emitter.off&&(i.emitter.off("videoQuizView.hidden",(function(){return s(!1)})),i.emitter.off("videoQuizView.visible",(function(){return s(!0)})))}}),[]);return W.createElement("div",{className:"rc-CaptureHighlightButton"},W.createElement(Ou,{disabled:a,id:"save-note-button",variant:"ghost",iconPosition:"before",icon:Cu||(Cu=W.createElement(xu.a,{size:"small"})),onClick:function(e){if("Enter"!==e.key&&" "!==e.key&&(t&&clearTimeout(t),n)){var o=Object(pn.a)(n,i);v&&(v(o),"NOTES"!==b&&y&&y("NOTES")),m(o),d(!0),t=window.setTimeout((function(){d(!1)}),5e3)}},trackingName:"create_video_highlight"},j()("Save note")),W.createElement(cds_HighlightCapturePreview,{show:u,highlight:h,onClick:function(){t&&clearTimeout(t),d(!1)}}))},hooks_useDubbingTranscript=function(e){var t=e.executeAction,n=e.transcriptState,i=e.handleTrackSelected,o=e.isDubbedAudioSelected,r=Object(W.useState)({tracks:void 0,selectedTrack:void 0}),a=B()(r,2),s=a[0],c=a[1],l=o?s.tracks:n.tracks,u=o?s.selectedTrack:n.selectedTrack,d=Object(Qn.b)(),p=d.shouldChangeTranscriptLanguage,g=d.setShouldChangeTranscriptLanguage,h=d.isDubbingAvailable,m=d.setShouldNudgeBeVisible,handleDubbedTrackSelected=function(e){e&&c((function(t){return H()(H()({},t),{},{selectedTrack:e})}))},f=o?handleDubbedTrackSelected:i;return Object(W.useEffect)((function(){if(p.shouldChange&&h){var e=null==l?void 0:l.getFromLanguageCode(p.languageCode);f(e),g({shouldChange:!1,languageCode:void 0})}}),[f,l,p.shouldChange,p.languageCode,g,h,m]),Object(W.useEffect)((function(){o||m({isVisible:!0,languageCode:null==u?void 0:u.languageCode})}),[null==u?void 0:u.languageCode,o]),{dubbedTranscriptState:s,setDubbedTranscriptState:c,setDubbedInteractiveTranscript:function(e){if(e){if(K()(e.languageMap))return t(setUIPanelEnabled,!1),void c((function(e){return H()(H()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var i=n.selectedTrack,o=e.languageMap,r=e.defaultLanguage,a=TrackUtils_buildTracks(o),s=TrackUtils_getDefaultTrack(a,r),l=i||s;t(setUIPanelEnabled,!0),c((function(e){return H()(H()({},e),{},{tracks:a,selectedTrack:l})}))}else c((function(e){return H()(H()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},handleDubbedTrackSelected:handleDubbedTrackSelected}};function VideoIsPlayingStateProvider(e){var t=e.videoPlayer,n=e.children,i=Object(W.useState)(!1),o=B()(i,2),r=o[0],a=o[1];return Object(W.useEffect)((function(){return t&&(t.on("play",(function(){return a(!0)})),t.on("pause",(function(){return a(!1)})),t.on("ended",(function(){return a(!1)}))),function(){t&&(t.off("play",(function(){return a(!0)})),t.off("pause",(function(){return a(!1)})),t.off("ended",(function(){return a(!1)})))}}),[t]),n({isPlaying:r})}var videoSettingsUtils_getStorageKey=function(){var e=ne.a.get().external_id;return"itemPage_firstVideoAutoplayHasBeenSet_".concat(e)},Tu=t("KoCz"),ju=t("WkKJ");function ContinuousSignalTracker(e){var t=e.shouldSend,n=e.sendSignalData,i=Object(ju.b)();return Object(W.useEffect)((function(){var e,o;return t&&null!==(e=window)&&void 0!==e&&e.setInterval&&(o=window.setInterval((function(){i(n)}),ju.a)),function(){o&&clearInterval(o)}}),[i,t,n]),null}var Eu,Pu,Iu,Vu,_u,Lu,Mu,Ru,Nu,Du,Fu,Hu,Au,Bu,zu=t("7ipH"),Uu=t("2T3l"),Qu=t("CLvh"),Ku=t.n(Qu),getSocialCaptions=function(e){var t=e.courseName,n=e.partnerName,i=e.videoTitle;return{twitter:function(){return Ku()("Check out this video from #{partnerName}: #{courseName} on @Coursera.",{courseName:t,partnerName:n,videoTitle:i})},whatsapp:function(e){return Ku()("I found a great video from a course called #{courseName}. I think youll really like it. Its from #{partnerName} on Coursera, an online learning platform that partners with top universities and companies around the world Check it out: #{shareLink}",{courseName:t,partnerName:n,shareLink:e})},emailSubject:function(){return Ku()("I found an interesting video for you on Coursera!")},emailBody:function(e){return Ku()("I thought you might like this video from #{courseName} offered by #{partnerName}: on Coursera. #{shareLink}\n\nCoursera also offers online courses and Professional Certificates from 190+ world-class universities and companies, including Yale, the University of Pennsylvania, Google, IBM, and more.\n\nLet me know what you think!",{courseName:t,partnerName:n,shareLink:e})}}},qu={titleAndSaveNoteContainer:Object(q.c)(Eu||(Eu=U()(["\n    margin-top: var(--cds-spacing-150);\n    background-color: var(--cds-color-white-0);\n    z-index: 1; /* so that the video player is on top of the title and save note container */\n    & button > span {\n      white-space: nowrap;\n    }\n  "]))),iTakeSpace:function(e,t){return Object(q.c)(Pu||(Pu=U()(["\n    width: 100%;\n    height: 0;\n    "," {\n      /* Empty div above video that keeps the overall scroll height the same.\n      Since videoHeight already accounts for VIDEO_TOP, don't need to account for that again. */\n      height: ","px;\n    }\n  "])),ie.a.up("md"),t-e)},videoPlayerRow:function(e,t){return Object(q.c)(Iu||(Iu=U()(["\n    margin-top: ","px;\n    background-color: var(--cds-color-neutral-background-primary);\n\n    /* Rounded corners: */\n\n    z-index: 2; /* This is needed so that buttons in lecture tab panels don't overlap the video when they overflow their container. */\n    height: ","px;\n\n    /* Grid sets flex-basis to 100%. This causes the video to have zero height when it's not sticky. */\n    flex-basis: unset;\n\n    "," {\n      position: ",";\n      height: ","px;\n\n      /* stick below ItemPrimaryNavigation, leaving room for the focus outline as well */\n      top: ","px;\n      flex-basis: 100%;\n    }\n  "])),2,t,ie.a.up("md"),e?"sticky":"static",t,78)},videoPlayerContainer:function(e){return Object(q.c)(Vu||(Vu=U()(["\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-grey-25);\n    border-radius: var(--cds-border-radius-200);\n    "," {\n      z-index: 3;\n      height: ","px;\n    }\n\n    & .rc-VideoMiniPlayer .vjs-coursera-skin {\n      /* !important is needed to override the !important property rule used by videoJS */\n      outline: none !important;\n    }\n  "])),ie.a.up("md"),e)},feedbackButtons:Object(q.c)(_u||(_u=U()(["\n    margin-top: var(--cds-spacing-200);\n    margin-bottom: var(--cds-spacing-200);\n  "]))),overrideItemFeedbackStyles:Object(q.c)(Lu||(Lu=U()(["\n    & .c-flag-categories-modal > div {\n      bottom: 0;\n    }\n  "]))),itemFeedbackFlag:Object(q.c)(Mu||(Mu=U()(["\n    margin-top: var(--cds-spacing-150);\n  "]))),embeddedSourceAttribution:Object(q.c)(Ru||(Ru=U()(["\n    margin-top: var(--cds-spacing-100);\n    margin-bottom: var(--cds-spacing-200);\n  "])))},Wu=Object(q.d)("div",null,""),Zu=[{label:qn()("Give me practice questions"),isCoachTrigger:!0,action:Y.d.PracticeQuestions,mode:Y.f.ItemLearning},{label:qn()("Explain this topic in simple terms"),isCoachTrigger:!0,action:Y.d.SimpleExplanation,mode:Y.f.ItemLearning},{label:qn()("Give me a summary"),isCoachTrigger:!0,action:Y.d.Summarize,mode:Y.f.ItemLearning},{label:qn()("Give me real-life examples"),isCoachTrigger:!0,action:Y.d.RealLifeExamples,mode:Y.f.ItemLearning}],VideoItem_VideoItem=function(e){var t,n,i,o,r,a,s=e.autoplay,c=e.course,l=e.computedItem,u=e.videoContent,d=e.itemMetadata,p=e.hasModalOpen,g=e.courseProgress,h=e.verificationDisplay,m=e.startPlaybackSeconds,f=e.videoQuizModel,v=e.executeAction,b=e.isSubtitleTranslationEnabled,y=e.weekNumber,C=e.itemSummaryHtml,S=e.scrollingContainerRef,k=e.isPreviewMode,w=e.hasNoProgressInVideoItems,x=e.embeddedCoachEnabled,O=void 0!==x&&x,T=e.isAutoNextPaused,j=void 0!==T&&T,E=e.setIsUserReportingIssue,P=e.courseBranchId,I=Object(W.useState)({isFullScreen:!1,visiblePlayer:!1,videoPlayer:void 0,videoRegion:void 0}),V=B()(I,2),L=V[0],M=V[1],N=(null==d?void 0:null===(t=d.attributes)||void 0===t?void 0:null===(n=t.course)||void 0===n?void 0:null===(i=n.attributes)||void 0===i?void 0:i.primaryLanguageCodes[0])||"en",F=Object(oe.a)(ie.a.only("md")),A=Object(oe.a)(ie.a.only("lg")),z=Object(oe.a)(ie.a.only("xl")),Q=Object(W.useState)(!1),Z=B()(Q,2),G=Z[0],Y=Z[1],X=function(e,t,n){return e?hn:t?mn:n?fn:hn}(F,A,z),ee=X+68-240,te=Object(W.useState)(0),le=B()(te,2),ue=le[0],ge=le[1],he=Object(W.useState)({tracks:void 0,selectedTrack:void 0}),fe=B()(he,2),Oe=fe[0],Te=fe[1],je=Object(Qn.b)(),Ee=je.shouldChangeTranscriptTracks,Pe=je.setIsDubbingAvailable,Ie=je.setShouldNudgeBeVisible,Ve=je.setDefaultLanguageKey,_e=Object(W.useState)([]),Le=B()(_e,2),Me=Le[0],Re=Le[1],Ne=Object(W.useState)(""),De=B()(Ne,2),Fe=De[0],He=De[1],Ae=l.id,Be=we.b.isFullScreen(),ze=Object(W.useState)(!1),Ue=B()(ze,2),Qe=(Ue[0],Ue[1]),Ke=null==S?void 0:S.current,qe=function(e,t,n){return n?240:e>68?Math.max(240,t-(e-68)):t}(ue,X,G),We=Object(W.useCallback)((function(){if(Ke){var e=Ke.scrollTop;G?function(e,t,n,i){return e>t&&t<=i-n}(ue,e,qe,X)&&Y(!1):e>=ee&&Y(!0),ge(e)}}),[Ke,G,ue,ee,qe,X]);Object(W.useEffect)((function(){Ve(N)}),[N,Ve]),Object(W.useEffect)((function(){return Ke&&Ke.addEventListener("scroll",We),function(){null==Ke||Ke.removeEventListener("scroll",We)}}),[Ke,We]);var Ze=c.slug,Ge=c.id,Je=u.name,Ye=qn()("Video: #{name}",{name:Je}),Xe=d.get("courseMaterials"),$e=null==Xe?void 0:null===(o=Xe.getNeighbors(d))||void 0===o?void 0:o.nextItemMetadataOrItemGroup,et=L.videoRegion&&L.videoPlayer,tt={courseId:Ge,userActionType:zu.a.video_is_playing,itemData:{itemId:Ae,itemTypeName:"lecture"},courseBranchId:P},nt=downloadsDropdownUtils_isContextMenuEnabled(Ge),setVisibility=function(e){M((function(t){return H()(H()({},t),{},{visiblePlayer:e})}))},onSubtitlesChange=function(){He(downloadsDropdownUtils_getLanguageCode(d,L.videoPlayer,u))};Object(W.useEffect)((function(){var e=L.videoPlayer;if(e)return e.on("subtitleschange",onSubtitlesChange),function(){var e=D()(R()().mark((function _callee(){var e;return R()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,downloadsDropdownUtils_fetchLectureAssets(d);case 2:e=t.sent,Re(e);case 4:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}()(),He(downloadsDropdownUtils_getLanguageCode(d,e,u)),function(){e.off("subtitleschange",onSubtitlesChange)}}),[u,d,L.videoPlayer]);var it,ot=Object(W.useMemo)((function(){return fileDownloadUtils_getLectureDownloadLinks({videoContent:u,languageCode:Fe,computedItem:l,assetSources:Me,courseId:Ge})}),[u,Fe,l,Me,Ge]),handleTrackSelected=function(e){e&&(Te((function(t){return H()(H()({},t),{},{selectedTrack:e})})),Ie({isVisible:!0,languageCode:e.languageCode}))},rt=hooks_useDubbingTranscript({executeAction:v,transcriptState:Oe,handleTrackSelected:handleTrackSelected,isDubbedAudioSelected:null==Ee?void 0:Ee.shouldChange}),at=rt.dubbedTranscriptState,st=rt.setDubbedInteractiveTranscript,ct=rt.handleDubbedTrackSelected,lt=Boolean(!Object(Uu.a)(Ge)&&!k&&y),ut=Boolean(Oe.tracks&&Oe.selectedTrack),dt=(it=videoSettingsUtils_getStorageKey(),be.a.getItem(it,JSON.parse,void 0)),pt=w&&!dt;Object(W.useEffect)((function(){pt&&(fi.a.set("autoplay",!0),function(){var e=videoSettingsUtils_getStorageKey();be.a.setItem(e,!0,JSON.stringify)}())}),[pt]),Object(W.useEffect)((function(){K()(u.dubbedSources)?Pe(!1):Pe(!0)}),[Pe,u.dubbedSources]);var gt=Object(xe.c)().expanded,ht="externalCoachDisclosureExpanded_video-item";var mt=Zu.map((function(e){var t=e.isCoachTrigger,n=e.label,i=e.mode,o={coachActionId:e.action,coachModeId:i},r={courseId:Ge,itemId:l.id};return t?Object(q.d)(me.a,{isDisclosureButton:!0,isToolbarTrigger:!0,variant:"secondary",label:n,message:n,config:o,courseraContext:r}):Object(q.d)(de.a,{variant:"secondary"},n)}));return Object(q.d)(An,{autoplay:s||pt,courseSlug:Ze,computedItem:l,isVideoHighlightingEnabled:!0},Object(q.d)(re.a,{id:"video-item-outermost-container",container:!0,direction:"column",wrap:"nowrap"},Object(q.d)("div",{css:qu.iTakeSpace(qe,X)}),Object(q.d)(re.a,{id:"video-player-row",item:!0,container:!0,xs:12,direction:"row",css:qu.videoPlayerRow(ue,X)},Object(q.d)(re.a,{id:"video-player-container",alignContent:"flex-start",item:!0,css:qu.videoPlayerContainer(qe)},Object(q.d)(J.a,{onChange:function(e){(e||L.isFullScreen)&&setVisibility(e)}},Object(q.d)(mi,{videoPlayer:L.videoPlayer,videoRegion:L.videoRegion,nextItem:$e,parentCb:setVisibility,hasModalOpen:p,layoutMode:"fill"},Object(q.d)(cds_VideoOrigamiRegion,{computedItem:l,courseProgress:g,verificationDisplay:h,itemMetadata:d,autoplay:s||pt,startPlaybackSeconds:m,videoQuizModel:f,videoContent:u,setVideoPlayer:function(e){M((function(t){return H()(H()({},t),{},{videoPlayer:e})})),e.el().focus()},setVideoRegion:function(e){M((function(t){return H()(H()({},t),{},{videoRegion:e})}))},setInteractiveTranscript:function(e){if(e){if(K()(e.languageMap))return v(setUIPanelEnabled,!1),void Te((function(e){return H()(H()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var t=Oe.selectedTrack,n=e.languageMap,i=e.defaultLanguage,o=TrackUtils_buildTracks(n),r=TrackUtils_getDefaultTrack(o,i),a=t||r;v(setUIPanelEnabled,!0),Te((function(e){return H()(H()({},e),{},{tracks:o,selectedTrack:a})}))}else Te((function(e){return H()(H()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},setDubbedInteractiveTranscript:st,ariaLabel:Ye,visibility:L.visiblePlayer,isFullscreen:Be,layoutMode:"fill",isContextMenuEnabled:nt,autoNextCountdownSeconds:5,onVideoPlayedToEnd:function(){return Qe(!0)},isAutoNextPaused:j}))))),et&&Object(q.d)(VideoHighlightManagerProvider_VideoHighlightingManagerProvider,{itemId:Ae,courseId:Ge,videoPlayer:L.videoPlayer,videoRegionRef:L.videoRegion,selectedTrack:null!=Ee&&Ee.shouldChange?at.selectedTrack:Oe.selectedTrack,tracks:null!=Ee&&Ee.shouldChange?at.tracks:Oe.tracks,onTrackSelected:null!=Ee&&Ee.shouldChange?ct:handleTrackSelected,computedItem:l,itemMetadata:d,videoContent:u,course:c,isSubtitleTranslationEnabled:b,executeAction:v},Object(q.d)(re.a,{container:!0,direction:"row",justifyContent:"space-between"},Object(q.d)("div",{css:[qu.overrideItemFeedbackStyles,qu.itemFeedbackFlag]},Object(q.d)(Ce.a,{tooltipPlacement:"top",setIsUserReportingIssue:E,computedItem:l,itemFeedbackType:Se.c.Lecture,eventNameSubmit:"core_lex_report_top_issue_submit",eventNameRemove:"core_lex_report_top_issue_remove",eventNameOpen:"core_lex_report_top_issue"})),Nu||(Nu=Object(q.d)(cds_ReportSection,null))),Object(q.d)(re.a,{item:!0,container:!0,direction:"column"},Object(q.d)(re.a,{id:"video-item-title-and-save-note",container:!0,item:!0,direction:"row",xs:12,justifyContent:"space-between",alignItems:"center",css:qu.titleAndSaveNoteContainer},Object(q.d)(re.a,{item:!0,"data-testid":"video-item-title-and-attribution"},Object(q.d)(ae.a,{variant:"h1semibold",className:"video-name"},Je,Object(q.d)(ke.a,{courseId:Ge})),d.getEmbeddedContentSourceCourseId()&&Object(q.d)("div",{css:qu.embeddedSourceAttribution},Object(q.d)(VideoItemEmbeddedSourceCourseAttribution_VideoItemEmbeddedSourceCourseAttribution,{embeddedContentSourceCourseId:d.getEmbeddedContentSourceCourseId(),includeCourseName:ve.a.INLINE,originalName:d.getOriginalName()}))),Object(q.d)(re.a,{item:!0},ut&&Object(q.d)(toolbar_CaptureHighlightButton,{videoPlayer:L.videoPlayer,selectedTrack:Oe.selectedTrack}))),O&&Object(q.d)(re.a,{item:!0},Object(q.d)("div",{css:Object(q.c)(Du||(Du=U()(["\n                      margin-bottom: var(--cds-spacing-100);\n                      margin-top: var(--cds-spacing-100);\n                    "])))},Object(q.d)(pe.a,{actionButtons:mt,defaultExpanded:!gt&&be.a.getItem(ht,(function(e){return"false"!==e}),!0),onToggle:function(e){!function(e){be.a.setItem(ht,e,(function(e){return e?"true":"false"}))}(e)}},Object(q.d)(se.a,{component:"p"},qn()("Let me know if you have any questions about this material. I'm here to help!"))))),Object(q.d)(re.a,{item:!0,xs:12},Object(q.d)(LectureTabs_LectureTabs,{isLoggedIn:Object(ne.c)(),stickyTop:qe+78+2,transcriptTabContent:ut?Fu||(Fu=Object(q.d)(ku,null)):Wu,downloadTabContent:0===ot.length?null:Object(q.d)(tabContent_DownloadTabContent,{lectureDownloadLinks:ot}),discussTabContent:lt?Object(q.d)(DiscussTabContent_DiscussTabContent,{weekNumber:y}):null,notesTabContent:ut?Hu||(Hu=Object(q.d)(NotesTabContent_NotesTabContent,null)):null,lectureSummaryTabContent:C?Object(q.d)(LectureSummaryContent_LectureSummaryContent,{itemSummaryHtml:C,name:Je}):null,notifyOnTabChange:function(){if(Ke&&G){Ke.removeEventListener("scroll",We);var e=d.getEmbeddedContentSourceCourseId()?90:48,t=ee+e+12;Ke.scrollTop=t,ge(t),Ke.addEventListener("scroll",We)}},courseId:Ge})))),Au||(Au=Object(q.d)(ce.a,{color:"light"})),Object(q.d)(re.a,{container:!0,css:qu.feedbackButtons},Object(q.d)(re.a,{item:!0},Object(q.d)(ye.a,{setIsUserReportingIssue:E,hideReportAnIssue:!0,courseId:Ge,computedItem:l,itemFeedbackType:Se.c.Lecture,css:qu.overrideItemFeedbackStyles})),Object(q.d)(re.a,{item:!0},Object(q.d)(li,{utmMediumParam:"page_share",utmContentParam:"in_course_lecture",utmCampaignParam:"bar_button",title:qn()("Share this video"),description:qn()("If you enjoy this video, take the time to show your friends."),captions:getSocialCaptions({courseName:null==c?void 0:c.name,partnerName:null==d?void 0:null===(r=d.get("course"))||void 0===r?void 0:null===(a=r.get("universities"))||void 0===a?void 0:a.getNamesString()}),titleComponent:"h2"}),Object(q.d)(VideoIsPlayingStateProvider,{videoPlayer:L.videoPlayer},(function(e){var t=e.isPlaying;return Object(q.d)(ContinuousSignalTracker,{shouldSend:t,sendSignalData:{heartbeatData:tt}})}))))))},Gu=Object(P.b)(Object(te.a)(["SessionStore","CourseStore","ProgressStore"],(function(e,t){for(var n,i=e.SessionStore,o=e.CourseStore,r=e.ProgressStore,a=t.course,s=null===(n=o.getMaterials())||void 0===n?void 0:n.getLectureItemMetadatas().map((function(e){return e.id})),c=!0,l=0;l<s.length;l+=1){var u=s[l];if(r.getItemProgress(u).isAtLeastStarted()){c=!1;break}}return{courseBranchId:i.getBranchId()||a.id,hasNoProgressInVideoItems:c}})),Object(P.c)({executeAction:ee.a.func.isRequired,_eventData:ee.a.object,_withTrackingData:ee.a.func}))((function(e){var t=Object(W.useState)(!1),n=B()(t,2),i=n[0],o=(n[1],Object(W.useState)(!1)),r=B()(o,2),a=r[0],s=r[1],c=Object(xe.c)(),l=c.setPlugins,u=c.closeTools,d=Object(fe.c)().showEmbeddedCoach;return Object(W.useEffect)((function(){return d?(l([{name:"coach",icon:Bu||(Bu=Object(q.d)(he.a,null)),component:Object(q.d)(ge.a,{courseId:e.course.id,itemId:e.computedItem.id,onClose:function(){u()},recommendedActionsEnabled:!0,clipRecommendationsEnabled:!0,mode:Y.f.ItemLearning,homeView:{title:"Ask me anything about what you are learning. I'm here to help!",subtitle:"To get started, type your question below or try one of these examples:",quickMessages:[{message:qn()("Explain this topic in simple terms"),action:Y.d.SimpleExplanation},{message:qn()("Give me a summary"),action:Y.d.Summarize},{message:qn()("Give me practice questions"),action:Y.d.PracticeQuestions},{message:qn()("Give me real-life examples"),action:Y.d.RealLifeExamples}]}})}]),function(){l([])}):function(){}}),[d,e.course.id,e.computedItem.id,l,u]),Object(q.d)("div",{role:"region","aria-label":qn()("Video item")},Object(q.d)(Tu.b.Consumer,null,(function(t){var n=t.hasModalOpen,o=t.setHasModalOpen;return Object(q.d)(LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider,null,Object(q.d)(VideoTrimmingContext_VideoTrimmingContextProvider,{trimmedStartTimeSeconds:e.videoContent.trimmedStartTimeSeconds,trimmedDurationSeconds:e.videoContent.trimmedDurationSeconds},Object(q.d)(Qn.a,null,Object(q.d)(VideoItem_VideoItem,L()({},e,{setIsUserReportingIssue:s,hasModalOpen:n,setHasModalOpen:o,embeddedCoachEnabled:d,isAutoNextPaused:i||a})))))})))})),Ju=t("jGbM"),Yu=t("/0hG"),Xu=t("KnSn"),$u=t("doNK"),contentRequester_buildBaseUrl=function(){return ic.a.join("user",ne.a.get().id,"course",this.itemMetadata.get("course").get("slug"),"item",this.itemMetadata.getId(),{closedPeer:"peer",gradedPeer:"peer",phasedPeer:"peer",splitPeerReviewItem:"peer"}[e=this.itemMetadata.getTypeName()]||e);var e},ContentRequester=function(e){this.itemMetadata=e};ContentRequester.prototype.request=function(e,t){var n=this.itemMetadata,i=contentRequester_buildBaseUrl.call(this),r=new g.a(ic.a.join(i,e));/action/.test(e)&&r.addQueryParam("autoEnroll","false");var a={data:{contentRequestBody:t}};return o.a.allSettled([Object(Xu.b)(n.get("course").get("id")),Object($u.b)(n.get("course").get("slug")),Yu.a.post(r.toString(),a)]).spread((function(e,t,i){if("rejected"===i.state)throw i.reason;var o=t.value,r=e.value,a=i.value,s=n.getId(),c=o.getItemProgress(s);c&&a&&a.itemProgress&&c.set(a.itemProgress,{refreshCourseProgress:!0});var l=r.getItemGrade(s);return l&&a&&a.itemGradeRecord&&(l.set(a.itemGradeRecord),r.refresh()),a&&a.contentResponseBody}))};var ed=ContentRequester,Requester=function(e,t){this._contentRequester=e,this._sessionId=t};Requester.prototype.action=function(e,t){return this._contentRequester.request(ic.a.join("inVideoQuiz","session",this._sessionId,"action",e),{argument:t}).then(qc.a.property("return"))};var td,nd=Requester,models_VideoQuiz=function(e){var t=e.sessionId,n=e.questions;this.sessionId=t,this.questions=n},videoQuizPromise=function(e){var t=e.metadata.getDefinition("hasInVideoAssessment"),n=e.authenticated;return t&&n?function(e){var t=new ed(e.metadata);return t.request(ic.a.join("inVideoQuiz","session"),{}).then((function(e){var n=e.session.id,i=new nd(t,n);return o.a.all([e.session.id,i.action("getQuestions",{})])})).spread((function(e,t){var n={sessionId:e};return qc()(n).extend(t),n}))}(e).then((function(e){return new models_VideoQuiz(e)})).catch((function(e){return o.a.fcall(qc.a.constant(null))})):o.a.fcall(qc.a.constant(null))},id=t("noZS"),od=t.n(id),rd=t("xkGU"),ad=t.n(rd),sd=t("K7Vu"),cd=t("5pVP"),ld={mp4VideoUrl:"video/mp4",webMVideoUrl:"video/webm"},video=function(e){var t=e.metadata,n=t.get("id"),i=t.get("course.id"),o=t.get("course.slug"),r=e.useFullVideoLength;return function(e){var t=e.itemId,n=e.courseId,i=e.courseSlug,o=new sd.a({itemId:t,courseId:n,courseSlug:i}),r={includes:["video"],fields:["onDemandVideos.v1(sources,subtitles,subtitlesVtt,subtitlesTxt,subtitlesAssetTags,dubbedSources,dubbedSubtitlesVtt)","disableSkippingForward"].concat(Je()(Object(cd.b)()?["startMs","endMs"]:[]))};return o.getWithCourseItemId(le.d.lectureVideosApi,r).then((function(e){var t=e.linked["onDemandVideos.v1"][0],i=e.elements[0].disableSkippingForward,o=e.elements[0].startMs,r=e.elements[0].endMs;return t.dubbedSources&&t.dubbedSubtitlesVtt&&enableAiDubbing(n),isAiDubbingEnabled(n)||(delete t.dubbedSources,delete t.dubbedSubtitlesVtt),H()(H()({},t),{},{disableSkippingForward:i,startTimeMs:o,endTimeMs:r})}))}({itemId:n,courseId:i,courseSlug:o}).then((function(e){var n,i=od()(e.sources.byResolution,(function(e){var t={};return ad()(ld,(function(n,i){i in e&&(t[n]=e[i])})),t})),o=e.dubbedSources?Object.keys(e.dubbedSources).reduce((function(t,n){return t[n]=e.dubbedSources[n].byResolution,t}),{}):{},a=e.sources.playlists.hls;return new vi({itemMetadata:t,hlsSource:a,videoId:e.id,sources:i,dubbedSources:o||{},dubbedSubtitlesVtt:e.dubbedSubtitlesVtt?(n=e.dubbedSubtitlesVtt,Object.entries(n).reduce((function(e,t){var n=B()(t,2),i=n[0],o=n[1];return H()(H()({},e),{},uo()({},i,{label:getSubtitleLabel(i,!1),url:o}))}),{})):{},subtitles:constructLanguageMap(e.subtitles,e.subtitlesAssetTags),subtitlesVtt:constructLanguageMap(e.subtitlesVtt,e.subtitlesAssetTags),subtitlesTxt:constructLanguageMap(e.subtitlesTxt,e.subtitlesAssetTags),posters:od()(e.sources.byResolution,(function(e){return e.previewImageUrl})),disableSkippingForward:e.disableSkippingForward,trimmedStartTimeSeconds:r?0:Object(Qc.a)(e.startTimeMs),trimmedDurationSeconds:r?null:Object(Qc.b)(e.startTimeMs,e.endTimeMs)})}))},ud=Object(Sc.a)(td||(td=U()(['\n  query GetItemSummaryByItemId($input: GetItemSummaryByItemIdVariables!) {\n    GetItemSummary(input: $input)\n      @rest(\n        type: "GetItemSummary"\n        path: "grpc/lexexperiments/itemsummary/v1beta1/ItemSummaryAPI/GetItemSummary"\n        method: "POST"\n      ) {\n      itemSummary @type(name: "ItemSummary") {\n        itemId\n        summary\n        title\n      }\n    }\n  }\n']))),cds_ItemSummaryProvider=function(e){var t=e.itemId,n=e.courseId,i=e.userId,o=e.children;return function(e){return kn.preview("showLectureSummary",{course_id:e})&&featureFlags_userLanguageSupportsLectureSummaries()}(n)?W.createElement(Cc.c,{query:ud,variables:{input:{itemId:t,courseId:n,userId:i}}},(function(e){var t,n,i=e.loading,r=e.error,a=e.data,s=null==a?void 0:null===(t=a.GetItemSummary)||void 0===t?void 0:null===(n=t.itemSummary)||void 0===n?void 0:n.summary;return o({loading:i,error:r,itemSummaryHtml:s})})):o({loading:!1})},dd=t("TdzE"),pd=t("PStO"),gd=t("aZBY"),hd=t("emlC"),utils_withVideoItemData=function(){return function(e){var t=e.displayName||e.name,n=function(t){function HOC(e){var n;return(n=t.call(this,e)||this).state={videoQuizModel:null,videoContent:null},n}ct()(HOC,t);var n=HOC.prototype;return n.componentDidMount=function(){var e=this,t=this.props.itemMetadata,n="true"===this.props.router.location.query.useFullLengthVideo,i=Ee()([video({metadata:t,useFullVideoLength:n}),videoQuizPromise({metadata:t,authenticated:!0})]);o.a.all(i).spread((function(t,n){e.setState({videoContent:t,videoQuizModel:n||null})})).done()},n.render=function(){var t=this,n=this.props.router.location,i=this.state,o=i.videoQuizModel,r=i.videoContent;if(!r)return null;var a=n&&n.query.t?parseInt(n.query.t,10):void 0,s=!(!n||!n.query.t)||fi.a.get("autoplay");return W.createElement(cds_ItemSummaryProvider,{itemId:String(this.props.itemMetadata.id),courseId:this.props.courseId,userId:ne.a.get().id},(function(n){var i=n.itemSummaryHtml,c=n.loading;return(W.createElement(e,L()({},t.props,{autoplay:s||!1,videoQuizModel:o,videoContent:r,startPlaybackSeconds:a,itemSummaryHtml:i,isLoadingSummary:c})))}))},HOC}(W.Component);return n.displayName="withVideoItemData(".concat(t,")"),Object(Ju.a)(n,e),Object(P.b)(Object(Zn.a)((function(e){return{router:e}})),Object(dd.b)(),Object(hd.a)(["ProgressStore","VerificationStore","CourseScheduleStore","SessionStore","CourseStore"],(function(e,t){var n=e.ProgressStore,i=e.VerificationStore,o=e.CourseScheduleStore,r=e.SessionStore,a=e.CourseStore,s=t.itemMetadata.get("lesson.module.id"),c=o.getSchedule();return{courseId:a.getCourseId(),isSubtitleTranslationEnabled:a.isSubtitleTranslationEnabledForCourse(),courseProgress:n.courseProgress,verificationDisplay:i.getVerificationDisplay(),weekNumber:c.getWeekForModuleId(s),isPreviewMode:r.isPreviewMode()}})),pd.b.createContainer((function(e){var t=e.courseId;return{course:gd.a.get(t,{fields:["isClosedCourse","s12nIds"],params:{showHidden:!0}})}})))(n)}},md=Object(P.b)(utils_withVideoItemData(),I.b.createTrackedContainer((function(){return{namespace:{page:"focused_lex_video_item"}}})))(Gu);md.displayName="ComposedVideoItemWithHighlighting";t.d(e,"isContextMenuEnabled",(function(){return downloadsDropdownUtils_isContextMenuEnabled})),t.d(e,"VideoItemContainer",(function(){return md})),t.d(e,"MIN_WIDTH_FOR_TABBED_NOTES_DRAWER",(function(){return 730}))},"kj/T":function(module,exports,e){var t=e("nzgR"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},lhOz:function(module,exports,e){},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return reshapeHighlightForClient})),t.d(e,"f",(function(){return updateHighlight})),t.d(e,"b",(function(){return g})),t.d(e,"c",(function(){return deleteHighlight})),t.d(e,"a",(function(){return compareHighlightsByStartTimestamp})),t.d(e,"d",(function(){return h}));var n=t("fsL8"),i=t.n(n),o=t("yXPU"),r=t.n(o),a=t("fw5G"),s=t.n(a),c=t("v6sC"),l=t("sQ/U"),u=t("p6CZ"),d=Object(c.a)("/api/userNotes.v1",{type:"rest"}),p=function(){var e=r()(i()().mark((function _callee(e,t,n,o,r){var a,l,p,g,h;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=(new s.a).addQueryParam("action","getScreenShotUploadUrlV2").addQueryParam("courseId",e).addQueryParam("itemId",t).addQueryParam("userId",o).addQueryParam("timestamp",n),i.next=3,d.post(a.toString());case 3:return l=i.sent,p=l.split("?")[0],g=Object(u.c)(r),h=Object(c.a)(l,{type:"rest"}),i.next=9,h.put("",{contentType:"image/png",data:g,processData:!1});case 9:return i.abrupt("return",p);case 10:case"end":return i.stop()}}),_callee)})));return function(t,n,i,o,r){return e.apply(this,arguments)}}(),reshapeHighlightForClient=function(e){var t=e.id,n=e.createdAt,i=e.updatedAt,o=e.userText,r=e.shouldFocusOn,a=e.details.definition,s=a.noteEndTs,c=a.noteStartTs,l=a.captureTs,u=a.snapshotUrl,d=a.transcriptTextStartIndex,p=a.transcriptTextEndIndex,g=a.transcriptText,h=a.itemId,m=a.itemName;return{id:t,itemId:h,courseId:a.courseId,itemName:m,clientId:t,createdAt:n,updatedAt:i,languageCode:a.languageCode,noteText:o,noteEndTs:s&&s/1e3,noteStartTs:c&&c/1e3,captureTs:l&&l/1e3,snapshotUrl:u,transcriptTextStartIndex:d,transcriptTextEndIndex:p,transcriptText:g,pendingCreate:!1,pendingUpdate:!1,shouldFocusOn:r}},updateHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.languageCode,o=e.id,r=e.highlight,a=new s.a(o),c=Object(u.d)({itemId:t,courseId:n,highlight:r,languageCode:i});return d.put(a.toString(),{data:c})},g=function(){var e=r()(i()().mark((function _callee2(e){var t,n,o,r,a,s,c,g,h,m,f;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=e.itemId,a=e.courseId,s=e.languageCode,c=e.highlight,g=Object(u.d)({itemId:r,courseId:a,highlight:c,languageCode:s}),h=l.a.get().id,!c.snapshotDataUrl){i.next=8;break}return i.next=6,p(a,r,g.details.definition.noteStartTs,h,c.snapshotDataUrl);case 6:m=i.sent,g.details.definition.snapshotUrl=m;case 8:return i.next=10,d.post("",{data:g});case 10:return f=i.sent,i.abrupt("return",{id:f.elements[0].id,snapshotUrl:(null===(t=f.elements[0])||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:null===(o=n.definition)||void 0===o?void 0:o.snapshotUrl)||""});case 12:case"end":return i.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),deleteHighlight=function(e){var t=e.id,n=new s.a(t);return d.delete(n.toString())},compareHighlightsByStartTimestamp=function(e,t){return e.noteStartTs<t.noteStartTs?-1:e.noteStartTs>t.noteStartTs?1:0},h=function(){var e=r()(i()().mark((function _callee3(e){var t,n,o,r,a;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.itemId,n=e.courseId,o=e.languageCode,r=(new s.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",o).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),i.next=4,d.get(r.toString());case 4:return a=i.sent,i.abrupt("return",a.elements.map(reshapeHighlightForClient).sort(compareHighlightsByStartTimestamp));case 6:case"end":return i.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}()},"nQ+W":function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},nzgR:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},p6CZ:function(module,e,t){"use strict";var n=t("k8gO"),i=t("F9YM");t.d(e,"c",(function(){return getBlobFromDataURI})),t.d(e,"b",(function(){return highlightUtils_generateHighlightFromTranscriptSelection})),t.d(e,"a",(function(){return highlightUtils_generateHighlightFromCaptureButton})),t.d(e,"d",(function(){return getDraftFromHighlight}));var getBlobFromDataURI=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),r=0;r<t.length;r+=1)o[r]=t.charCodeAt(r);return new Blob([i],{type:n})},highlightUtils_generateHighlightFromTranscriptSelection=function(e,t){var i=e.transcriptTextStartIndex,o=e.transcriptTextEndIndex,r=t.cues.filter((function(e){return e.index>=i.cueIndex&&e.index<=o.cueIndex})),a=r.reduce((function(e,t){var n=t.index,r=t.text,a=i.cueIndex,s=i.textIndex,c=o.cueIndex,l=o.textIndex;return n===a?n===c?"".concat(e).concat(r.substring(s,l+1)):"".concat(e).concat(r.substring(s)):n===c?"".concat(e," ").concat(r.substring(0,l+1)):"".concat(e," ").concat(r)}),""),s=Object(n.a)(),c=s,l=r[0],u=r[r.length-1].endTime;return{id:s,clientId:c,captureTs:l.startTime,noteStartTs:l.startTime,noteEndTs:u,transcriptText:a,noteText:"",languageCode:t.languageCode,transcriptTextStartIndex:i,transcriptTextEndIndex:o,pendingCreate:!0,pendingUpdate:!1}},highlightUtils_generateHighlightFromCaptureButton=function(e,t){var o=Object(n.a)(),r=o,a=e.languageCode,s=t.currentTime(),c=Object(i.d)(e.cues,s,a),l=c[0],u=c[c.length-1],d=c.reduce((function(e,t){return t.index===l.index?"".concat(e).concat(t.text):"".concat(e," ").concat(t.text)}),""),p={textIndex:0,cueIndex:l.index},g={textIndex:u.text.length-1,cueIndex:u.index},h=u.endTime;return{id:o,clientId:r,captureTs:s,noteStartTs:l.startTime,noteEndTs:h,transcriptText:d,noteText:"",languageCode:a,transcriptTextStartIndex:p,transcriptTextEndIndex:g,snapshotDataUrl:function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=e.el().querySelector("video"),i=t.getContext("2d");return i&&n&&i.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")}(t),pendingCreate:!0,pendingUpdate:!1}},getDraftFromHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.highlight,o=e.languageCode,r=i.noteStartTs,a=i.noteEndTs,s=i.captureTs,c=i.snapshotUrl,l=i.transcriptText,u=i.noteText,d=i.transcriptTextEndIndex;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:c||"",transcriptTextStartIndex:i.transcriptTextStartIndex,transcriptTextEndIndex:d,languageCode:o,transcriptText:l,noteEndTs:a&&1e3*a,captureTs:s&&1e3*s,noteStartTs:r&&1e3*r}},userNote:u}}},qenF:function(module,e,t){"use strict";t.d(e,"a",(function(){return isCDSAdoptionQ2ABTestEnabled})),t.d(e,"d",(function(){return isFullstoryOnCourseHomeForPartnersEnabled})),t.d(e,"e",(function(){return persistentFullScreenVideo})),t.d(e,"c",(function(){return isFlashcardsEnabledForUserAndCourse})),t.d(e,"b",(function(){return isComposablePageHeaderEnabledInCourse}));var n=t("VTx5"),i=t("DeKs"),o=t("+rcu"),isCDSAdoptionQ2ABTestEnabled=function(){return!0},isFullstoryOnCourseHomeForPartnersEnabled=function(){return n.a.get("enableFullstoryOnCourseHomeForPartners")},persistentFullScreenVideo=function(){return i.a.get("persistentFullScreenVideo")},isFlashcardsEnabledForUserAndCourse=function(e){return o.a.get("showFlashcards",{course_id:e})},isComposablePageHeaderEnabledInCourse=function(){return o.a.get("enableComposablePageHeaderInCourse")}},rO66:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},t9gw:function(module,e,t){"use strict";var n=t("ZwCU"),i=t.n(n),o=t("8OJ3"),Heartbeat=function(e,t,n){e.on("playing",function(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(n,parseInt(t,10))}.bind(this)),e.on("pause",function(){window.clearInterval(this.interval)}.bind(this)),e.on("dispose",function(){window.clearInterval(this.interval)}.bind(this))};o.a.registerPlugin("setupHeartbeatListener",(function(){var e=this,t=[];e.emitter||(e.emitter=i.a.emitter()),e.emitter.on("emitter.listener",(function(n,i){var o;if(o=/^heartbeat(:(\d+))?$/.exec(n)){var r=o[2]||5e3;t.push(new Heartbeat(e,r,i))}}))}))},uKqt:function(module,e,t){"use strict";t.d(e,"d",(function(){return i})),t.d(e,"i",(function(){return o})),t.d(e,"e",(function(){return r})),t.d(e,"c",(function(){return a})),t.d(e,"f",(function(){return s})),t.d(e,"j",(function(){return c})),t.d(e,"a",(function(){return l})),t.d(e,"g",(function(){return u})),t.d(e,"b",(function(){return d})),t.d(e,"h",(function(){return p}));var n=t("cVIm"),i="823425307723964",o=("".concat(n.a.url.resource_assets,"sharing/link-icon.png"),"tw"),r="fb",a="email",s="ln",c="wa",l="link",u="mobile",d="api/customUrls.v1",p="action=share"},vbpD:function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),o=t("J4zp"),r=t.n(o),a=t("q1tI"),s=t("Yql6"),c=t("+TN3"),l=t("agHs"),u=t("KjNy"),d=t.n(u),hooks_useHasDayOneOnboardingModalBeenSeen=function(){var e,t,n=Object(c.b)(d.a,{variables:{eventType:"DAY_ONE_ONBOARDING_MODAL_SEEN"},context:{clientName:"gatewayGql"}}),i=n.loading,o=n.error,r=n.data;return a.useEffect((function(){o&&l.captureException(o)}),[o]),{loading:i,hasBeenSeen:!!o||!(null==r||null===(e=r.LexExperimentEvents)||void 0===e||null===(t=e.queryByEventType)||void 0===t||!t.id)||!1}};t.d(e,"a",(function(){return DayOneOnboardingModalProvider_DayOneOnboardingModalProvider})),t.d(e,"b",(function(){return DayOneOnboardingModalProvider_useDayOneOnboardingModal}));var p=a.createContext({isOpen:!1,openModal:function(){},closeModal:function(){},firstItemId:void 0,courseBranchId:void 0,hasBeenSeenInPreviousSession:!1,hasBeenSeenInPreviousSessionIsLoading:!1,hasBeenSeenInThisSession:!1,hasLoadedFirstItem:!1,enableDayOneOnboardingIsLoading:!1,setEnableDayOneOnboardingIsLoading:function(){},hasMadeProgressInCourse:!1}),DayOneOnboardingModalProvider_DayOneOnboardingModalProvider=function(e){var t=e.children,n=e.courseBranchId,o=e.hasMadeProgressInCourse,c=e.nextItemId,l=hooks_useHasDayOneOnboardingModalBeenSeen(),u=l.hasBeenSeen,d=l.loading,g=Object(s.a)(),h=a.useState(!1),m=r()(h,2),f=m[0],v=m[1],b=a.useState(!1),y=r()(b,2),C=y[0],S=y[1],k=a.useState(!1),w=r()(k,2),x=w[0],O=w[1],T=a.useState(!1),j=r()(T,2),E=j[0],P=j[1],I=a.useState(void 0),V=r()(I,2),L=V[0],M=V[1],R=a.useCallback((function(e){v(!0),e&&(S(!0),M(e))}),[M,v]),N=a.useCallback((function(){v(!1),P(!0),g("close_modal",i()({modal:{name:"course_day_one_onboarding_benchmark_screen"},courseItem:{id:L}},n?{courseBranch:{id:n}}:{}))}),[v,g,L,n]);a.useEffect((function(){c&&(S(!0),M(c))}),[S,M,c]);var D=a.useCallback((function(e){u||d||E||O(e)}),[u,d,E]);return(a.createElement(p.Provider,{value:{isOpen:f,openModal:R,closeModal:N,firstItemId:L,hasBeenSeenInPreviousSession:u,hasBeenSeenInPreviousSessionIsLoading:d,hasBeenSeenInThisSession:E,courseBranchId:n,hasLoadedFirstItem:C,enableDayOneOnboardingIsLoading:x,setEnableDayOneOnboardingIsLoading:D,hasMadeProgressInCourse:o}},t))},DayOneOnboardingModalProvider_useDayOneOnboardingModal=function(){return a.useContext(p)}},wi9P:function(module,exports,e){e("lhOz")},xmJK:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"yh+z":function(module,e,t){"use strict";var n=t("fw5G"),i=t.n(n),o=t("MnCE"),r=t("+LJP"),a=t("Vwt+");e.a=function(e){return Object(o.b)(Object(r.a)((function(e){return{router:e}})),Object(o.o)((function(t){var n=t.router,o=t.shareLink,r=t.hashedUserId,s=t.utmContentParam,c=t.utmMediumParam,l=t.utmCampaignParam,u=t.utmProductParam,d=t.extraQueryParams,p=o?new i.a(o):Object(a.d)(n);(p.addQueryParam("utm_source",e),c&&p.addQueryParam("utm_medium",c),s&&p.addQueryParam("utm_content",s),l&&p.addQueryParam("utm_campaign",l),u&&p.addQueryParam("utm_product",u),r&&p.addQueryParam("utm_user",r),d)&&Object.keys(d).forEach((function(e){p.addQueryParam(e,d[e])}));return{targetShareLink:p.toString()}})))}},zdNT:function(module,exports){module.exports={name:"machineTranslation",parameters:[{name:"enableAiDubbing",valid:[!0,!1],value:!1},{name:"enableAiDubbingInternally",valid:[!0,!1],value:!1}]}}}]);
//# sourceMappingURL=en.33.850db9ddff04a0ee15e5.js.map
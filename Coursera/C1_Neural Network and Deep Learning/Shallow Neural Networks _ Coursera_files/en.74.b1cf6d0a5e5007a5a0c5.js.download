(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"2ljr":function(module,e,t){"use strict";t.d(e,"c",(function(){return getStartTimeForDisplay})),t.d(e,"a",(function(){return getEndTimeForDisplay})),t.d(e,"b",(function(){return getIsOutsideTrimmingRange}));var getStartTimeForDisplay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(e-t,0)},getEndTimeForDisplay=function(e,t){var n=null!=t?t:{},r=n.trimmedStartTimeSeconds,a=n.trimmedEndTimeSeconds,o=void 0===a?0:a;return o?Math.min(e-r,o):e},getIsOutsideTrimmingRange=function(e,t,n){var r=null!=n?n:{},a=r.trimmedStartTimeSeconds,o=void 0===a?0:a,i=r.trimmedEndTimeSeconds;return!!(t&&t<o)||!!(i&&e>i)}},D77H:function(module,exports,e){},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return formatTime})),t.d(e,"e",(function(){return getTimeFromDuration})),t.d(e,"a",(function(){return buildParagraphs})),t.d(e,"b",(function(){return findCuesAroundTime})),t.d(e,"d",(function(){return getAdjacentCues}));var n=t("wd/R"),r=t.n(n),findCueIndexForTime=function(e,t){return function findCueIndexForTimeHelper(e,t,n,r){if(t>n)return-1;var a=n-Math.floor((n-t)/2);return r<e[a].startTime?findCueIndexForTimeHelper(e,t,a-1,r):a!==e.length-1&&r>=e[a+1].startTime?findCueIndexForTimeHelper(e,a+1,n,r):a}(e,0,e.length-1,t)},formatTime=function(e){var t="m:ss",n=1e3*e;return r.a.duration(n).hours()>0&&(t="h:m"+t),r.a.utc(n).locale("en").format(t)},getTimeFromDuration=function(e){var t=1e3*e,n=r.a.duration(t),a=n.hours(),o=n.minutes();return{seconds:n.seconds(),minutes:o,hours:a}},buildParagraphs=function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=[];return e.forEach((function(e){n&&(r=e.startTime-n.endTime),(!t||r>=a)&&(t=[],o.push(t)),e.hideForTrimmingRange||t.push(e),n=e})),o.filter((function(e){return e.length>0}))},findCuesAroundTime=function(e,t){var n=e[findCueIndexForTime(e,t)];return n?[n]:[]},getAdjacentCues=function(e,t,n){var r=findCueIndexForTime(e,t);return-1===r&&e.length>2?[0,1,2].map((function(t){return e[t]})):r<0||r>=e.length?[]:"en"===n?function(e,t){for(var n=[],r=e-1;-1!==r;){var a=t[r];if("."===a.text[a.text.length-1])break;n.unshift(r),r-=1}for(var o=e;o<=t.length-1;){var i=t[o];if(n.push(o),"."===i.text[i.text.length-1])break;o+=1}return n}(r,e).map((function(t){return e[t]})):function(e,t){var n=[],r=[];return e>=2&&r.push(e-2),e>=1&&r.push(e-1),e<t-1&&n.push(e+1),e<t-2&&n.push(e+2),[].concat(r,[e],n)}(r,e.length).map((function(t){return e[t]}))}},MA7l:function(module,e,t){"use strict";function toDecimalSeconds(e){return parseFloat(e.toFixed(3))}function toSeconds(e){return toDecimalSeconds(e/1e3)}function getVideoStartTimeOffsetSeconds(e){return toSeconds(null!=e?e:0)}function getVideoTrimmedDurationSeconds(e,t){return"number"!=typeof e||"number"!=typeof t?null:toSeconds(t-e)}t.d(e,"c",(function(){return toDecimalSeconds})),t.d(e,"d",(function(){return toSeconds})),t.d(e,"a",(function(){return getVideoStartTimeOffsetSeconds})),t.d(e,"b",(function(){return getVideoTrimmedDurationSeconds}))},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},OIEB:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},c5cO:function(module,e,t){"use strict";t.r(e);var n,r,a,o,i,c,s,d,u,l,m,g,f,p,v,b,h,T,O,x,S,j,N,I,y,E,C,w,P,D,U,V,M,k,W,F,L,z,A,R,Q,q,H=t("VkAN"),Y=t.n(H),G=t("J4zp"),B=t.n(G),J=t("AeFk"),Z=t("q1tI"),X=t.n(Z),K=t("HOoY"),ee=t("kgYC"),te=t("FdHa"),ne=t("8Hdl"),re=t("1HaE"),ae=t("Ns7p"),oe=t("Gcrz"),ie=t("UYTu"),ce=Object(ie.a)(n||(n=Y()(['\n  query VideoCourseMaterialsQuery($slug: String!) {\n    OnDemandCourseMaterialsV2 @naptime {\n      slug(slug: $slug, showHidden: true, includes: "modules") {\n        elements {\n          id\n          name\n        }\n        linked {\n          onDemandCourseMaterialModulesV1 {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n']))),data_CourseContentDataProvider=function(e){var t=e.courseSlug,n=e.children;return(X.a.createElement(oe.c,{query:ce,variables:{slug:t}},(function(e){var r,a=e.loading,o=e.error,i=e.data;if(o||a)return n({course:null,modules:null,error:!!o,loading:!!a});var c=((null==i?void 0:i.OnDemandCourseMaterialsV2)||{}).slug,s=null==c?void 0:null===(r=c.elements)||void 0===r?void 0:r[0].id,d=(c||{}).elements[0].name,u=((c||{}).linked||{}).onDemandCourseMaterialModulesV1;return n({course:{id:s,name:d,slug:t},modules:u,error:!1,loading:!1})})))},se=t("cVIm"),de=t("TOZ3"),ue=t("CsdX"),le=t("wwtN"),me=t("8WNh"),ge=t("Ne6o"),fe=t.n(ge),pe=(t("nS3k"),"".concat(se.a.url.resource_assets,"learner/icon_note.svg")),ve="".concat(se.a.url.resource_assets,"learner/icon_highlight.svg"),private_NotesReviewPageDataState=function(e){var t=e.dataState;return(X.a.createElement(de.b,{"aria-live":"assertive","aria-atomic":!0,"aria-relevant":"text",rootClassName:"rc-NotesReviewPageDataState",flexDirection:"column",justifyContent:"start",alignItems:"center"},"error"===t&&[X.a.createElement(le.a,{key:"icon",size:84,color:ue.b.error}),X.a.createElement("div",{key:"message",className:"data-state-message headline-5-text","aria-live":"assertive","aria-atomic":!0,"aria-relevant":"text"},fe()("There was an issue loading your notes data. Please try refreshing the page."))],"loading"===t&&[r||(r=X.a.createElement(me.a,{key:"icon",size:84})),X.a.createElement("div",{"aria-live":"assertive",role:"alert",key:"message",className:"data-state-message headline-5-text"},fe()("Loading notes..."))],"empty"===t&&[X.a.createElement(de.b,{key:"stateIcons",justifyContent:"center",rootClassName:"state-icons"},X.a.createElement("img",{src:pe,alt:fe()("Take notes"),className:"placeholder-icon"}),X.a.createElement("img",{src:ve,alt:fe()("Highlight"),className:"placeholder-icon"})),X.a.createElement("div",{"aria-live":"assertive","aria-atomic":!0,"aria-relevant":"text",key:"message",className:"data-state-message headline-5-text"},fe()("You have not added any notes yet. Notes can be created from video pages."))]))},be=t("3tO9"),he=t.n(be),Te=t("RIqP"),Oe=t.n(Te),xe=t("6/Gu"),Se=t("ZJgU"),je=t("fsL8"),Ne=t.n(je),Ie=t("yXPU"),ye=t.n(Ie),Ee=t("mDxB"),cloneData=function(e){return JSON.parse(JSON.stringify(e))},Ce=Object(ie.a)(a||(a=Y()(["\n  query NotesDataQuery($courseId: String!, $start: Int, $limit: Int) {\n    UserNotesV1 @naptime {\n      courseWithContentSort(courseId: $courseId, start: $start, limit: $limit) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n        paging\n      }\n    }\n  }\n"]))),CourseNotesDataProvider_CourseNotesQueryProvider=function(e){var t=e.course,n=e.pageSize,r=e.children;return(X.a.createElement(oe.c,{query:Ce,variables:{courseId:t.id,start:0,limit:n},notifyOnNetworkStatusChange:!0},(function(e){var t,a=e.loading,o=e.error,i=e.data,c=e.fetchMore;if(o)return r({notes:null,onLastPage:!1,error:!0,fetchNextPage:(t=ye()(Ne()().mark((function _callee(){return Ne()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee)}))),function(){return t.apply(this,arguments)}),loadingInitialPage:!1,loadingNextPage:!1});var s,d=((i||{}).UserNotesV1||{}).courseWithContentSort;if(a&&!(d||{}).elements)return r({notes:null,onLastPage:!1,error:!1,fetchNextPage:(s=ye()(Ne()().mark((function _callee2(){return Ne()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee2)}))),function(){return s.apply(this,arguments)}),loadingInitialPage:!0,loadingNextPage:!1});var u=((d||{}).elements||[]).map(Ee.e),l=(d||{}).paging,m=!l||!l.next||l.total&&l.next>=l.total,g=function(){var e=ye()(Ne()().mark((function _callee3(){return Ne()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({variables:{start:u.length,limit:n},updateQuery:function(e,t){var n=t.fetchMoreResult,r=cloneData(e);if(!n)return r;var a=r;a.UserNotesV1.courseWithContentSort.elements=[].concat(Oe()(e.UserNotesV1.courseWithContentSort.elements),Oe()(n.UserNotesV1.courseWithContentSort.elements));var o=n.UserNotesV1.courseWithContentSort.paging;return a.UserNotesV1.courseWithContentSort.paging=o,a}});case 2:case"end":return e.stop()}}),_callee3)})));return function(){return e.apply(this,arguments)}}();return u.length-n>=0&&(u[u.length-n].shouldFocusOn=!0),r({notes:u,fetchNextPage:g,onLastPage:m,error:!1,loadingInitialPage:!1,loadingNextPage:a})})))},we=Object(ie.a)(o||(o=Y()(["\n  mutation DeleteNoteMutation($noteId: String!) {\n    UserNotesV1 @naptime {\n      delete(id: $noteId) {\n        id\n      }\n    }\n  }\n"]))),CourseNotesDataProvider_CourseNotesDeletionProvider=function(e){var t=e.course,n=e.pageSize,r=e.children;return(X.a.createElement(oe.b,{mutation:we},(function(e){return r({deleteNote:function(r){e({variables:{noteId:r},update:function(e){var a=e.readQuery({query:Ce,variables:{courseId:t.id,start:0,limit:n}}),o=cloneData(a),i=((((a||{}).UserNotesV1||{}).courseWithContentSort||{}).elements||[]).filter((function(e){return e.id!==r})),c=o;c.UserNotesV1.courseWithContentSort.elements=i,e.writeQuery({query:Ce,variables:{courseId:t.id,start:0,limit:n},data:c})}})}})})))},Pe=Object(ie.a)(i||(i=Y()(["\n  mutation UpdateNoteMutation($noteId: String!, $noteDraft: DataMap!) {\n    UserNotesV1 @naptime {\n      update(id: $noteId, input: $noteDraft) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n      }\n    }\n  }\n"]))),CourseNotesDataProvider_CourseNotesUpdateProvider=function(e){var t=e.children;return(X.a.createElement(oe.b,{mutation:Pe},(function(e){return t({updateNote:function(t,n){e({variables:{noteId:t,noteDraft:n}})}})})))},data_CourseNotesDataProvider=function(e){var t=e.course,n=e.pageSize,r=e.children;return(X.a.createElement(CourseNotesDataProvider_CourseNotesQueryProvider,{course:t,pageSize:n},(function(e){var a=e.notes,o=e.fetchNextPage,i=e.error,c=e.loadingInitialPage,s=e.loadingNextPage,d=e.onLastPage;return(X.a.createElement(CourseNotesDataProvider_CourseNotesDeletionProvider,{course:t,pageSize:n},(function(e){var t=e.deleteNote;return(X.a.createElement(CourseNotesDataProvider_CourseNotesUpdateProvider,null,(function(e){var n=e.updateNote;return r({notes:a,onLastPage:d,fetchNextPage:o,deleteNote:t,updateNote:n,error:i,loadingInitialPage:c,loadingNextPage:s})})))})))})))},ModuleNotesDataProvider_cloneData=function(e){return JSON.parse(JSON.stringify(e))},De=Object(ie.a)(c||(c=Y()(["\n  query NotesModuleQuery($courseId: String!, $moduleId: String!, $start: Int, $limit: Int) {\n    UserNotesV1 @naptime {\n      courseModuleWithContentSort(courseId: $courseId, moduleId: $moduleId, start: $start, limit: $limit) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n        paging\n      }\n    }\n  }\n"]))),ModuleNotesDataProvider_ModuleNotesQueryProvider=function(e){var t=e.course,module=e.module,n=e.pageSize,r=e.children;return(X.a.createElement(oe.c,{query:De,variables:{courseId:t.id,moduleId:module.id,start:0,limit:n},notifyOnNetworkStatusChange:!0},(function(e){var t,a,o=e.loading,i=e.error,c=e.data,s=e.fetchMore;if(i)return r({notes:null,onLastPage:!1,fetchNextPage:(t=ye()(Ne()().mark((function _callee(){return Ne()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee)}))),function(){return t.apply(this,arguments)}),error:!0,loadingInitialPage:!1,loadingNextPage:!1});if(o&&!(((c||{}).UserNotesV1||{}).courseModuleWithContentSort||{}).elements)return r({notes:null,onLastPage:!1,fetchNextPage:(a=ye()(Ne()().mark((function _callee2(){return Ne()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),_callee2)}))),function(){return a.apply(this,arguments)}),error:!1,loadingInitialPage:!0,loadingNextPage:!1});var d=((c||{}).UserNotesV1||{}).courseModuleWithContentSort,u=((d||{}).elements||[]).map(Ee.e),l=(d||{}).paging,m=!l||!l.next||l.total&&l.next>=l.total,g=function(){var e=ye()(Ne()().mark((function _callee3(){return Ne()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({variables:{start:u.length,limit:n},updateQuery:function(e,t){var n=t.fetchMoreResult,r=ModuleNotesDataProvider_cloneData(e);if(!n)return r;var a=r;a.UserNotesV1.courseModuleWithContentSort.elements=[].concat(Oe()(e.UserNotesV1.courseModuleWithContentSort.elements),Oe()(n.UserNotesV1.courseModuleWithContentSort.elements));var o=n.UserNotesV1.courseModuleWithContentSort.paging;return a.UserNotesV1.courseModuleWithContentSort.paging=o,a}});case 2:case"end":return e.stop()}}),_callee3)})));return function(){return e.apply(this,arguments)}}();return u.length-n>=0&&(u[u.length-n].shouldFocusOn=!0),r({notes:u,fetchNextPage:g,onLastPage:m,error:!1,loadingInitialPage:!1,loadingNextPage:!!o})})))},Ue=Object(ie.a)(s||(s=Y()(["\n  mutation DeleteNoteMutation($noteId: String!) {\n    UserNotesV1 @naptime {\n      delete(id: $noteId) {\n        id\n      }\n    }\n  }\n"]))),ModuleNotesDataProvider_ModuleNotesDeletionProvider=function(e){var t=e.course,module=e.module,n=e.pageSize,r=e.children;return(X.a.createElement(oe.b,{mutation:Ue},(function(e){return r({deleteNote:function(r){e({variables:{noteId:r},update:function(e){var a=e.readQuery({query:De,variables:{courseId:t.id,moduleId:module.id,start:0,limit:n}}),o=ModuleNotesDataProvider_cloneData(a),i=((((a||{}).UserNotesV1||{}).courseModuleWithContentSort||{}).elements||[]).filter((function(e){return e.id!==r})),c=o;c.UserNotesV1.courseModuleWithContentSort.elements=i,e.writeQuery({query:De,variables:{courseId:t.id,moduleId:module.id,start:0,limit:n},data:c})}})}})})))},Ve=Object(ie.a)(d||(d=Y()(["\n  mutation UpdateNoteMutation($noteId: String!, $noteDraft: DataMap!) {\n    UserNotesV1 @naptime {\n      update(id: $noteId, input: $noteDraft) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n      }\n    }\n  }\n"]))),ModuleNotesDataProvider_ModuleNotesUpdateProvider=function(e){var t=e.children;return(X.a.createElement(oe.b,{mutation:Ve},(function(e){return t({updateNote:function(t,n){e({variables:{noteId:t,noteDraft:n}})}})})))},data_ModuleNotesDataProvider=function(e){var t=e.course,module=e.module,n=e.pageSize,r=e.children;return(X.a.createElement(ModuleNotesDataProvider_ModuleNotesQueryProvider,{course:t,module:module,pageSize:n},(function(e){var a=e.notes,o=e.fetchNextPage,i=e.error,c=e.loadingInitialPage,s=e.loadingNextPage,d=e.onLastPage;return(X.a.createElement(ModuleNotesDataProvider_ModuleNotesDeletionProvider,{course:t,module:module,pageSize:n},(function(e){var t=e.deleteNote;return(X.a.createElement(ModuleNotesDataProvider_ModuleNotesUpdateProvider,null,(function(e){var n=e.updateNote;return r({notes:a,onLastPage:d,fetchNextPage:o,deleteNote:t,updateNote:n,error:i,loadingInitialPage:c,loadingNextPage:s})})))})))})))},data_ContentNotesDataProvider=function(e){var t=e.contentType,n=e.course,module=e.module,r=e.pageSize,a=void 0===r?10:r,o=e.children;return"module"===t?module?X.a.createElement(data_ModuleNotesDataProvider,{course:n,module:module,pageSize:a},(function(e){return o(e)})):null:X.a.createElement(data_CourseNotesDataProvider,{course:n,pageSize:a},(function(e){return o(e)}))},Me=t("+TN3"),ke=t("5pVP"),We=t("MA7l"),Fe=t("2ljr"),Le=Object(ie.a)(u||(u=Y()(["\n  query GetOnDemandLectureVideosV1($ids: String!) {\n    OnDemandLectureVideosV1 @naptime {\n      multiGet(ids: $ids) {\n        elements {\n          id\n          startMs\n          endMs\n        }\n      }\n    }\n  }\n"]))),ContentNotesTrimRangeDataProvider_useGetContentNotesWithTrimRange=function(e){var t,n,r,a=Object(Z.useMemo)((function(){return new Set((null!=e?e:[]).filter((function(e){return e.itemId&&e.courseId})).map((function(e){return"".concat(e.courseId,"~").concat(e.itemId)})))}),[e]),o=Object(Me.b)(Le,{variables:{ids:Array.from(a).join(",")},skip:0===a.size}),i=o.data,c=o.loading,s=o.error,d=null==i?void 0:null===(t=i.OnDemandLectureVideosV1)||void 0===t?void 0:null===(n=t.multiGet)||void 0===n?void 0:null===(r=n.elements)||void 0===r?void 0:r.map((function(e){return{id:null==e?void 0:e.id,startTimeSec:null!=e&&e.startMs?Object(We.d)(null==e?void 0:e.startMs):0,endTimeSec:null!=e&&e.endMs?Object(We.d)(null==e?void 0:e.endMs):null}})),u=Object(Z.useMemo)((function(){return null==e?void 0:e.map((function(e){var t,n=null==d?void 0:d.find((function(t){return(null==t?void 0:t.id)==="".concat(e.courseId,"~").concat(e.itemId)}));if("number"!=typeof(t=null==n?void 0:n.endTimeSec)||Number.isNaN(t))return he()(he()({},e),{},{offsetNoteStartTsForDisplay:e.noteStartTs,offsetNoteEndTsForDisplay:e.noteEndTs,outsideTrimRange:!1});var r=Object(We.c)(e.noteStartTs-n.startTimeSec),a=e.noteEndTs?Object(We.c)(e.noteEndTs-n.startTimeSec):e.noteEndTs,o=Object(We.c)(n.startTimeSec+n.endTimeSec);return he()(he()({},e),{},{offsetNoteStartTsForDisplay:r>=0?r:0,offsetNoteEndTsForDisplay:a&&a<o?a:o,outsideTrimRange:Object(Fe.b)(e.noteStartTs,e.noteEndTs,{trimmedStartTimeSeconds:n.startTimeSec,trimmedEndTimeSeconds:n.endTimeSec})})}))}),[e,d]);return{loading:c,error:s,notesWithTrimRange:Object(ke.b)()?u:e}},data_ContentNotesTrimRangeDataProvider=function(e){var t=e.notes,n=e.children,r=ContentNotesTrimRangeDataProvider_useGetContentNotesWithTrimRange(t);return n({loading:r.loading,error:!!r.error,notesWithTrimRange:r.notesWithTrimRange})},_e=t("p6CZ"),review_page_Divider=function(){Object(ee.a)();return Object(J.d)("div",{css:Object(J.c)(l||(l=Y()(["\n        width: 100%;\n        margin: var(--cds-spacing-300) 0;\n        border-top: 1px solid var(--cds-color-grey-50);\n      "])))})},$e=t("l1rq"),ze=t("F9YM"),Ae=function(e){return e[e.VIEW=0]="VIEW",e[e.EDIT=1]="EDIT",e[e.DELETE=2]="DELETE",e}({}),note_NoteDelete=function(e){var t=e.setCurrentState,n=e.onDelete,r=e.text,a=e.note,o=(Object(ee.a)(),Object(Z.useRef)(null)),i=fe()("Are you sure you want to delete the entire note?");Object(Z.useEffect)((function(){o.current&&o.current.focus()}),[]);var c=Object(ze.c)(a.noteStartTs),s=a.noteEndTs?Object(ze.c)(a.noteEndTs):"",d=a.itemName;return Object(J.d)("div",{ref:o,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":i},r&&Object(J.d)(Z.Fragment,null,Object(J.d)($e.a,{component:"p",css:Object(J.c)(m||(m=Y()(["\n              margin: var(--cds-spacing-200) 0 var(--cds-spacing-100);\n            "]))),variant:"subtitleMedium"},fe()("Your Notes")),Object(J.d)($e.a,{component:"p",variant:"bodyPrimary"},r)),Object(J.d)(xe.a,{container:!0,alignItems:"flex-end",css:{flexGrow:1}},Object(J.d)(xe.a,{item:!0,container:!0,justifyContent:"flex-start",alignItems:"center"},Object(J.d)(xe.a,{item:!0,css:{margin:"var(--cds-spacing-200) var(--cds-spacing-400) 0 0"}},Object(J.d)($e.a,{component:"p",variant:"bodyPrimary","aria-live":"polite"},i)),Object(J.d)(xe.a,{item:!0,container:!0,css:Object(J.c)(g||(g=Y()(["\n              flex-basis: 0;\n              flex-wrap: nowrap;\n              margin: var(--cds-spacing-200) 0 0;\n            "])))},Object(J.d)(xe.a,{item:!0,css:Object(J.c)(f||(f=Y()(["\n                margin: 0 var(--cds-spacing-200) 0 0;\n              "])))},Object(J.d)(Se.a,{onClick:function(){n(),t(Ae.VIEW)},size:"small",variant:"primary","aria-label":fe()("Delete your notes for #{itemName} from time #{noteStartTimestamp} to #{noteEndTimestamp}",{itemName:d,noteStartTimestamp:c,noteEndTimestamp:s})},fe()("Delete"))),Object(J.d)(xe.a,{item:!0},Object(J.d)(Se.a,{onClick:function(){return t(Ae.VIEW)},size:"small",variant:"secondary","aria-label":fe()("Cancel deleting your notes for #{itemName} from time #{noteStartTimestamp} to #{noteEndTimestamp}",{itemName:d,noteStartTimestamp:c,noteEndTimestamp:s})},fe()("Cancel")))))))},Re=t("Who7"),note_NoteEdit=function(e){var t=e.setCurrentState,n=e.text,r=e.onSave,a=Object(Z.useState)(n),o=B()(a,2),i=o[0],c=o[1],s=n.split(" ",20).join(" ");return Object(J.d)(Z.Fragment,null,Object(J.d)($e.a,{component:"p",css:Object(J.c)(p||(p=Y()(["\n          margin: var(--cds-spacing-200) 0 var(--cds-spacing-100);\n        "]))),variant:"subtitleMedium"},fe()("Your Notes")),Object(J.d)("textarea",{"aria-label":fe()("Your Notes"),autoFocus:!0,css:he()({width:"100%",maxHeight:"175px",overflowY:"scroll",margin:"0 0 0",padding:"var(--cds-spacing-200)",border:"1px solid var(--cds-color-grey-300)",borderRadius:2},Re.c.bodyPrimary),id:"edit-note",defaultValue:i,onChange:function(e){return c(e.target.value)},rows:3}),Object(J.d)(xe.a,{container:!0,justifyContent:"flex-start",css:{margin:"var(--cds-spacing-200) 0 0"}},Object(J.d)(xe.a,{item:!0},Object(J.d)(Se.a,{onClick:function(){r(i),t(Ae.VIEW)},size:"small",variant:"primary","aria-label":fe()("Save your notes for #{text}",{text:s})},fe()("Save"))),Object(J.d)(xe.a,{item:!0},Object(J.d)(Se.a,{css:Object(J.c)(v||(v=Y()(["\n              margin: 0 0 0 var(--cds-spacing-200);\n            "]))),onClick:function(){return t(Ae.VIEW)},size:"small",variant:"secondary","aria-label":fe()("Cancel editing notes for #{text}",{text:s})},fe()("Cancel")))))},Qe=t("wU+f"),qe=t("Ys1X"),He=t("9A5E"),NoteInformation_VideoSnapshot=function(e){var t=e.snapshotUrl,n=(Object(ee.a)(),Object(J.c)(b||(b=Y()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    background: var(--cds-color-grey-975);\n    transition: opacity 0.2s linear;\n\n    :hover {\n      opacity: 0.6;\n    }\n  "])))),r=Object(J.c)(h||(h=Y()(["\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n  "])));return Object(J.d)("div",{css:Object(J.c)(T||(T=Y()(["\n        width: 197px;\n        position: relative;\n      "])))},Object(J.d)("div",{css:n},Object(J.d)($e.a,{component:"p",color:"invertBody",css:r},fe()("Go to video"))),Object(J.d)("img",{css:Object(J.c)(O||(O=Y()(["\n          width: 100%;\n          border: 1px solid var(--cds-color-grey-200);\n        "]))),src:t,alt:fe()("note")}))},note_NoteInformation=function(e){var t,n,r,a,o,i,c,s=e.note,d=e.course,u=Object(ee.a)(),l=null!==(t=s.offsetNoteEndTsForDisplay)&&void 0!==t?t:s.noteEndTs,m=Object(ze.c)(null!==(n=s.offsetNoteStartTsForDisplay)&&void 0!==n?n:s.noteStartTs),g=l?Object(ze.c)(l):"",f=Object(Z.useMemo)((function(){return s.outsideTrimRange?fe()("#{itemName}, from start of video"):g?fe()("#{itemName}, video starts at #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}",{itemName:s.itemName,videoNoteStartTimestamp:m,videoNoteEndTimestamp:g}):fe()("#{itemName}, video starts at #{videoNoteStartTimestamp}",{itemName:s.itemName,videoNoteStartTimestamp:m})}),[s.itemName,s.outsideTrimRange,g,m]);return Object(J.d)(Z.Fragment,null,Object(J.d)(xe.a,{container:!0,alignItems:"center",wrap:"nowrap"},!s.snapshotUrl&&Object(J.d)("div",{css:Object(J.c)(x||(x=Y()(["\n              flex-shrink: 0;\n              height: var(--cds-spacing-300);\n            "])))},S||(S=Object(J.d)(Qe.a,{size:"large"}))),Object(J.d)(He.a,{trackingName:"highlight_link",data:{itemId:s.itemId},href:(a=d.slug,o=null!==(r=s.itemId)&&void 0!==r?r:"",i=s.outsideTrimRange?void 0:s.noteStartTs,c="".concat(Object(qe.c)(a),"/lecture/").concat(o),i?"".concat(c,"?t=").concat(Math.trunc(i)):c),target:"_blank",role:"link",rel:"noopener noreferrer",css:Object(J.c)(j||(j=Y()(["\n            margin: ",";\n          "])),u.spacing(0,0,0,s.snapshotUrl?0:8)),ariaLabel:f},s.snapshotUrl&&Object(J.d)("div",{"data-e2e":"snapshot-container",css:Object(J.c)(N||(N=Y()(["\n                margin: 0 0 var(--cds-spacing-200) 0;\n              "])))},Object(J.d)(NoteInformation_VideoSnapshot,{snapshotUrl:s.snapshotUrl})),Object(J.d)($e.a,{component:"p",color:"inherit"},s.itemName))),Object(J.d)($e.a,{component:"p",css:Object(J.c)(I||(I=Y()(["\n          margin: ",";\n\n          "," {\n            margin: ",";\n          }\n        "])),u.spacing(4,0,0,s.snapshotUrl?0:32),te.a.down("sm"),u.spacing(4,0,16,s.snapshotUrl?0:32)),variant:"bodySecondary",color:"supportText","aria-label":fe()("Duration"),dir:"ltr"},function(e){var t=e.captureTs,n=e.outsideTrimRange,r=e.offsetNoteStartTsForDisplay,a=e.offsetNoteEndTsForDisplay;return n?fe()("Timestamp unavailable as this portion of the video has been removed."):r&&a?"".concat(Object(ze.c)(r)," - ").concat(Object(ze.c)(a)):"".concat(Object(ze.c)(t))}(s)))},Ye=t("GAo5"),Ge=t("EvLv"),note_NoteView=function(e){var t=e.text,n=e.setCurrentState,r=e.note,formatAriaLabelForButton=function(e){var t=r.itemName,n=Object(ze.c)(r.noteStartTs),a=r.noteEndTs?Object(ze.c)(r.noteEndTs):"";return t?"EDIT"===e?a?fe()("Edit your notes for #{videoName} from time #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}",{videoName:t,videoNoteStartTimestamp:n,videoNoteEndTimestamp:a}):fe()("Edit your notes for #{videoName} from time #{videoNoteStartTimestamp}",{videoName:t,videoNoteStartTimestamp:n}):a?fe()("Delete your notes for #{videoName} from time #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}",{videoName:t,videoNoteStartTimestamp:n,videoNoteEndTimestamp:a}):fe()("Delete your notes for #{videoName} from time #{videoNoteStartTimestamp}",{videoName:t,videoNoteStartTimestamp:n}):"EDIT"===e?fe()("Edit your notes"):fe()("Delete your notes")};return Object(J.d)(Z.Fragment,null,t&&Object(J.d)(Z.Fragment,null,Object(J.d)($e.a,{component:"p",css:Object(J.c)(y||(y=Y()(["\n              margin: var(--cds-spacing-200) 0 var(--cds-spacing-100);\n            "]))),variant:"subtitleMedium","data-e2e":"video-note-label"},fe()("Your Notes")),Object(J.d)($e.a,{component:"p",variant:"bodyPrimary","data-e2e":"video-note-text"},t)),Object(J.d)(xe.a,{container:!0,alignItems:"flex-end",css:{flexGrow:1}},Object(J.d)(xe.a,{container:!0,justifyContent:"flex-start",css:{margin:"var(--cds-spacing-200) 0 0"}},Object(J.d)(xe.a,{item:!0,css:Object(J.c)(E||(E=Y()(["\n              /* Required to align the text in the button correctly with the rest of the notes */\n              margin-left: -8px;\n            "])))},Object(J.d)(Se.a,{icon:C||(C=Object(J.d)(Ye.a,{size:"small"})),iconPosition:"before",onClick:function(){return n(Ae.EDIT)},size:"small",variant:"ghost","aria-label":formatAriaLabelForButton("EDIT")},fe()("Edit"))),Object(J.d)(xe.a,{css:Object(J.c)(w||(w=Y()(["\n              margin: 0 0 0 var(--cds-spacing-200);\n            "]))),item:!0},Object(J.d)(Se.a,{icon:P||(P=Object(J.d)(Ge.a,{size:"small"})),iconPosition:"before",onClick:function(){return n(Ae.DELETE)},size:"small",variant:"ghost","aria-label":formatAriaLabelForButton("DELETE")},fe()("Delete"))))))},Be=Object(Z.forwardRef)((function(e,t){var n,r,a=e.note,o=e.course,i=e.onSave,c=e.onDelete,s=Object(Z.useState)(Ae.VIEW),d=B()(s,2),u=d[0],l=d[1],m=a.itemName,g=Object(Z.useRef)(null);Object(Z.useEffect)((function(){u===Ae.VIEW&&g.current&&g.current.focus()}),[u]);var f=null!==(n=a.offsetNoteStartTsForDisplay)&&void 0!==n?n:a.noteStartTs,p=null!==(r=a.offsetNoteEndTsForDisplay)&&void 0!==r?r:a.noteEndTs,v=Object(ze.c)(f),b=p?Object(ze.c)(p):"";return Object(J.d)("li",{css:Object(J.c)(D||(D=Y()(["\n        width: 100%;\n        list-style: none;\n      "]))),ref:t},U||(U=Object(J.d)(review_page_Divider,null)),Object(J.d)(xe.a,{tabIndex:-1,ref:g,container:!0,"data-e2e":"note-card","data-testid":"note-card"},Object(J.d)(xe.a,{item:!0,xs:12,sm:5,md:5,lg:4,xl:3,css:{padding:"0 var(--cds-spacing-400) 0 0"}},Object(J.d)(note_NoteInformation,{note:a,course:o})),Object(J.d)(xe.a,{item:!0,xs:12,sm:7,md:7,lg:8,xl:9},Object(J.d)(xe.a,{container:!0,direction:"column",css:{height:"100%"}},Object(J.d)(xe.a,{item:!0,css:{marginLeft:"var(--cds-spacing-50)"}},Object(J.d)($e.a,{component:"p",variant:"bodyPrimary","data-e2e":"video-section-text","data-testid":"video-section-text"},a.transcriptText)),u===Ae.VIEW&&Object(J.d)(note_NoteView,{setCurrentState:l,text:a.noteText,note:a}),u===Ae.EDIT&&Object(J.d)(note_NoteEdit,{setCurrentState:l,text:a.noteText,onSave:function(e){return i(a.id,e)}}),u===Ae.DELETE&&Object(J.d)(note_NoteDelete,{setCurrentState:l,onDelete:function(){c(a.id),l(Ae.VIEW)},note:a,text:b?fe()("#{itemName} from time #{noteStartTimestamp} to #{noteEndTimestamp}",{itemName:m,noteStartTimestamp:v,noteEndTimestamp:b}):fe()("#{itemName} from time #{noteStartTimestamp}",{itemName:m,noteStartTimestamp:v})})))))})),NoteList_NoteList=function(e){var t=function(){var e=Object(Z.useRef)(null);return[Object(Z.useCallback)((function(t){t&&t.querySelectorAll("a")[0].focus();e.current=t}),[])]}(),n=B()(t,1)[0];return Object(J.d)(data_ContentNotesDataProvider,{pageSize:20,contentType:e.module?"module":"course",course:e.course,module:e.module},(function(t){var r=t.notes,a=t.onLastPage,o=t.fetchNextPage,i=t.error,c=t.loadingInitialPage,s=t.loadingNextPage,d=t.updateNote,u=t.deleteNote;return Object(J.d)(data_ContentNotesTrimRangeDataProvider,{notes:r},(function(t){var r=t.notesWithTrimRange,l=t.loading,m=t.error;if(i||m)return V||(V=Object(J.d)(private_NotesReviewPageDataState,{dataState:"error"}));if(c||l)return M||(M=Object(J.d)(private_NotesReviewPageDataState,{dataState:"loading"}));if(!r||0===r.length)return k||(k=Object(J.d)(private_NotesReviewPageDataState,{dataState:"empty"}));var g=function(e){for(var t,n,r,a,o,i,c=0,s=c+1;s<e.length;){for(;s<e.length&&e[s].itemName===e[s-1].itemName;)s+=1;n=c,r=s,a=void 0,o=void 0,i=void 0,a=(t=e).slice(0,n),o=t.slice(r),i=t.slice(n,r).sort(Ee.a),t.length=0,t.push.apply(t,Oe()(a.concat(i).concat(o))),e=t,s=(c=s)+1}return e}(r);return Object(J.d)(Z.Fragment,null,Object(J.d)("ul",{css:Object(J.c)(W||(W=Y()(["\n                    margin: 0;\n                    padding: 0;\n                  "])))},g.map((function(t){return Object(J.d)(Be,{course:e.course,key:t.id,note:t,onSave:function(n,r){var a;d(n,Object(_e.d)({itemId:t.itemId,courseId:e.course.id,highlight:he()(he()({},t),{},{noteText:null!==(a=null!=r?r:t.noteText)&&void 0!==a?a:""}),languageCode:t.languageCode}))},onDelete:function(e){return u(e)},ref:t.shouldFocusOn?n:void 0})}))),F||(F=Object(J.d)(review_page_Divider,null)),!a&&Object(J.d)(xe.a,{container:!0,justifyContent:"center"},Object(J.d)(Se.a,{variant:"secondary",disabled:s,onClick:o},s?fe()("Loading Notes..."):fe()("See More Notes"))))}))}))},Je=t("He/R"),Ze=t("fguj"),Xe={container:Object(J.c)(L||(L=Y()(["\n    margin: var(--cds-spacing-150) 0 var(--cds-spacing-300);\n  "]))),selectField:Object(J.c)(z||(z=Y()(["\n    "," {\n      max-width: 306px;\n    }\n  "])),te.a.down("xs"))},review_page_NotesPageFilterDropdown=function(e){var t=e.course,n=e.modules,r=e.selectedContentId,a=e.onSelect,o=void 0===a?function(){}:a,i=r||t.id,c=he()({contentType:"course"},t),s=n.map((function(module){return he()({contentType:"module"},module)})),d=[c].concat(Oe()(s));return Object(J.d)("div",{css:Xe.container,className:"rc-NotesPageFilterDropdown"},Object(J.d)(Je.a,{label:fe()("Filter"),value:i,onChange:function(e){return o(e.target.value)},css:Xe.selectField},d.map((function(e){var t=e&&"course"!==e.contentType?e.name:fe()("All notes");return Object(J.d)(Ze.a,{key:e.id,value:e.id},t)}))))};t.d(e,"NotesReviewPageWithCourseData",(function(){return NotesReviewPage_NotesReviewPageWithCourseData}));var NotesReviewPage_NotesReviewPageWithCourseData=function(e){var t=Object(Z.useState)(),n=B()(t,2),r=n[0],a=n[1];Z.useEffect((function(){ae.a.get("LearnerNotesPendoSampleIncluded")&&Object(re.a)()}),[]);var o=Object(ee.a)();return Object(J.d)("div",{css:Object(J.c)(A||(A=Y()(["\n        "," {\n          margin: var(--cds-spacing-400) 0;\n        }\n\n        "," {\n          margin: var(--cds-spacing-200) 0;\n        }\n\n        a:focus {\n          outline-offset: 2px;\n        }\n\n        /* \n          We are setting the typography of components that are not yet migrated to CDS and that are still being used by the original page \n          We don't want to override the font if the rest of the page is not using CDS\n        */\n        .rc-NotesReviewPageDataState * {\n          ",";\n        }\n\n        .rc-NotesReviewPageDataState {\n          margin: var(--cds-spacing-600) 0 0;\n        }\n      "])),te.a.up("md"),te.a.down("sm"),o.typography.h2)},Object(J.d)(ne.a,{variant:"h1semibold",css:Object(J.c)(R||(R=Y()(["\n          margin: 0 0 var(--cds-spacing-600);\n          "," {\n            margin: 0 0 var(--cds-spacing-400);\n          }\n        "])),te.a.down("sm"))},fe()("Notes")),Object(J.d)(review_page_NotesPageFilterDropdown,{modules:e.modules,course:e.course,selectedContentId:r,onSelect:a}),Object(J.d)(NoteList_NoteList,{course:e.course,module:e.modules.find((function(e){return e.id===r}))||null}))},Ke=K.a.createTrackedContainer((function(e){return{namespace:{page:"notes_review"},courseId:e.course.id}}))(NotesReviewPage_NotesReviewPageWithCourseData);e.default=function(e){var t=e.params.courseSlug;return Object(J.d)(data_CourseContentDataProvider,{courseSlug:t},(function(e){var t=e.course,n=e.modules,r=e.error,a=e.loading;return r?Q||(Q=Object(J.d)(private_NotesReviewPageDataState,{dataState:"error"})):a?q||(q=Object(J.d)(private_NotesReviewPageDataState,{dataState:"loading"})):Object(J.d)(Ke,{course:t,modules:n})}))}},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return reshapeHighlightForClient})),t.d(e,"f",(function(){return updateHighlight})),t.d(e,"b",(function(){return g})),t.d(e,"c",(function(){return deleteHighlight})),t.d(e,"a",(function(){return compareHighlightsByStartTimestamp})),t.d(e,"d",(function(){return f}));var n=t("fsL8"),r=t.n(n),a=t("yXPU"),o=t.n(a),i=t("fw5G"),c=t.n(i),s=t("v6sC"),d=t("sQ/U"),u=t("p6CZ"),l=Object(s.a)("/api/userNotes.v1",{type:"rest"}),m=function(){var e=o()(r()().mark((function _callee(e,t,n,a,o){var i,d,m,g,f;return r()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=(new c.a).addQueryParam("action","getScreenShotUploadUrlV2").addQueryParam("courseId",e).addQueryParam("itemId",t).addQueryParam("userId",a).addQueryParam("timestamp",n),r.next=3,l.post(i.toString());case 3:return d=r.sent,m=d.split("?")[0],g=Object(u.c)(o),f=Object(s.a)(d,{type:"rest"}),r.next=9,f.put("",{contentType:"image/png",data:g,processData:!1});case 9:return r.abrupt("return",m);case 10:case"end":return r.stop()}}),_callee)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),reshapeHighlightForClient=function(e){var t=e.id,n=e.createdAt,r=e.updatedAt,a=e.userText,o=e.shouldFocusOn,i=e.details.definition,c=i.noteEndTs,s=i.noteStartTs,d=i.captureTs,u=i.snapshotUrl,l=i.transcriptTextStartIndex,m=i.transcriptTextEndIndex,g=i.transcriptText,f=i.itemId,p=i.itemName;return{id:t,itemId:f,courseId:i.courseId,itemName:p,clientId:t,createdAt:n,updatedAt:r,languageCode:i.languageCode,noteText:a,noteEndTs:c&&c/1e3,noteStartTs:s&&s/1e3,captureTs:d&&d/1e3,snapshotUrl:u,transcriptTextStartIndex:l,transcriptTextEndIndex:m,transcriptText:g,pendingCreate:!1,pendingUpdate:!1,shouldFocusOn:o}},updateHighlight=function(e){var t=e.itemId,n=e.courseId,r=e.languageCode,a=e.id,o=e.highlight,i=new c.a(a),s=Object(u.d)({itemId:t,courseId:n,highlight:o,languageCode:r});return l.put(i.toString(),{data:s})},g=function(){var e=o()(r()().mark((function _callee2(e){var t,n,a,o,i,c,s,g,f,p,v;return r()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.itemId,i=e.courseId,c=e.languageCode,s=e.highlight,g=Object(u.d)({itemId:o,courseId:i,highlight:s,languageCode:c}),f=d.a.get().id,!s.snapshotDataUrl){r.next=8;break}return r.next=6,m(i,o,g.details.definition.noteStartTs,f,s.snapshotDataUrl);case 6:p=r.sent,g.details.definition.snapshotUrl=p;case 8:return r.next=10,l.post("",{data:g});case 10:return v=r.sent,r.abrupt("return",{id:v.elements[0].id,snapshotUrl:(null===(t=v.elements[0])||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:null===(a=n.definition)||void 0===a?void 0:a.snapshotUrl)||""});case 12:case"end":return r.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),deleteHighlight=function(e){var t=e.id,n=new c.a(t);return l.delete(n.toString())},compareHighlightsByStartTimestamp=function(e,t){return e.noteStartTs<t.noteStartTs?-1:e.noteStartTs>t.noteStartTs?1:0},f=function(){var e=o()(r()().mark((function _callee3(e){var t,n,a,o,i;return r()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.itemId,n=e.courseId,a=e.languageCode,o=(new c.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",a).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),r.next=4,l.get(o.toString());case 4:return i=r.sent,r.abrupt("return",i.elements.map(reshapeHighlightForClient).sort(compareHighlightsByStartTimestamp));case 6:case"end":return r.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}()},nS3k:function(module,exports,e){e("D77H")},p6CZ:function(module,e,t){"use strict";var n=t("k8gO"),r=t("F9YM");t.d(e,"c",(function(){return getBlobFromDataURI})),t.d(e,"b",(function(){return highlightUtils_generateHighlightFromTranscriptSelection})),t.d(e,"a",(function(){return highlightUtils_generateHighlightFromCaptureButton})),t.d(e,"d",(function(){return getDraftFromHighlight}));var getBlobFromDataURI=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r),o=0;o<t.length;o+=1)a[o]=t.charCodeAt(o);return new Blob([r],{type:n})},highlightUtils_generateHighlightFromTranscriptSelection=function(e,t){var r=e.transcriptTextStartIndex,a=e.transcriptTextEndIndex,o=t.cues.filter((function(e){return e.index>=r.cueIndex&&e.index<=a.cueIndex})),i=o.reduce((function(e,t){var n=t.index,o=t.text,i=r.cueIndex,c=r.textIndex,s=a.cueIndex,d=a.textIndex;return n===i?n===s?"".concat(e).concat(o.substring(c,d+1)):"".concat(e).concat(o.substring(c)):n===s?"".concat(e," ").concat(o.substring(0,d+1)):"".concat(e," ").concat(o)}),""),c=Object(n.a)(),s=c,d=o[0],u=o[o.length-1].endTime;return{id:c,clientId:s,captureTs:d.startTime,noteStartTs:d.startTime,noteEndTs:u,transcriptText:i,noteText:"",languageCode:t.languageCode,transcriptTextStartIndex:r,transcriptTextEndIndex:a,pendingCreate:!0,pendingUpdate:!1}},highlightUtils_generateHighlightFromCaptureButton=function(e,t){var a=Object(n.a)(),o=a,i=e.languageCode,c=t.currentTime(),s=Object(r.d)(e.cues,c,i),d=s[0],u=s[s.length-1],l=s.reduce((function(e,t){return t.index===d.index?"".concat(e).concat(t.text):"".concat(e," ").concat(t.text)}),""),m={textIndex:0,cueIndex:d.index},g={textIndex:u.text.length-1,cueIndex:u.index},f=u.endTime;return{id:a,clientId:o,captureTs:c,noteStartTs:d.startTime,noteEndTs:f,transcriptText:l,noteText:"",languageCode:i,transcriptTextStartIndex:m,transcriptTextEndIndex:g,snapshotDataUrl:function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=e.el().querySelector("video"),r=t.getContext("2d");return r&&n&&r.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")}(t),pendingCreate:!0,pendingUpdate:!1}},getDraftFromHighlight=function(e){var t=e.itemId,n=e.courseId,r=e.highlight,a=e.languageCode,o=r.noteStartTs,i=r.noteEndTs,c=r.captureTs,s=r.snapshotUrl,d=r.transcriptText,u=r.noteText,l=r.transcriptTextEndIndex;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:s||"",transcriptTextStartIndex:r.transcriptTextStartIndex,transcriptTextEndIndex:l,languageCode:a,transcriptText:d,noteEndTs:i&&1e3*i,captureTs:c&&1e3*c,noteStartTs:o&&1e3*o}},userNote:u}}}}]);
//# sourceMappingURL=en.74.b1cf6d0a5e5007a5a0c5.js.map